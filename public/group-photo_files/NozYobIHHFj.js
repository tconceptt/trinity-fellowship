;/*FB_PKG_DELIM*/

__d("mlcEditableSubscription",[],(function(t,n,r,o,a,i){"use strict";function e(e){return{initialValueFn:function(){return e.isEditable()},subscribe:function(n){return e.registerEditableListener(n)}}}i.default=e}),66);
__d("useCometLexicalSubscription",["react","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useLayoutEffect,d=u.useState;function m(t){var n=(e||(e=r("useUnsafeRef_DEPRECATED")))(t.initialValueFn()),o=d(n.current),a=o[0],i=o[1];return c(function(){var e=t.initialValueFn,r=t.subscribe,o=e();return n.current!==o&&(n.current=o,i(o)),r(function(e){n.current=e,i(e)})},[t]),a}l.default=m}),98);
__d("CometLexicalContentEditable.react",["CometLexicalContentEditableCommands","Lexical","LexicalComposerContext","LexicalContentEditable","mlcEditableSubscription","react","stylex","useCometLexicalSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaAutoComplete","ariaDescribedBy","ariaExpanded","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwneeID","ariaRequired","autoCapitalize","autoComplete","autoCorrect","contentEditableRef","isInitiallyFocused","role","spellCheck","tabIndex","webDriverTestID","xstyle"],s,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useLayoutEffect,_=d.useMemo,f=d.useState,g={editor:{color:"xzsf02u",outline:"x1a2a7pz",position:"x1n2onr6",textAlign:"x14wi4xw",$$css:!0}};function h(t){var n,a=t.ariaAutoComplete,i=t.ariaDescribedBy,l=t.ariaExpanded,u=t.ariaLabel,d=t.ariaLabelledBy,h=t.ariaMultiline,y=t.ariaOwneeID,C=t.ariaRequired,b=t.autoCapitalize,v=t.autoComplete,S=t.autoCorrect,R=t.contentEditableRef,L=t.isInitiallyFocused,E=L===void 0?!1:L,k=t.role,I=k===void 0?"textbox":k,T=t.spellCheck,D=T===void 0?!1:T,x=t.tabIndex,$=t.webDriverTestID,P=t.xstyle,N=babelHelpers.objectWithoutPropertiesLoose(t,e),M=o("LexicalComposerContext").useLexicalComposerContext(),w=M[0],A=f(void 0),F=A[0],O=A[1],B=f(void 0),W=B[0],q=B[1],U=r("useCometLexicalSubscription")(_(function(){return r("mlcEditableSubscription")(w)},[w]));return p(function(){return w.registerCommand(o("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,function(e){return Object.prototype.hasOwnProperty.call(e,"activeDescendantID")&&O(e.activeDescendantID),Object.prototype.hasOwnProperty.call(e,"controlsID")&&q(e.controlsID),!1},o("Lexical").COMMAND_PRIORITY_EDITOR)},[w]),m(function(){E&&w.focus(function(){var e=document.activeElement,t=w.getRootElement();(!(t!=null&&t.contains(e))||t!=null||e==null)&&(t==null||t.focus({preventScroll:!0}))})},[w,E]),c.jsx(o("LexicalContentEditable").ContentEditable,babelHelpers.extends({ariaActiveDescendant:F!=null?F:void 0,ariaAutoComplete:a,ariaControls:W!=null?W:void 0,ariaDescribedBy:i,ariaExpanded:l,ariaLabel:(n=u==null?void 0:u.toString())!=null?n:void 0,ariaLabelledBy:d,ariaMultiline:h,ariaOwns:y,ariaRequired:C!=null?C:void 0,autoCapitalize:b,autoComplete:v,autoCorrect:S,className:(s||(s=r("stylex")))(g.editor,P)+" "+(U?"notranslate":""),"data-testid":void 0,ref:R,role:I,spellCheck:D,suppressContentEditableWarning:!0,tabIndex:x},N))}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),98);
__d("CometLexicalPlaceholder.react",["react","stylex","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={placeholder:{color:"xi81zsa",insetInlineStart:"x1o0tod",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",textOverflow:"xlyipyv",top:"x13vifvy",userSelect:"x87ps6o",whiteSpace:"xuxw1ft",width:"xh8yej3",$$css:!0}};function d(t){var n=t.children,o=t.xstyle;return r("vulture")("8bhXKXU0aHfcLls6rFjEEAAScAo="),u.jsx("div",babelHelpers.extends({children:n},(e||(e=r("stylex"))).props(c.placeholder,o)))}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("CometPhotoGrid.react",["BaseAspectRatioContainer.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=4,c=6,d={item:{boxSizing:"x9f619",flexBasis:"x1yu6fn4",$$css:!0},itemEnlarged:{flexBasis:"x4pfjvb",$$css:!0},itemNarrowSpacing:{paddingTop:"x1nn3v0j",paddingInlineEnd:"x14vy60q",paddingBottom:"x1120s5i",paddingInlineStart:"xyiysdx",$$css:!0},itemWideSpacing:{paddingTop:"xyqdw3p",paddingInlineEnd:"x1im30kd",paddingBottom:"xg8j3zb",paddingInlineStart:"x1djpfga",$$css:!0},wrapper:{display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",$$css:!0},wrapperNarrowSpacing:{marginTop:"x1kgmq87",marginInlineEnd:"x11lt19s",marginBottom:"xmgb6t1",marginInlineStart:"xe9ewy2",$$css:!0},wrapperWideSpacing:{marginTop:"x1198e8h",marginInlineEnd:"x18faa90",marginBottom:"x1huwwth",marginInlineStart:"x4h0osi",$$css:!0}};function m(e,t){return e<2&&t%3===2}function p(e){var t=e.children,n=e.spacing,a=n===void 0?"narrow":n,i=e.uniformGrid,l=i===void 0?!1:i,u=s.Children.toArray(t),c=u.length;return s.jsx(o("react-strict-dom").html.div,{style:[d.wrapper,a==="narrow"&&d.wrapperNarrowSpacing,a==="wide"&&d.wrapperWideSpacing],children:s.Children.map(u,function(e,t){return s.jsx(o("react-strict-dom").html.div,{style:[d.item,a==="wide"&&d.itemWideSpacing,a==="narrow"&&d.itemNarrowSpacing,!l&&m(t,c)&&d.itemEnlarged],children:s.jsx(r("BaseAspectRatioContainer.react"),{aspectRatio:1,children:e})})})})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("CometVideoPlayerLoggingConfigForIGDMusicSticker",["IGVideoMetadataProvider"],(function(t,n,r,o,a,i,l){"use strict";function e(){return{disableCVCSubscription:!0,disableLogging:!1,loggingToSNAPLCreateMetadataProvider:o("IGVideoMetadataProvider").createIGVideoMetadataProvider,loggingToSNAPLEnabled:!0,loggingToVPLEnabled:!1}}l.createCometVideoPlayerLoggingConfigForIGDMusicSticker=e}),98);
__d("E2EELinkPreviewXMADataStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({LOADED:1,LOADING:2,DISABLED:3});i.default=e}),66);
__d("FDSAppThreadsFilled16Icon",["cr:14370"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14370")}),98);
__d("FDSBlurredBackgroundImage.react",["CometBackgroundImage.react","XPlatReactEnvironment","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["xstyle"],s,u=s||(s=o("react")),c={imageContainer:{filter:"xtea3wc",height:"xu1mrb",$$css:!0},imageContainerVR:{transform:"x15f76sd",$$css:!0},imageContainerWeb:{transform:"x1yyh9jt",width:"x1jx8tsq",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0}};function d(t){var n=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(o("react-strict-dom").html.div,{style:[c.root,n],children:u.jsx(o("react-strict-dom").html.div,{style:[c.imageContainer,o("XPlatReactEnvironment").isWeb()?c.imageContainerWeb:c.imageContainerVR],children:u.jsx(r("CometBackgroundImage.react"),babelHelpers.extends({},a))})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("FDSImageCover.react",["BaseImage_DEPRECATED.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["alt","loading","onError","onLoad","src","style"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useRef,p=c.useState,_=(function(){var e=document.documentElement;return e==null?!0:"objectFit"in e.style})();function f(t){var n=t.alt,o=t.loading,a=t.onError,i=t.onLoad,l=t.src,s=t.style,c=babelHelpers.objectWithoutPropertiesLoose(t,e),_=p(null),f=_[0],g=_[1],h=m(),y=d(function(){var e=h.current;e==null||!(e instanceof HTMLImageElement)||typeof e.src!="string"||(g(e.src),i!=null&&i())},[i]);return f!=null?u.jsx("div",{className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3",style:babelHelpers.extends({backgroundImage:"url("+f+")",backgroundPosition:"center center",backgroundSize:"cover"},s)}):u.jsx(r("BaseImage_DEPRECATED.react"),babelHelpers.extends({},c,{className:"xqtp20y xnalus7",loading:o||void 0,onError:a,onLoad:y,ref:h,src:l,style:s}))}f.displayName=f.name+" [from "+i.id+"]";function g(e){return u.jsx(r("BaseImage_DEPRECATED.react"),babelHelpers.extends({className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3"},e))}g.displayName=g.name+" [from "+i.id+"]";var h=_?g:f;l.default=h}),98);
__d("IGDAWAdminWriteMsgTxn",["I64","LSAuthorityLevel","LSIntEnum","LSMessageSendStatus","LSMessageUnsendabilityStatus","WAGlobals","WAJids","asyncToGeneratorRuntime","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var a,i,l=r("uuidv4")(),u="admin:"+(e||(e=o("I64"))).to_string(n.threadKey)+":"+l,c=(a=n.timestampMs)!=null?a:(e||(e=o("I64"))).of_float(Date.now());yield t.messages.put({adminMsgCtaType:n.ctaType,authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:s.ofNumber(r("LSMessageUnsendabilityStatus").DENY_LOG_MESSAGE),displayedContentTypes:s.ofNumber(32),isAdminMessage:!0,messageId:u,offlineThreadingId:l,primarySortKey:c,secondarySortKey:void 0,senderId:(i=n.senderId)!=null?i:(e||(e=o("I64"))).of_string(o("WAJids").extractUserId(o("WAGlobals").getMyUserJid())),sendStatus:s.ofNumber(r("LSMessageSendStatus").SERVER_RECEIVED),sendStatusV2:s.ofNumber(2),text:n.text,threadKey:n.threadKey,timestampMs:c,transportKey:"FBBroker"})}),c.apply(this,arguments)}l.writeAdminMessageTxn=u}),98);
__d("IGDMessageBubbleSelector.react",["cr:4342","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));l.default=n("cr:4342")}),98);
__d("IGDChatBubble.react",["IGDMessageBubbleSelector.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.memo,c={container:{paddingTop:"xm7lytj",paddingInlineEnd:"xpdmqnj",paddingBottom:"x1ykpatu",paddingInlineStart:"x1g0dm76",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.connectBottom,i=e.connectTop,l=e.outgoing,u=e.precedesXMA,d=l?"right":"left",m=l?"outgoing":"incoming",p;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==u||t[4]!==d||t[5]!==m?(p=s.jsx(r("IGDMessageBubbleSelector.react"),{align:d,color:m,connectBottom:a,connectTop:i,precedesXMA:u,xstyle:c.container,children:n}),t[0]=n,t[1]=a,t[2]=i,t[3]=u,t[4]=d,t[5]=m,t[6]=p):p=t[6],p}var m=u(d);l.default=m}),98);
__d("IGDChatEmoji.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={chatEmoji:{fontSize:"xu54ipa",lineHeight:"xb7ehew",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",whiteSpace:"x126k92a",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(5),a=t.text,i=t.xstyle;if(a!=null){var l;n[0]!==i?(l=(e||(e=r("stylex"))).props(c.chatEmoji,i),n[0]=i,n[1]=l):l=n[1];var s;return n[2]!==l||n[3]!==a?(s=u.jsx("span",babelHelpers.extends({},l,{children:a})),n[2]=l,n[3]=a,n[4]=s):s=n[4],s}else return null}l.default=d}),98);
__d("IGDComposerConstants",[],(function(t,n,r,o,a,i){"use strict";var e=1e3;i.IGD_COMPOSER_MAX_LENGTH=e}),66);
__d("IGDComposerEmojiButton.react",["IGDEmojiButtonEntryPointPopoverTrigger.react","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","MessengerWebUXLogger","Promise","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("JSResourceForInteraction")("IGDAddEmojiToComposerForLexical").__setRef("IGDComposerEmojiButton.react");function d(t){var a=o("react-compiler-runtime").c(11),i=t.editor,l;a[0]!==i?(l=function(o){r("promiseDone")(c.load().then(function(t){return t(o,i),(e||(e=n("Promise"))).resolve()}))},a[0]=i,a[1]=l):l=a[1];var s=l,d=r("MessengerWebUXLogger").useInteractionLogger(),m=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),p;a[2]!==m?(p={eventName:"composer_emoji_picker_button_rendered",flowInstanceId:m},a[2]=m,a[3]=p):p=a[3];var _=r("MessengerWebUXLogger").useImpressionLoggerRef(p),f;a[4]!==m||a[5]!==d?(f=function(){d==null||d({eventName:"composer_open_emoji_picker",flowInstanceId:m})},a[4]=m,a[5]=d,a[6]=f):f=a[6];var g=f,h;return a[7]!==g||a[8]!==_||a[9]!==s?(h=u.jsx(r("IGDEmojiButtonEntryPointPopoverTrigger.react"),{logClickEvent:g,logImpressionEventRef:_,onSelect:s}),a[7]=g,a[8]=_,a[9]=s,a[10]=h):h=a[10],h}l.default=d}),98);
__d("IGDComposerIconSendButton.react",["fbt","IGDSBox.react","IGDSIconButton.react","IGDSMessagesFilledIcon.react","PolarisUA","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={chatTabSendButtonDesktop:{marginInlineEnd:"x1mpyi22",$$css:!0},sendButton:{alignSelf:"x7fd4wk",backgroundColor:"x5slmwz",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",height:"x90ne7k",marginBottom:"xu06os2",width:"xvni27",$$css:!0},sendButtonDesktop:{marginBottom:"xjpr12u",marginInlineEnd:"xnnr8r",$$css:!0},sendButtonDisabled:{cursor:"x1h6gzvc",opacity:"xuzhngd",$$css:!0},sendButtonOnHover:{":hover_filter":"x1spsku0",$$css:!0},sendButtonPrismIcon:{marginTop:"xdj266r",$$css:!0},sendEditButtonMobile:{marginBottom:"xat24cr",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(8),n=e.hidden,a=e.isDisabled,i=e.isEdit,l=e.onClick,d=e.ref,m=e.testid,p=r("useIsChatTabsDisplay")(),_;return t[0]!==n||t[1]!==p||t[2]!==a||t[3]!==i||t[4]!==l||t[5]!==d||t[6]!==m?(_=n!==!0&&u.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:d,isDisabled:a,label:s._(/*BTDS*/"Send"),onClick:l,xstyle:[c.sendButton,a?c.sendButtonDisabled:c.sendButtonOnHover,i===!0&&(o("PolarisUA").isMobile()?c.sendEditButtonMobile:[c.sendButtonDesktop,p&&c.chatTabSendButtonDesktop])],children:u.jsx(r("IGDSBox.react"),{xstyle:c.sendButtonPrismIcon,children:u.jsx(r("IGDSMessagesFilledIcon.react"),{alt:s._(/*BTDS*/"Send"),color:"web-always-white",size:18})})}),t[0]=n,t[1]=p,t[2]=a,t[3]=i,t[4]=l,t[5]=d,t[6]=m,t[7]=_):_=t[7],_}l.default=d}),226);
__d("IGDGetMessageForLSOptimisticEdit",["LSDatabaseSingleton","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.messageId,r=t.threadKey,a=t.timestampMs,i=yield(e||(e=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue(),l=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.messages).getKeyRange(r,a,n));return l}),u.apply(this,arguments)}l.default=s}),98);
__d("IGDRevertOptimisticMessage",["LSDatabaseSingleton","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=yield(e||(e=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue();return r.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield e.messages.put(t)});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":20")}),u.apply(this,arguments)}l.default=s}),98);
__d("IGDWriteOptimisticLSEditMessage",["I64","LSDatabaseSingleton","LSIntEnum","LSMessageSendStatus","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.message,l=t.text,c=yield(e||(e=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue(),d=a.editCount!=null?(s||(s=o("I64"))).to_float(a.editCount):0,m=d+1,p=babelHelpers.extends({},a,{editCount:(s||(s=o("I64"))).of_float(m),sendStatus:(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:u.ofNumber(1),text:l});return c.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield e.messages.put(p)});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":42")}),d.apply(this,arguments)}l.default=c}),98);
__d("IGDMAPIEditMessage",["IGDGetMessageForLSOptimisticEdit","IGDMAPIQPLPoints","IGDMessageSendService","IGDRevertOptimisticMessage","IGDWriteOptimisticLSEditMessage","QPLFlow","asyncToGeneratorRuntime","createIGDMessageSendContext","getSafeQplErrorMessage","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=r("createIGDMessageSendContext")(e,t.messageId,t.offlineThreadingId),i=o("QPLFlow").startQPLFlow(r("qpl")._(354954279,"1622"),{annotations:{string:{type:o("IGDMAPIQPLPoints").IGDMAPIQPLSendType.EDIT_MESSAGE}},instanceKey:a.instanceKey}),l=n!=null?yield r("IGDGetMessageForLSOptimisticEdit")({messageId:t.messageId,threadKey:n.threadKey,timestampMs:n.timestampMs}):null;try{var s={body:{sensitive_string_value:t.text},offline_threading_id:t.offlineThreadingId,target_message_id:t.messageId,thread_id:t.threadId},u={variables:s};n!=null&&l!=null&&(i.addAnnotations({bool:{hasLSOptimisticMessage:!0}}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_START),yield r("IGDWriteOptimisticLSEditMessage")({message:l,text:t.text}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_END)),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_START);var c=o("IGDMessageSendService").makeMessagePublishService();i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_END),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_START),yield c.publish({commitMutationConfig:u,type:"edit_message"},a,i),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_END),i.endSuccess()}catch(e){n!=null&&l!=null&&(i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_START),yield r("IGDRevertOptimisticMessage")(l),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_END)),i.endFail("runtime-error",{string:{error:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})}}),s.apply(this,arguments)}l.IGDMAPIEditMessage=e}),98);
__d("IGDOffMsysComposerUtils",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("842")===!0}l.enableIGDOffMsysComposer=e}),98);
__d("MWXCircleButton.react",["BaseTheme.react","MWXSvgIcon","MWXThreadThemeColor","cr:6681","cr:7510","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["aria-label","color","icon","ref","size","type"],s,u=s||(s=o("react")),c=s.useMemo;function d(t){var a=t["aria-label"],i=t.color,l=t.icon,s=t.ref,d=t.size,m=t.type,p=babelHelpers.objectWithoutPropertiesLoose(t,e),_=i instanceof o("MWXThreadThemeColor").MWXThreadThemeColor?"primary":i,f=c(function(){return i instanceof o("MWXThreadThemeColor").MWXThreadThemeColor?{dark:{"primary-icon":i.color},light:{"primary-icon":i.color},type:"VARIABLES"}:void 0},[i]),g=l instanceof o("MWXSvgIcon").MWXSvgIcon?l.component:l,h=null;return n("cr:7510")!=null&&(h=u.jsx(n("cr:7510"),babelHelpers.extends({"aria-label":a,color_DEPRECATED:_,icon:g,size:d,type_DEPRECATED:m},p,{ref:s}))),n("cr:6681")!=null&&(h=u.jsx(n("cr:6681"),babelHelpers.extends({color:_,icon:g,iconRatio:l instanceof o("MWXSvgIcon").MWXSvgIcon?"medium":void 0,label:a,size:d,type:m},p,{ref:s}))),f!=null?u.jsx(r("BaseTheme.react"),{config:f,children:h}):h}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXIconCross",["MWXSvgIcon","SVGIcon","cr:22288","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22288")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconDocument",["MWXSvgIcon","SVGIcon","cr:22296","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22296")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconPhotoPlus",["MWXSvgIcon","SVGIcon","cr:22434","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22434")),r("gkx")("23219"));l.default=e}),98);
__d("MWXImage.react",["cr:1261","cr:2838","cr:6682","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["objectFit","src"],s,u=s||(s=o("react"));function c(t){var r=t.objectFit,o=t.src,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return n("cr:6682")!=null?u.jsx(n("cr:6682"),babelHelpers.extends({objectFit:r,src:o},a)):typeof o=="string"?n("cr:2838")!=null?u.jsx(n("cr:2838"),babelHelpers.extends({objectFit:r,src:o},a)):null:n("cr:1261")!=null?u.jsx(n("cr:1261"),babelHelpers.extends({src:o},a)):null}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXComposerAttachmentPreview.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXIconDocument","MWXIconPhotoPlus","MWXIconStrict.react","MWXImage.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MWXVideoStatusListener.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useRef,p={cancelButton:{insetInlineEnd:"xgvahye",left:null,right:null,position:"x10l6tqk",top:"x1v4kod4",$$css:!0},card:{marginInlineEnd:"xbmvrgn",position:"x1n2onr6",$$css:!0},contentWrapper:{backgroundColor:"x1qhmfi1",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xsdox4t",minWidth:"x900493",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},filePreview:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",rowGap:"xp1r0qw",columnGap:"xtqikln",height:"xsdox4t",maxWidth:"x1kbpmyu",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",width:"xezivpi",$$css:!0},imagePreview:{alignItems:"x6s0dn4",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0},playIcon:{insetInlineStart:"xbudbmw",left:null,right:null,marginInlineStart:"x18xomjl",marginTop:"x7wgvq7",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function _(e){var t=e.hasError,n=t===void 0?!1:t,r=e.progress;if(r===1||r==null)return null;var o=4,a=n?"var(--negative)":"var(--chat-composer-button-color, var(--accent))",i=Math.ceil(r*100),l=(o/2).toString(),s="M 0,"+l+" L 100,"+l;return u.jsxs("svg",{"aria-hidden":!0,className:"x15mokao x1ga7v0g xde0f50 x15x8krk x1ey2m1c x1o0tod x10l6tqk xh8yej3",preserveAspectRatio:"none",style:{height:o.toString()},viewBox:"0 0 100 "+o.toString(),children:[u.jsx("path",{d:s,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:o.toString()}),u.jsx("path",{d:s,stroke:a,strokeLinecap:"round",strokeWidth:(i===0?0:o).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-i).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t=e.children,n=e.hasError,a=n===void 0?!1:n,i=e.onCancel,l=e.progress,c=e.testid;return u.jsxs(o("react-strict-dom").html.div,{"data-testid":void 0,style:p.card,children:[u.jsxs(o("react-strict-dom").html.div,{style:p.contentWrapper,children:[t,u.jsx(_,{hasError:a,progress:l})]}),i!=null&&u.jsx(o("react-strict-dom").html.div,{style:p.cancelButton,children:u.jsx(r("MWXCircleButton.react"),{"aria-label":s._(/*BTDS*/"Cancel"),icon:r("MWXIconCross"),onPress:i,size:24,type:"overlay"})})]})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=e.hasError,n=t===void 0?!1:t,o=e.onCancel,a=e.onError,i=e.onLoad,l=e.progress,s=e.src;return u.jsx(f,{hasError:n,onCancel:o,progress:l,testid:void 0,children:u.jsx(r("MWXImage.react"),{objectFit:"contain",onError:a,onLoad:i,src:s,xstyle:p.imagePreview})})}g.displayName=g.name+" [from "+i.id+"]";function h(e){var t=e.hasError,n=t===void 0?!1:t,a=e.onCancel,i=e.onError,l=e.onLoad,s=e.progress,c=e.src,d=m(null);return u.jsxs(f,{hasError:n,onCancel:a,progress:s,testid:void 0,children:[u.jsx(r("MWXVideoStatusListener.react"),{onError:i,onLoad:l,videoRef:d}),u.jsx("video",{className:"xl1xv1r",height:"48",ref:d,src:c,width:"48"}),u.jsx(o("react-strict-dom").html.div,{style:p.playIcon,children:u.jsx(r("MWXImage.react"),{src:"/images/video/play_24dp.png"})})]})}h.displayName=h.name+" [from "+i.id+"]";function y(e){var t=e.hasError,n=t===void 0?!1:t,a=e.onCancel,i=e.onLoad,l=e.progress,s=e.title;return d(function(){i==null||i()},[i]),u.jsx(f,{hasError:n,onCancel:a,progress:l,testid:void 0,children:u.jsx(r("MWXTooltip.react"),{position:"above",tooltip:s,children:u.jsxs(o("react-strict-dom").html.div,{style:p.filePreview,children:[u.jsx(r("MWXIconStrict.react"),{icon:r("MWXIconDocument"),isDecorative:!0,size:20}),u.jsx(r("MWXText.react"),{numberOfLines:2,type:"bodyLink3",children:s})]})})})}y.displayName=y.name+" [from "+i.id+"]";function C(e){var t=e.isDisabled,n=e.onPress,o=s._(/*BTDS*/"Upload another file");return u.jsx(f,{children:u.jsx(r("MWXPressable.react"),{"aria-label":o,disabled:t,onPress:n,testid:void 0,xstyle:p.imagePreview,children:u.jsx(r("MWXIconStrict.react"),{color:t?"disabled":"primary",icon:r("MWXIconPhotoPlus"),size:24})})})}C.displayName=C.name+" [from "+i.id+"]",l.MWXComposerImageAttachmentPreview=g,l.MWXComposerVideoAttachmentPreview=h,l.MWXComposerFileAttachmentPreview=y,l.MWXComposerAddAttachmentButton=C}),226);
__d("MWXComposerButtonContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({});l.default=u}),98);
__d("MWXComposerRow.react",["react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={padding12:{paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",$$css:!0},padding4:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},padding6:{paddingTop:"x1yrsyyn",paddingInlineEnd:"x1icxu4v",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",$$css:!0},row:{alignItems:"xpqajaz",boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},scrollable:{contain:"x41o525",overflowX:"xw2csxc",overflowY:"x1odjw0f",$$css:!0}};function c(e){var t=e.children,n=e["data-testid"],r=e.padding,a=r===void 0?0:r,i=e.scrollable,l=e.xStyle;return s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:[u.row,a===12&&u.padding12,a===4&&u.padding4,a===6&&u.padding6,i===!0&&u.scrollable,l],children:t})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXComposerHeader.react",["MWXComposerButtonContext.react","MWXComposerRow.react","MWXText.react","MWXTextPairing.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={body:{alignItems:"x6s0dn4",paddingBottom:"x1120s5i",paddingInlineStart:"x1onr9mi",paddingInlineEnd:"x1pic42t",paddingLeft:null,paddingRight:null,paddingTop:"xz9dl7a",$$css:!0},border:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},rightAddon:{marginInlineStart:"xvc5jky",$$css:!0}},c={color:"secondary",size:24};function d(e){var t=e.bodyText,n=e.bodyTextColor,a=e.bodyTextType,i=e["data-testid"],l=e.hasTopBorder,d=l===void 0?!1:l,m=e.headlineText,p=e.headlineTextType,_=e.leftAddon,f=e.level,g=f===void 0?3:f,h=e.loadingIndicator,y=e.rightAddon,C=e.subtext,b=e.xstyle;return h!=null?s.jsx(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[u.body],children:h}):s.jsxs(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[u.body,d&&u.border,b],children:[_!=null&&_,(t!=null||C!=null||m!=null)&&s.jsx(r("MWXTextPairing.react"),{body:t!=null&&a!=null?s.jsx(r("MWXText.react"),{color:n,type:a,children:t}):t!=null?s.jsx(r("MWXText.react"),{color:n,type:"body4",children:t}):void 0,headline:m!=null&&p!=null?s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:p,children:m}):m!=null?s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:"headline4",children:m}):void 0,level:g,meta:C}),y!=null&&s.jsx(r("MWXComposerButtonContext.react").Provider,{value:c,children:s.jsx(o("react-strict-dom").html.div,{style:u.rightAddon,children:y})})]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXComposerIconButton.react",["MWXCircleButton.react","MWXComposerButtonContext.react","MWXThreadThemeColor","MWXTooltip.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["color","disableTooltip","isShown","label","size","type","wrapperStyle","wrapperXStyle"],u,c=u||(u=o("react")),d=u.useContext,m={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",transition:"x1el4u5y",$$css:!0},shown:{transform:"x1158fpu",$$css:!0}};function p(t){var n,a=t.ref,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=i.color,u=i.disableTooltip,p=i.isShown,f=i.label,g=i.size,h=i.type,y=h===void 0?"deemphasized":h,C=i.wrapperStyle,b=i.wrapperXStyle,v=babelHelpers.objectWithoutPropertiesLoose(i,s),S=d(r("MWXComposerButtonContext.react")),R=S.color,L=S.iconRatio,E=L===void 0?"medium":L,k=S.paddingHorizontal,I=k===void 0?"none":k,T=S.size,D=T===void 0?36:T;return c.jsx(o("react-strict-dom").html.div,{style:[I==="small"&&m.horizontalPaddingSmall,m.layoutWrapper,[b,C],p===!0&&m.shown],children:c.jsx(_,{disableTooltip:u,label:f,children:c.jsx(r("MWXCircleButton.react"),babelHelpers.extends({},v,{"aria-label":f,color:(n=l!=null?l:R)!=null?n:o("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))"),iconRatio:E,ref:a,size:g!=null?g:D,type:y}))})})}p.displayName=p.name+" [from "+i.id+"]";function _(e){var t=e.children,n=e.disableTooltip,o=e.label;return n===!0?t:c.jsx(r("MWXTooltip.react"),{position:"above",tooltip:o,children:t})}_.displayName=_.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWXComposerInputArea.react",["MWXComposerButtonContext.react","MWXComposerRow.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={colors:{backgroundColor:"x16sw7j7",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",$$css:!0},flexLayout:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"x13qp9f6",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},c={iconRatio:"large",paddingHorizontal:"none",size:28};function d(e){var t=e.children,n=e.composerRowXStyle,a=e.header,i=e.xstyle;return s.jsx(r("MWXComposerButtonContext.react").Provider,{value:c,children:s.jsxs(o("react-strict-dom").html.div,{style:[u.colors,u.flexLayout,i],children:[a,s.jsx(r("MWXComposerRow.react"),{padding:4,xStyle:n,children:t})]})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXComposerSpinner.react",["MWXComposerButtonContext.react","MWXSpinner.react","MWXTooltip.react","react","react-strict-dom","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e=["color","label","size","spinnerSize","wrapperStyle","wrapperXStyle"],s,u=s||(s=o("react")),c=s.useContext,d={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",justifyContent:"xl56j7k",$$css:!0}};function m(t){var n=t.color,a=n===void 0?"blue":n,i=t.label,l=t.size,s=t.spinnerSize,m=s===void 0?20:s,p=t.wrapperStyle,_=t.wrapperXStyle,f=babelHelpers.objectWithoutPropertiesLoose(t,e);r("vulture")("KlrXhW9hvp38Mnhm0K63c87LFnQ=");var g=c(r("MWXComposerButtonContext.react")),h=g.paddingHorizontal,y=h===void 0?"none":h,C=g.size,b=C===void 0?36:C,v=(l!=null?l:b)+"px";return u.jsx(o("react-strict-dom").html.div,{style:[y==="small"&&d.horizontalPaddingSmall,d.layoutWrapper,[_,p],[{height:v,width:v}]],children:u.jsx(r("MWXTooltip.react"),{position:"above",tooltip:i,children:u.jsx(r("MWXSpinner.react"),babelHelpers.extends({color:a,size:m},f))})})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWXComposerTextEditor.react",["CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalErrorBoundary","LexicalPlainTextPlugin","MWXRowItem.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={padding:{marginBottom:"x12nagc",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",marginTop:"x1gslohp",maxHeight:"xctk3hg",minWidth:"x900493",overflowY:"x1odjw0f",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};function c(e){var t=e.children,n=e.contentEditableProps,a=e.placeholderText,i=e.testid,l=a==null?{}:{"aria-placeholder":a,placeholder:s.jsx(r("CometLexicalPlaceholder.react"),{children:a})},c=s.jsx(r("CometLexicalContentEditable.react"),babelHelpers.extends({tabIndex:0,webDriverTestID:i},l,n));return s.jsxs(r("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:u.padding,children:[s.jsx(o("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:o("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:c}),t]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXComposer.react",["LexicalComposerContext","LexicalHistoryPlugin","MWXComposerAttachmentPreview.react","MWXComposerHeader.react","MWXComposerIconButton.react","MWXComposerInputArea.react","MWXComposerRow.react","MWXComposerSpinner.react","MWXComposerTextEditor.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c={composer:{backgroundColor:"xt5xv9l",contain:"x6wvzqs",$$css:!0},flexLayout:{alignItems:"xpqajaz",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",$$css:!0},padding:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,$$css:!0}};function d(e){var t=e.children,n=e.editor,a=e.header,i=e.testid,l=e.xstyle,d=o("LexicalComposerContext").createLexicalComposerContext(),m=u(function(){return[n,d]},[n,d]);return s.jsxs(o("LexicalComposerContext").LexicalComposerContext.Provider,{value:m,children:[s.jsxs(o("react-strict-dom").html.div,{style:[c.composer,c.flexLayout],children:[a,s.jsx(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[c.padding,l],children:t})]}),s.jsx(o("LexicalHistoryPlugin").HistoryPlugin,{})]})}d.displayName=d.name+" [from "+i.id+"]";var m={Add:o("MWXComposerAttachmentPreview.react").MWXComposerAddAttachmentButton,FilePreview:o("MWXComposerAttachmentPreview.react").MWXComposerFileAttachmentPreview,ImagePreview:o("MWXComposerAttachmentPreview.react").MWXComposerImageAttachmentPreview,VideoPreview:o("MWXComposerAttachmentPreview.react").MWXComposerVideoAttachmentPreview};l.Composer=d,l.Button=r("MWXComposerIconButton.react"),l.TextEditor=r("MWXComposerTextEditor.react"),l.InputArea=r("MWXComposerInputArea.react"),l.Header=r("MWXComposerHeader.react"),l.Row=r("MWXComposerRow.react"),l.Spinner=r("MWXComposerSpinner.react"),l.Attachments=m}),98);
__d("issueEditInstamadilloMessage",["IGDBridgedAPI"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("IGDBridgedAPI").sendEditMessage(e)}l.default=e}),98);
__d("useIGDMessageLengthExceededToast",["fbt","react-compiler-runtime","useDebounced","useIGDSToaster"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Your message is too long");function u(){var t=o("react-compiler-runtime").c(2),n=r("useIGDSToaster")(),a;t[0]!==n?(a=function(){n.add({message:e,target:"bottom"})},t[0]=n,t[1]=a):a=t[1];var i=r("useDebounced")(a,500,!0);return i}l.default=u}),226);
__d("LSOptimisticEditMessage",["LSEditMessage","LSIssueNewTaskAndGetTaskID"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.db.table(12).fetch([[[e[0]]],"messageId"]).next().then(function(o,a){var i=o.done,l=o.value;return i?0:(a=l.item,r[2]=a.editCount,r[1]=t.i64.of_float(Date.now()),t.i64.lt(r[2]==null?t.i64.cast([0,0]):r[2],t.i64.cast([0,5]))&&t.i64.le(r[1],t.i64.add(a.timestampMs,t.i64.cast([0,9e5])))?t.sequence([function(o){return t.storedProcedure(n("LSEditMessage"),a.messageId,t.i64.cast([0,20]),e[1],t.i64.add(r[2]==null?t.i64.cast([0,0]):r[2],t.i64.cast([0,1])))},function(o){return r[3]=new t.Map,r[3].set("message_id",e[0]),r[3].set("text",e[1]),t.i64.gt(t.i64.cast([0,0]),t.i64.cast([0,0]))?(r[7]=t.i64.of_float(Date.now()),r[4]=t.i64.add(r[7],t.i64.cast([0,0]))):r[4]=t.i64.cast([0,0]),r[5]=t.toJSON(r[3]),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),"edit_message",t.i64.cast([0,742]),r[5],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,r[4],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[6]=t[0],t})},function(e){return t.resolve()}]):t.resolve(0))})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticEditMessageStoredProcedure",e.__tables__=["messages","pending_tasks"],a.exports=e}),null);
__d("LSOptimisticEditMessageStoredProcedure",["LSOptimisticEditMessage","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticEditMessage"),a.messageId,a.text);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("useMAWGetSendEditActionforOpen",["LSFactory","LSOptimisticEditMessageStoredProcedure","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=(e||(e=r("useReStore")))();return u(function(e,n){return r("promiseDone")(t.runInTransaction(function(t){return r("LSOptimisticEditMessageStoredProcedure")(r("LSFactory")(t),{messageId:e,text:n})},"readwrite",void 0,void 0,i.id+":27"))},[t])}l.default=c}),98);
__d("MLCKeyBindingUtil",["UserAgent"],(function(t,n,r,o,a,i,l){"use strict";var e=r("UserAgent").isPlatform("Mac OS X"),s=String.fromCodePoint(e?8984:8963);function u(t){return t!==null&&(e?t.metaKey:t.ctrlKey)}l.COMMAND_UNICODE=s,l.hasCommandModifier=u}),98);
__d("useMWXComposerClearAndSendOnEnter",["Lexical","MLCKeyBindingUtil","gkx","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useInsertionEffect,d=s.useLayoutEffect,m=s.useRef,p=250;function _(e,t){var n=e.clearReplyState,a=e.editor,i=e.onSend,l=m(null),s=m(t);c(function(){s.current=t},[t]);var _=u(function(){var e=i(s.current);n==null||n(),e&&a.dispatchCommand(o("Lexical").CLEAR_EDITOR_COMMAND)},[i,n,a]);return d(function(){return a.registerCommand(o("Lexical").KEY_ENTER_COMMAND,function(e){if(e!=null&&!e.shiftKey&&!e.altKey&&(!r("gkx")("23402")||o("MLCKeyBindingUtil").hasCommandModifier(e))){e.preventDefault();var t=l.current;return t!=null&&e.timeStamp-t<=p?(l.current=e.timeStamp,!0):(_(),l.current=e.timeStamp,!0)}return!1},o("Lexical").COMMAND_PRIORITY_LOW)},[a,_]),{onSend:_}}l.default=_}),98);
__d("cometLexicalBaseTheme",[],(function(t,n,r,o,a,i,l){"use strict";var e={ltr:"xdpxx8g",rtl:"x1hr2gdg"},s=e;l.default=s}),98);
__d("useLexicalInitializeEditor__DEPRECATED",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e){s(function(){e.update(function(){var t=o("Lexical").$getRoot();if(t.isEmpty()){var n=o("Lexical").$createParagraphNode();t.append(n);var r=document.activeElement;(o("Lexical").$getSelection()!==null||r!==null&&r===e.getRootElement())&&n.select()}})},[e])}l.default=u}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e,t){t===void 0&&(t=!1),s(function(){return e.registerCommand(o("Lexical").CLEAR_EDITOR_COMMAND,function(){return e.update(function(){var e=o("Lexical").$getRoot(),n=o("Lexical").$getSelection(),r=o("Lexical").$createParagraphNode();e.clear(),e.append(r),n!==null&&(r.select(),t===!0&&o("Lexical").$isRangeSelection(n)&&(n.format=0))}),!0},o("Lexical").COMMAND_PRIORITY_EDITOR)},[t,e])}l.default=u}),98);
__d("useMWXLexicalEditor",["CometLexicalEmojiNode","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","useLexicalInitializeEditor__DEPRECATED","useMWPLexicalClearEditor","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e=[o("MessengerLexicalActorNode").MessengerLexicalActorNode,n("cr:11494")==null?void 0:n("cr:11494").MessengerLexicalCommandNode,o("CometLexicalEmojiNode").EmojiNode];function s(){var t=r("useStable")(function(){return o("Lexical").createEditor({namespace:"MWPEditor",nodes:e.filter(Boolean),onError:function(){},theme:babelHelpers.extends({},r("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"})})});return r("useMWPLexicalClearEditor")(t),r("useLexicalInitializeEditor__DEPRECATED")(t),{editor:t}}l.useMWXLexicalEditor=s}),98);
__d("useMWXLexicalMaxLength",["Lexical","LexicalSelection","LexicalUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e,t){var n=t.maxLength,r=t.onMaxLengthExceeded;s(function(){var t=null;return e.registerNodeTransform(o("Lexical").RootNode,function(a){var i=o("Lexical").$getSelection();if(!(!o("Lexical").$isRangeSelection(i)||!i.isCollapsed())){var l=e.getEditorState(),s=l.read(function(){return a.getTextContentSize()}),u=a.getTextContentSize();if(s!==u){var c=u-n,d=i.anchor;c>0&&(r==null||r(),s===n&&t!==l?(t=l,o("LexicalUtils").$restoreEditorState(e,l)):o("LexicalSelection").$trimTextContentFromAnchor(e,d,c))}}})},[e,n,r])}l.useMWXLexicalMaxLength=u}),98);
__d("usePrepopulateLexicalEditor",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e,t,n){s(function(){t!=null&&e.update(function(){if(t!=null){var e=o("Lexical").$getRoot(),r=e.getFirstChild();o("Lexical").$isParagraphNode(r)||(r=o("Lexical").$createParagraphNode(),e.append(r));var a=o("Lexical").$createTextNode(t);r.clear(),r.append(a),n===!0&&r.selectEnd()}})},[e])}l.default=u}),98);
__d("useShowNotEditableMessageToast",["fbt","IGDSErrorPanoOutlineIcon.react","PolarisToastConstants","react","react-compiler-runtime","useIGDSToaster"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback,d=o("PolarisToastConstants").TOAST_ANIM_DURATION_S*1e3;function m(){var e=o("react-compiler-runtime").c(2),t=r("useIGDSToaster")(),n;return e[0]!==t?(n=function(){t.add({icon:u.jsx(r("IGDSErrorPanoOutlineIcon.react"),{alt:s._(/*BTDS*/"Error Icon")}),message:s._(/*BTDS*/"Message not edited, sent messages can only be edited for 15 minutes"),target:"bottom-left"},{duration:d})},e[0]=t,e[1]=n):n=e[1],n}l.default=m}),226);
__d("IGDComposerEditContainer.react",["fbt","FBLogger","I64","IGDComposerConstants","IGDComposerEmojiButton.react","IGDComposerIconSendButton.react","IGDInstamadilloUtils","IGDMAPIEditMessage","IGDMAPIInterfaceTypes","IGDOffMsysComposerUtils","IGDSBox.react","IGDSIconButton.react","IGDSXFilledIcon.react","LexicalText","MAWEditMessageContext.react","MWXComposer.react","MessengerWebUXLogger","PolarisUA","ReQL","ReQLSuspense","RelayHooks","getErrorSafe","getIsMessageTimeBelowEditThreshold","isStringNullOrEmpty","issueEditInstamadilloMessage","promiseDone","react","useIGDMessageLengthExceededToast","useIsChatTabsDisplay","useMAWGetSendEditActionforOpen","useMWXComposerClearAndSendOnEnter","useMWXLexicalEditor","useMWXLexicalMaxLength","usePrepopulateLexicalEditor","useReStore","useServerTime","useShowNotEditableMessageToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useContext,f=p.useEffect,g=p.useMemo,h=p.useState,y={cancelButton:{paddingTop:"xexx8yu",$$css:!0},chatTabComposerHeader:{paddingBottom:"x18d9i69",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},chatTabEmojiButton:{paddingBottom:"xg8j3zb",paddingInlineStart:"x1bdp6ip",$$css:!0},chatTabInnerComposer:{borderTopColor:"x1u3ycmy",borderInlineEndColor:"xrh5wk9",borderBottomColor:"x13ec8wd",borderInlineStartColor:"x386jci",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x131ptk",borderInlineEndWidth:"x19msrzo",borderBottomWidth:"x1dmouxk",borderInlineStartWidth:"x1nsouaw",width:"xi55695",$$css:!0},chatTabInnerComposerContainer:{marginInlineStart:"xwklpps",paddingTop:"xexx8yu",$$css:!0},emojiButton:{paddingBottom:"xjkvuk6",paddingInlineEnd:"x14vy60q",paddingInlineStart:"xe2zdcy",paddingTop:"xyqdw3p",$$css:!0},innerComposer:{borderStartStartRadius:"x1ua1ujl",borderStartEndRadius:"xksyday",borderEndEndRadius:"xshg46c",borderEndStartRadius:"xlej2ay",$$css:!0},mobileInnerComposerContainer:{minHeight:"x1gg8mnh",paddingBottom:"x1120s5i",paddingInlineStart:"x1g0dm76",$$css:!0}},C=o("IGDOffMsysComposerUtils").enableIGDOffMsysComposer();function b(t){var n=t.editMessageData,a=t.headerText,l=t.onEditCancelCallback,d=l===void 0?null:l,p=t.onEditTriggerCallback,b=p===void 0?null:p,v=t.threadFbid,S=o("RelayHooks").useRelayEnvironment(),R=r("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"composer_edit_message"}),L=r("MessengerWebUXLogger").useInteractionLogger(),E=_(o("MAWEditMessageContext.react").Context),k=E.setEditMessageData,I=o("useMWXLexicalEditor").useMWXLexicalEditor(),T=I.editor,D=r("useIGDMessageLengthExceededToast")();o("useMWXLexicalMaxLength").useMWXLexicalMaxLength(T,{maxLength:o("IGDComposerConstants").IGD_COMPOSER_MAX_LENGTH,onMaxLengthExceeded:D});var x=r("useIsChatTabsDisplay")(),$=(u||(u=r("useReStore")))(),P=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending($.tables.messages).getKeyRange(n==null?void 0:n.threadKey,n==null?void 0:n.timestampMs,n==null?void 0:n.messageId)},[$,n==null?void 0:n.messageId,n==null?void 0:n.threadKey,n==null?void 0:n.timestampMs],i.id+":128"),N=g(function(){var e;return((e=P==null?void 0:P.text)!=null?e:"").trim()},[P==null?void 0:P.text]),M=r("useMAWGetSendEditActionforOpen")(),w=r("useServerTime")(),A=o("getIsMessageTimeBelowEditThreshold").getIsMessageTimeBelowEditThreshold((c||(c=o("I64"))).of_float(w.getTime()),n.timestampMs),F=function(){if(A){var t=T.getEditorState().read(o("LexicalText").$rootTextContent).trim();if(r("isStringNullOrEmpty")(t)||t===N)return!1;if(C&&P!=null&&v!=null){var a;o("IGDMAPIEditMessage").IGDMAPIEditMessage(S,{messageId:(a=o("IGDMAPIInterfaceTypes")).toMessageId(n.messageId),offlineThreadingId:a.toOfflineThreadingId(P.offlineThreadingId),text:a.toMessage(t),threadId:a.toThreadId(v)},{threadKey:n.threadKey,timestampMs:n.timestampMs}).catch(function(t){var n=r("getErrorSafe")(t);r("FBLogger")("igd_web").tags(["OffMSYSComposer"]).catching(t).MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to edit message: ",""])),n.message)})}else if(o("IGDInstamadilloUtils").isInstamadilloMessage(P)){var i={messageId:n.messageId,text:t,threadKey:n.threadKey};r("promiseDone")(r("issueEditInstamadilloMessage")(i))}else M(n.messageId,t);return k(null),b&&b(),L==null||L({eventName:"edit_message"}),!0}else return O(),!1},O=r("useShowNotEditableMessageToast")(),B=function(){k(null),L==null||L({eventName:"edit_message_cancel"}),d&&d()};r("useMWXComposerClearAndSendOnEnter")({clearReplyState:null,editor:T,onSend:F});var W=h(!1),q=W[0],U=W[1];return f(function(){return T.registerTextContentListener(function(e){var t=e.trim();U(!r("isStringNullOrEmpty")(t)&&t!==N)})},[T,N]),r("usePrepopulateLexicalEditor")(T,N,!0),m.jsx(r("IGDSBox.react"),{containerRef:R,children:m.jsx(o("MWXComposer.react").Composer,{editor:T,header:m.jsx(o("MWXComposer.react").Header,{bodyText:a!=null?a:s._(/*BTDS*/"Editing message"),bodyTextColor:x?"secondary":"primary","data-testid":void 0,hasTopBorder:!0,rightAddon:m.jsx(r("IGDSIconButton.react"),{label:s._(/*BTDS*/"Cancel edit"),onClick:B,xstyle:y.cancelButton,children:m.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel edit"),color:"ig-primary-text",size:15})}),xstyle:x&&y.chatTabComposerHeader},0),children:m.jsx(o("MWXComposer.react").Row,{children:m.jsx(r("IGDSBox.react"),{paddingX:1,paddingY:1,width:"100%",xstyle:x&&y.chatTabInnerComposerContainer,children:m.jsxs(o("MWXComposer.react").InputArea,{xstyle:[y.innerComposer,x&&y.chatTabInnerComposer,o("PolarisUA").isMobile()&&y.mobileInnerComposerContainer],children:[o("PolarisUA").isMobile()?null:m.jsx(r("IGDSBox.react"),{xstyle:[y.emojiButton,x&&y.chatTabEmojiButton],children:m.jsx(r("IGDComposerEmojiButton.react"),{editor:T})}),m.jsx(o("MWXComposer.react").TextEditor,{contentEditableProps:{ariaLabel:s._(/*BTDS*/"Editing message")},testid:void 0}),m.jsx(r("IGDSBox.react"),{children:m.jsx(r("IGDComposerIconSendButton.react"),{isDisabled:!q,isEdit:!0,onClick:function(){F()},testid:void 0})})]})})})})})}b.displayName=b.name+" [from "+i.id+"]",l.default=b}),226);
__d("IGDComposerEditContainerOffMsys_SlideMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDComposerEditContainerOffMsys_SlideMessage",selections:[{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"text_body",storageKey:null}],type:"SlideMessageText",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp_ms",storageKey:null}],type:"SlideMessage",abstractKey:null};a.exports=e}),null);
__d("IGDComposerEditContainerOffMsys.react",["fbt","CometRelay","IGDComposerConstants","IGDComposerEditContainerOffMsys_SlideMessage.graphql","IGDComposerEmojiButton.react","IGDComposerIconSendButton.react","IGDEditMessageContext.react","IGDSBox.react","IGDSIconButton.react","IGDSXFilledIcon.react","LexicalText","MWXComposer.react","MessengerWebUXLogger","PolarisUA","getIsMessageTimeBelowEditThresholdOffMsys","isStringNullOrEmpty","react","react-compiler-runtime","useIGDMessageLengthExceededToast","useIsChatTabsDisplay","useMAWGetSendEditActionforOpen","useMWXComposerClearAndSendOnEnter","useMWXLexicalEditor","useMWXLexicalMaxLength","usePrepopulateLexicalEditor","useServerTime","useShowNotEditableMessageToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useMemo,_=d.useState,f={cancelButton:{paddingTop:"xexx8yu",$$css:!0},chatTabComposerHeader:{paddingBottom:"x18d9i69",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},chatTabEmojiButton:{paddingBottom:"xg8j3zb",paddingInlineStart:"x1bdp6ip",$$css:!0},chatTabInnerComposer:{borderTopColor:"x1u3ycmy",borderInlineEndColor:"xrh5wk9",borderBottomColor:"x13ec8wd",borderInlineStartColor:"x386jci",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x131ptk",borderInlineEndWidth:"x19msrzo",borderBottomWidth:"x1dmouxk",borderInlineStartWidth:"x1nsouaw",width:"xi55695",$$css:!0},chatTabInnerComposerContainer:{marginInlineStart:"xwklpps",paddingTop:"xexx8yu",$$css:!0},emojiButton:{paddingBottom:"xjkvuk6",paddingInlineEnd:"x14vy60q",paddingInlineStart:"xe2zdcy",paddingTop:"xyqdw3p",$$css:!0},innerComposer:{borderStartStartRadius:"x1ua1ujl",borderStartEndRadius:"xksyday",borderEndEndRadius:"xshg46c",borderEndStartRadius:"xlej2ay",$$css:!0},mobileInnerComposerContainer:{minHeight:"x1gg8mnh",paddingBottom:"x1120s5i",paddingInlineStart:"x1g0dm76",$$css:!0}};function g(t){var a,i,l,u=o("react-compiler-runtime").c(56),d=t.editMessageData,p=t.headerText,g=t.onEditCancelCallback,h=t.onEditTriggerCallback,y=g===void 0?null:g,C=h===void 0?null:h,b;u[0]===Symbol.for("react.memo_cache_sentinel")?(b={eventName:"composer_edit_message"},u[0]=b):b=u[0];var v=r("MessengerWebUXLogger").useImpressionLoggerRef(b),S=r("MessengerWebUXLogger").useInteractionLogger(),R=o("IGDEditMessageContext.react").useIGDEditSetterContext(),L=R.clearEditMessageData,E=o("useMWXLexicalEditor").useMWXLexicalEditor(),k=E.editor,I=r("useIGDMessageLengthExceededToast")(),T;u[1]!==I?(T={maxLength:o("IGDComposerConstants").IGD_COMPOSER_MAX_LENGTH,onMaxLengthExceeded:I},u[1]=I,u[2]=T):T=u[2],o("useMWXLexicalMaxLength").useMWXLexicalMaxLength(k,T);var D=r("useIsChatTabsDisplay")(),x=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDComposerEditContainerOffMsys_SlideMessage.graphql"),d.message);(a=x.content)==null||a.text_body;var $=(i=(l=x.content)==null?void 0:l.text_body)!=null?i:"",P;u[3]!==$?(P=$.trim(),u[3]=$,u[4]=P):P=u[4];var N=P,M=r("useMAWGetSendEditActionforOpen")(),w=r("useServerTime")(),A;u[5]!==x.timestamp_ms||u[6]!==w?(A=r("getIsMessageTimeBelowEditThresholdOffMsys")(w.getTime(),Number(x.timestamp_ms)),u[5]=x.timestamp_ms,u[6]=w,u[7]=A):A=u[7];var F=A,O=function(){if(F){var e=k.getEditorState().read(o("LexicalText").$rootTextContent).trim();return r("isStringNullOrEmpty")(e)||e===N?!1:(M(x.message_id,e),L(),C&&C(),S==null||S({eventName:"edit_message"}),!0)}else return B(),!1},B=r("useShowNotEditableMessageToast")(),W;u[8]!==L||u[9]!==S||u[10]!==y?(W=function(){L(),S==null||S({eventName:"edit_message_cancel"}),y&&y()},u[8]=L,u[9]=S,u[10]=y,u[11]=W):W=u[11];var q=W,U;u[12]!==k||u[13]!==O?(U={clearReplyState:null,editor:k,onSend:O},u[12]=k,u[13]=O,u[14]=U):U=u[14],r("useMWXComposerClearAndSendOnEnter")(U);var V=_(!1),H=V[0],G=V[1],z,j;u[15]!==k||u[16]!==N?(z=function(){return k.registerTextContentListener(function(e){var t=e.trim();G(!r("isStringNullOrEmpty")(t)&&t!==N)})},j=[k,N],u[15]=k,u[16]=N,u[17]=z,u[18]=j):(z=u[17],j=u[18]),m(z,j),r("usePrepopulateLexicalEditor")(k,N,!0);var K;u[19]!==p?(K=p!=null?p:s._(/*BTDS*/"Editing message"),u[19]=p,u[20]=K):K=u[20];var Q=D?"secondary":"primary",X;u[21]===Symbol.for("react.memo_cache_sentinel")?(X=s._(/*BTDS*/"Cancel edit"),u[21]=X):X=u[21];var Y;u[22]===Symbol.for("react.memo_cache_sentinel")?(Y=c.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel edit"),color:"ig-primary-text",size:15}),u[22]=Y):Y=u[22];var J;u[23]!==q?(J=c.jsx(r("IGDSIconButton.react"),{label:X,onClick:q,xstyle:f.cancelButton,children:Y}),u[23]=q,u[24]=J):J=u[24];var Z=D&&f.chatTabComposerHeader,ee;u[25]!==K||u[26]!==Q||u[27]!==J||u[28]!==Z?(ee=c.jsx(o("MWXComposer.react").Header,{bodyText:K,bodyTextColor:Q,"data-testid":void 0,hasTopBorder:!0,rightAddon:J,xstyle:Z},0),u[25]=K,u[26]=Q,u[27]=J,u[28]=Z,u[29]=ee):ee=u[29];var te=D&&f.chatTabInnerComposerContainer,ne=D&&f.chatTabInnerComposer,re;u[30]===Symbol.for("react.memo_cache_sentinel")?(re=o("PolarisUA").isMobile()&&f.mobileInnerComposerContainer,u[30]=re):re=u[30];var oe;u[31]!==ne?(oe=[f.innerComposer,ne,re],u[31]=ne,u[32]=oe):oe=u[32];var ae;u[33]!==k||u[34]!==D?(ae=o("PolarisUA").isMobile()?null:c.jsx(r("IGDSBox.react"),{xstyle:[f.emojiButton,D&&f.chatTabEmojiButton],children:c.jsx(r("IGDComposerEmojiButton.react"),{editor:k})}),u[33]=k,u[34]=D,u[35]=ae):ae=u[35];var ie;u[36]===Symbol.for("react.memo_cache_sentinel")?(ie=c.jsx(o("MWXComposer.react").TextEditor,{contentEditableProps:{ariaLabel:s._(/*BTDS*/"Editing message")},testid:void 0}),u[36]=ie):ie=u[36];var le=!H,se;u[37]!==O?(se=function(){O()},u[37]=O,u[38]=se):se=u[38];var ue;u[39]!==le||u[40]!==se?(ue=c.jsx(r("IGDSBox.react"),{children:c.jsx(r("IGDComposerIconSendButton.react"),{isDisabled:le,isEdit:!0,onClick:se,testid:void 0})}),u[39]=le,u[40]=se,u[41]=ue):ue=u[41];var ce;u[42]!==oe||u[43]!==ae||u[44]!==ue?(ce=c.jsxs(o("MWXComposer.react").InputArea,{xstyle:oe,children:[ae,ie,ue]}),u[42]=oe,u[43]=ae,u[44]=ue,u[45]=ce):ce=u[45];var de;u[46]!==te||u[47]!==ce?(de=c.jsx(o("MWXComposer.react").Row,{children:c.jsx(r("IGDSBox.react"),{paddingX:1,paddingY:1,width:"100%",xstyle:te,children:ce})}),u[46]=te,u[47]=ce,u[48]=de):de=u[48];var me;u[49]!==k||u[50]!==ee||u[51]!==de?(me=c.jsx(o("MWXComposer.react").Composer,{editor:k,header:ee,children:de}),u[49]=k,u[50]=ee,u[51]=de,u[52]=me):me=u[52];var pe;return u[53]!==v||u[54]!==me?(pe=c.jsx(r("IGDSBox.react"),{containerRef:v,children:me}),u[53]=v,u[54]=me,u[55]=pe):pe=u[55],pe}l.default=g}),226);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743878"),s=o("FalcoLoggerInternal").create("ls_reply_rendered",e),u=s;l.default=u}),98);
__d("MDSHeadlineWithAddOn.react",["BaseRow.react","BaseRowItem.react","Locale","MDSText.react","isIE11OrGreater","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react")),c={addOn:{display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",marginInlineStart:"x13fj5qh",$$css:!0},nonBreakingSpace:{opacity:"xg01cxk",width:"xnalus7",$$css:!0},textFlexFixForIE:{flexBasis:"xdl72j9",$$css:!0}},d={ltr:{direction:"xzt5al7",$$css:!0},rtl:{direction:"xzyj77d",$$css:!0}};function m(t){var n=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.addOn,l=a.children,s=a.color,m=a.headlineId,p=a.headlineRef,_=a.isSemanticHeading,f=a.numberOfLines,g=a.type;return u.jsx(r("MDSText.react"),{isSemanticHeading:!1,ref:n,type:g,children:u.jsxs(r("BaseRow.react"),{verticalAlign:"center",xstyle:d[o("Locale").isRTL()?"rtl":"ltr"],children:[u.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:r("isIE11OrGreater")&&c.textFlexFixForIE,children:u.jsx(r("MDSText.react"),{color:s,id:m,isSemanticHeading:_,numberOfLines:f,ref:p,type:g,children:l})}),u.jsx(r("BaseRowItem.react"),{verticalAlign:"top",xstyle:c.addOn,children:u.jsxs(r("BaseRow.react"),{verticalAlign:"center",children:[u.jsx(r("BaseRowItem.react"),{xstyle:c.nonBreakingSpace,children:"\xA0"}),u.jsx(r("BaseRowItem.react"),{children:u.jsx(r("BaseRow.react"),{children:i})})]})})]})})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("getMDSTextHierarchyStyle",["memoizeWithArgs"],(function(t,n,r,o,a,i,l){"use strict";var e=r("memoizeWithArgs")(function(e,t){switch(e){case 1:return{bodyType:"body1",headlineType:"headlineEmphasized1",metaType:"meta1"};case 2:return{bodyType:"body2",headlineType:"headlineEmphasized2",metaType:"meta2"};case 3:return{bodyType:"body3",headlineType:t===!0?"headline3":"headlineEmphasized3",metaType:"meta3"};default:case 4:return{bodyType:"body4",headlineType:t===!0?"headline4":"headlineEmphasized4",metaType:"meta4"};case"entityHeader1":return{bodyType:"body2",headlineType:"entityHeaderHeadline1",metaType:"entityHeaderMeta1"};case"entityHeader2":return{bodyType:"body2",headlineType:"entityHeaderHeadline2",metaType:"entityHeaderMeta2"}}},function(e,t){return String(e)+(t===!0?"":"e")});l.default=e}),98);
__d("MDSTextPairing.react",["Box.react","MDSHeadlineWithAddOn.react","MDSText.react","getMDSTextHierarchyStyle","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={item:{marginBottom:"xu06os2",marginTop:"x1ok221b",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"xs83m0k",marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0}},c={1:{marginBottom:"x11tup63",marginTop:"x16z1lm9",$$css:!0},2:{marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},entityHeader1:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},entityHeader2:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0}},d={1:{marginBottom:"xwoyzhm",marginTop:"x1rhet7l",$$css:!0},2:{marginBottom:"xzueoph",marginTop:"x1k70j0n",$$css:!0},entityHeader1:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",$$css:!0},entityHeader2:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",$$css:!0}};function m(e){var t=e.body,n=e.bodyColor,o=n===void 0?"primary":n,a=e.bodyId,i=e.bodyLineLimit,l=e.bodyRef,m=e.headline,p=e.headlineAddOn,_=e.headlineColor,f=_===void 0?"primary":_,g=e.headlineId,h=e.headlineLineLimit,y=e.headlineRef,C=e.isPrimaryHeading,b=e.isSemanticHeading,v=e.level,S=e.meta,R=e.metaColor,L=R===void 0?"secondary":R,E=e.metaId,k=e.metaLineLimit,I=e.metaLocation,T=I===void 0?"below":I,D=e.metaRef,x=e.reduceEmphasis,$=x===void 0?!1:x,P=e.testid,N=e.textAlign,M=N===void 0?"start":N,w=r("getMDSTextHierarchyStyle")(v,$),A=w.bodyType,F=w.headlineType,O=w.metaType,B=[u.item,d[v]],W=m!=null&&s.jsx(r("Box.react"),{xstyle:B,children:p!=null?s.jsx(r("MDSHeadlineWithAddOn.react"),{addOn:p,color:f,headlineId:g,headlineRef:y,isPrimaryHeading:C,isSemanticHeading:b,numberOfLines:h,type:F,children:m}):s.jsx(r("MDSText.react"),{align:M,color:f,id:g,isPrimaryHeading:C,isSemanticHeading:b,numberOfLines:h,ref:y,type:F,children:m})}),q=S!=null&&s.jsx(r("Box.react"),{xstyle:B,children:s.jsx(r("MDSText.react"),{align:M,color:L,id:E,isSemanticHeading:!1,numberOfLines:k,ref:D,type:O,children:S})});return s.jsxs(r("Box.react"),{"data-testid":void 0,xstyle:[u.root,c[v]],children:[T==="above"&&q,W,t!=null&&s.jsx(r("Box.react"),{xstyle:B,children:s.jsx(r("MDSText.react"),{align:M,color:o,id:a,isSemanticHeading:!1,numberOfLines:i,ref:l,type:A,children:t})}),T==="below"&&q]})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWChatStrikethroughText.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=e.children;return s.jsx("s",{children:t})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MessageMarkdownCodeblockLanguages",[],(function(t,n,r,o,a,i){var e=Object.freeze({ASP:"asp",ASPX:"aspx",BASH:"bash",C:"c",CLJ:"clj",CLJC:"cljc",CLJX:"cljx",CLOJURE:"clojure",COFFEESCRIPT:"coffeescript",CPLUSPLUS:"cplusplus",CPP:"cpp",CPP2:"c++",CQL:"cql",CS:"cs",CSHARP:"csharp",CSS:"css",CURL:"curl",D:"d",DART:"dart",DIFF:"diff",DOCKERFILE:"dockerfile",ECMASCRIPT:"ecmascript",ERL:"erl",ERLANG:"erlang",GO:"go",GQL:"gql",GRADLE:"gradle",GRAPHQL:"graphql",GROOVY:"groovy",HANDLEBARS:"handlebars",HBS:"hbs",HTML:"html",HTTP:"http",JAVA:"java",JAVASCRIPT:"javascript",JL:"jl",JRUBY:"jruby",JS:"js",JSON:"json",JSX:"jsx",JULIA:"julia",KOTLIN:"kotlin",KT:"kt",LESS:"less",LIQUID:"liquid",LUA:"lua",MACRUBY:"macruby",MARKDOWN:"markdown",ML:"ml",MSSQL:"mssql",MYSQL:"mysql",NODE:"node",OBJC:"objc",OBJCPP:"objcpp",OBJCPP2:"objc++",OBJECTIVEC:"objectivec",OBJECTIVECPLUSPLUS:"objectivecplusplus",OBJECTIVECPP:"objectivecpp",OCAML:"ocaml",PERL:"perl",PGSQL:"pgsql",PHP:"php",PL:"pl",PLSQL:"plsql",POSTGRES:"postgres",POSTGRESQL:"postgresql",POWERSHELL:"powershell",PS1:"ps1",PY:"py",PYTHON:"python",R:"r",RAKE:"rake",RB:"rb",RBX:"rbx",RS:"rs",RUBY:"ruby",RUST:"rust",SASS:"sass",SCALA:"scala",SCSS:"scss",SH:"sh",SHELL:"shell",SOL:"sol",SOLIDITY:"solidity",SQL:"sql",SQLITE:"sqlite",STYL:"styl",STYLUS:"stylus",SWIFT:"swift",TS:"ts",TYPESCRIPT:"typescript",XHTML:"xhtml",XML:"xml",YAML:"yaml",YML:"yml",ZSH:"zsh"});i.default=e}),66);
__d("MessengerFormattingConfig",[],(function(t,n,r,o,a,i){var e=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n|\\u2028))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|\\u2028|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|\\u2028|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"},singleInlineHeaderConfig:{pattern:"(^# ?)(.*?$)",nonCapturingPattern:"^# ?(.*?$)"},linkConfig:{pattern:"\\[([^\\[\\]]+)\\]\\(((?:https?|ftp):\\/\\/(-\\.)?(?:[^\\s\\/?\\.#-]+\\.?)+(?:\\/[^\\s]*)?)\\)",nonCapturingPattern:"\\[([^\\[\\]]+)\\]\\(((?:https?|ftp):\\/\\/(-\\.)?(?:[^\\s\\/?\\.#-]+\\.?)+(?:\\/[^\\s]*)?)\\)"},bulletedList:{pattern:"(^[-*+])\\s+(.*)",nonCapturingPattern:"(^[-*+])\\s+(.*)"},numberedList:{pattern:"(^(\\d)+\\.)\\s+(.*)",nonCapturingPattern:"(^\\d+\\.)\\s+(.*)"}});i.default=e}),66);
__d("MWChatTextFormattingUtils",["$InternalEnum","FBLogger","MessageMarkdownCodeblockLanguages","MessengerFormattingConfig","UnicodeUtils","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=n("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough","Link","BulletedList","NumberedList","InlineHeader"]),u=new Set(Object.values(r("MessageMarkdownCodeblockLanguages"))),c=[s.CodeBlock,s.BlockQuote,s.InlineQuote,s.InlineCode,s.Bold,s.Italics,s.StrikeThrough];function d(e){var t,n=function(t){return t[2]},o=function(t){return new Map},a=1,i=!0,l=function(t){return!0};switch(e){case s.Bold:t=r("MessengerFormattingConfig").boldConfig.pattern;break;case s.Italics:t=r("MessengerFormattingConfig").italicConfig.pattern;break;case s.StrikeThrough:t=r("MessengerFormattingConfig").strikethroughConfig.pattern;break;case s.InlineCode:t=r("MessengerFormattingConfig").codeConfig.pattern;break;case s.BlockQuote:t=r("MessengerFormattingConfig").blockQuoteConfig.pattern,i=!1;break;case s.InlineQuote:l=function(t){return t.trim()!==">"},t=r("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern,i=!1;break;case s.InlineHeader:l=function(t){return t.trim()!=="#"},t=r("MessengerFormattingConfig").singleInlineHeaderConfig.pattern,i=!1;break;case s.CodeBlock:n=function(t){var e,n,r,o=((e=t[3])!=null?e:"").trim().toLowerCase(),a=(n=t[4])!=null?n:t[5],i=(r=t[2])!=null?r:"";return o===""||u.has(o)?a:i+a},t=r("MessengerFormattingConfig").codeBlockV2Config.pattern,i=!1;break;case s.Link:n=function(t){return t[1]},o=function(t){return new Map([["link",t[2]]])},t=r("MessengerFormattingConfig").linkConfig.pattern,i=!1;break;case s.BulletedList:t=r("MessengerFormattingConfig").bulletedList.pattern,i=!1;break;case s.NumberedList:t=r("MessengerFormattingConfig").numberedList.pattern,i=!1,n=function(t){return t[3]},o=function(t){return r("vulture")("9qhvIyaXy5S0rQsL_QBlc7decII="),new Map([["index",t[2]]])};break}if(t==null)throw r("FBLogger")("messenger_web").mustfixThrow("No formatting config found for given format");return{getCleanText:n,getExtraData:o,hasClosingTag:i,regExp:new RegExp(t,"gm"),tagIndex:a,validator:l}}function m(t,n,r,a){n===void 0&&(n=!1),r===void 0&&(r=!1),a===void 0&&(a=!1);var i=[],l=c;return n&&(l=l.concat(s.Link)),r&&(l=l.concat([s.BulletedList,s.NumberedList])),a&&(l=l.concat(s.InlineHeader)),l.forEach(function(n){var r=d(n),a=r.getCleanText,l=r.getExtraData,s=r.hasClosingTag,u=r.regExp,c=r.tagIndex,m=r.validator,p;if(m(t))for(var _=function(){if(p==null)return 0;var r=(e||(e=o("UnicodeUtils"))).substr(t,0,p.index),u=r.length-e.strlen(r),d=p.index-u,m=e.strlen(p[0]);s&&(d+=p[c].length,m-=p[c].length);var _=function(t){var e=d+m,n=t.offset+t.length;return e>t.offset&&d<n},f=a(p),g=l(p);if(!i.find(_)){var h,y;if(i.length>0){var C=i[i.length-1];if(C.entity.format===n&&C.offset+C.length+1===d)return C.entity.text+="\n"+f,C.length+=m+1,1}var b=(h=(y=g.get("link"))==null?void 0:y.includes("from_ads_ai=1"))!=null?h:!1;i.push({entity:{__typename:b?"AdsAILinkFormatting":"MessengerTextFormatting",extraData:g,format:n,text:f},length:m,offset:d})}},f;(p=u.exec(t))!=null&&(f=_(),f!==0););}),i}l.MessengerTextFormattingEntity=s,l.getFormattingRanges=m}),98);
__d("MWXLink.react",["E2EEMessagingLinkContext.react","cr:6023","cr:820","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","encryptedLink"],s,u=s||(s=o("react"));function c(t){var r=t.ref,a=t.encryptedLink,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=o("E2EEMessagingLinkContext.react").useE2EEMessagingLink(),s=l.isSecure,c=s||a===!0?{disableLinkShimAndTracking_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,rel:["noreferrer","noopener","nofollow"]}:{};return n("cr:6023")?u.jsx(n("cr:6023"),babelHelpers.extends({},i,c,{ref:r})):n("cr:820")?u.jsx(n("cr:820"),babelHelpers.extends({},i,c,{ref:r})):null}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXMessageBlockQuote.react",["react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={forwarded:{height:"x5yr21d",marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",paddingInlineStart:"x1g0dm76",position:"x1n2onr6",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",$$css:!0},fullLine:{bottom:"x19ip775",top:"xnfr1j",$$css:!0},line:{borderStartStartRadius:"xqbdsaf",borderStartEndRadius:"xpf24wh",borderEndEndRadius:"x14a4ghu",borderEndStartRadius:"x1a4jp9x",bottom:"xbfrwjf",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"xndqk7f",width:"xfo62xy",$$css:!0},lineIncomingColor:{backgroundColor:"xtyxhl7",$$css:!0},lineOutgoingColor:{backgroundColor:"xppy7ju",$$css:!0},secondaryTextIncoming:{color:"xi81zsa",$$css:!0},secondaryTextOutgoing:{color:"xkxfvhb",$$css:!0}};function c(e){var t=e.children,n=e.fullLine,r=n===void 0?!1:n,a=e.outgoing,i=a===void 0?!0:a,l=e.xstyle;return s.jsxs(o("react-strict-dom").html.blockquote,{style:[u.forwarded,l],children:[s.jsx(o("react-strict-dom").html.div,{style:[u.line,r?u.fullLine:void 0,i?u.lineOutgoingColor:u.lineIncomingColor]}),s.jsx(o("react-strict-dom").html.div,{style:[i?u.secondaryTextOutgoing:u.secondaryTextIncoming],children:t})]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWChatTextFormatting",["MWChatStrikethroughText.react","MWChatTextFormattingUtils","MWXLink.react","MWXMessageBlockQuote.react","MWXText.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={codeBlock:{backgroundColor:"xmjcpbm",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",whiteSpace:"x126k92a",$$css:!0},codeInline:{$$css:!0}};function c(e,t){switch(t.format){case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Bold:return s.jsx(o("react-strict-dom").html.b,{children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Italics:return s.jsx(o("react-strict-dom").html.i,{children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.StrikeThrough:return s.jsx(r("MWChatStrikethroughText.react"),{children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.CodeBlock:return s.jsx(o("react-strict-dom").html.div,{style:u.codeBlock,children:s.jsx(r("MWXText.react"),{type:"body4",children:s.jsx(o("react-strict-dom").html.code,{children:t.text})})});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineCode:return s.jsx(o("react-strict-dom").html.code,{style:u.codeInline,children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BlockQuote:case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineQuote:return s.jsx(r("MWXMessageBlockQuote.react"),{outgoing:!0,children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineHeader:return s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:"headlineEmphasized3",children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Link:return s.jsx(r("MWXLink.react"),{href:t.extraData.get("link"),rel:"external",target:"_blank",children:s.jsx("u",{children:t.text})});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BulletedList:return s.jsx("ul",{className:"x1rg5ohu xtaz4m5 xdj266r x14z9mp xat24cr x1lziwak x1nhbasn",children:t.text.split("\n").map(function(e,t){return s.jsx("li",{children:e},t)})});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.NumberedList:return s.jsx("ol",{className:"x1rg5ohu x3yw8vx xdj266r x14z9mp xat24cr x1lziwak x1nhbasn",start:t.extraData.get("index"),children:t.text.split("\n").map(function(e,t){return s.jsx("li",{children:e},t)})})}}c.displayName=c.name+" [from "+i.id+"]";function d(e,t){switch(t.format){case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BlockQuote:case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineQuote:return s.jsx(r("MWXMessageBlockQuote.react"),{outgoing:!1,children:t.text});default:return c(e,t)}}d.displayName=d.name+" [from "+i.id+"]",l.messageRenderer=c,l.messageIncomingRenderer=d}),98);
__d("MWXMessageTextWithEntities.react",["cr:5671","cr:5867","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["seeLessLinkProps","seeMoreLinkProps"],s=["color_DEPRECATED"],u=["color_DEPRECATED"],c,d=c||(c=o("react"));function m(t){if(n("cr:5671")!=null)return d.jsx(n("cr:5671"),babelHelpers.extends({},t));if(n("cr:5867")!=null){var r=t.seeLessLinkProps,o=t.seeMoreLinkProps,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=r!=null?r:{},l=i.color_DEPRECATED,c=babelHelpers.objectWithoutPropertiesLoose(i,s),m=o!=null?o:{},p=m.color_DEPRECATED,_=babelHelpers.objectWithoutPropertiesLoose(m,u);return d.jsx(n("cr:5867"),babelHelpers.extends({seeLessLinkProps:babelHelpers.extends({color_DEPRECATED:l==="primary"?"primary":void 0},c),seeMoreLinkProps:babelHelpers.extends({color_DEPRECATED:p==="primary"?"primary":void 0},_)},a))}return null}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWChatReplyText.react",["fbt","MWChatTextFormatting","MWChatTextTransform","MWXMessageTextWithEntities.react","cr:2472","react","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useMemo;function d(e){var t,a,i,l=e.isBumpMessage,d=l===void 0?!1:l,m=e.isHotLike,p=m===void 0?!1:m,_=e.mentionIds,f=e.ranges,g=e.text,h=e.threadKey,y=e.transformEmoticons,C=y===void 0?!0:y,b=c(function(){var e;return new Set((e=_==null||_.split==null?void 0:_.split(","))!=null?e:[])},[_]),v=n("cr:2472")==null?g:n("cr:2472").unvault(g),S=(t=(a=o("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(v,[],b,h))==null?void 0:a.textWithSubstitutions)!=null?t:v,R=(i=o("useStringWithSubstitutions").useStringWithSubstitutions(v,h))!=null?i:v,L=s._(/*BTDS*/"Sticker").toString(),E=p?L:d?R:S;return u.jsx("div",{className:"xi81zsa",dir:"auto",children:u.jsx(r("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:f,renderers:{MessengerTextFormatting:[o("MWChatTextFormatting").messageRenderer]},text:E,transforms:C?o("MWChatTextTransform").textTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("IGDComposerReplyView.react",["fbt","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","IGDSIconButton.react","IGDSText.react","IGDSXFilledIcon.react","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsReplyRenderedFalcoEvent","MDSTextPairing.react","MWChatReplyText.react","MWPActor.react","MWPReplyContext.react","MessagingAttachmentType","ReQL","ReQLSuspense","getFBTSafeGenderFromGenderConst","isStringNullOrEmpty","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react")),p=u,_=p.useContext,f=p.useEffect,g={cancelButton:{paddingTop:"xexx8yu",$$css:!0}};function h(e,t,n){var a=e.isUnsent,i=e.text,l=t||{},u=l.attachmentType,p=!r("isStringNullOrEmpty")(i);return a?s._(/*BTDS*/"Removed message"):p?m.jsx(r("MWChatReplyText.react"),{isHotLike:n,mentionIds:null,text:i!=null?i:s._(/*BTDS*/"Message").toString(),transformEmoticons:!1}):u?(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))?s._(/*BTDS*/"Image"):(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER))?s._(/*BTDS*/"Sticker"):(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))?s._(/*BTDS*/"Video"):(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE))?s._(/*BTDS*/"GIF"):s._(/*BTDS*/"Attachment"):s._(/*BTDS*/"Message")}h.displayName=h.name+" [from "+i.id+"]";function y(e,t){if(t)return s._(/*BTDS*/"Replying to yourself");if(e){var n;return s._(/*BTDS*/"_j{\"*\":\"Replying to {name}\"}",[s._param("name",m.jsx(r("IGDSText.react"),{size:"body",weight:"semibold",zeroMargin:!1,children:(n=e.firstName)!=null?n:e.name}),[1,r("getFBTSafeGenderFromGenderConst")(r("LSContactGenderToGenderConst")(e.gender))])])}else return s._(/*BTDS*/"Replying to {Placeholder for an unknown user on Instagram}",[s._param("Placeholder for an unknown user on Instagram","Instagram User")])}function C(t){var n=o("react-compiler-runtime").c(34),a=t.isArmadilloSecureThread,l=t.message,s=(e||(e=r("useReStore")))(),u=o("MWPActor.react").useActor(),p=l.hotEmojiSize,_=l.messageId,g=l.senderId,C=l.text,v=l.threadKey,S=(c||(c=o("I64"))).equal(g,u),R;n[0]!==s.tables.contacts||n[1]!==g?(R=function(){return o("ReQL").fromTableAscending(s.tables.contacts).getKeyRange(g)},n[0]=s.tables.contacts,n[1]=g,n[2]=R):R=n[2];var L;n[3]!==s||n[4]!==g?(L=[s,g],n[3]=s,n[4]=g,n[5]=L):L=n[5];var E=o("ReQLSuspense").useFirst(R,L,i.id+":206"),k;n[6]!==s.tables.attachments||n[7]!==_||n[8]!==v?(k=function(){return o("ReQL").fromTableAscending(s.tables.attachments).getKeyRange(v,_)},n[6]=s.tables.attachments,n[7]=_,n[8]=v,n[9]=k):k=n[9];var I;n[10]!==s||n[11]!==_||n[12]!==v?(I=[s,_,v],n[10]=s,n[11]=_,n[12]=v,n[13]=I):I=n[13];var T=o("ReQLSuspense").useFirst(k,I,i.id+":211"),D;n[14]===Symbol.for("react.memo_cache_sentinel")?(D=[],n[14]=D):D=n[14],f(b,D);var x;n[15]!==p||n[16]!==a||n[17]!==C?(x=p!=null?C!=null&&C==="\uD83D\uDC4D"&&((c||(c=o("I64"))).equal(p,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").SMALL))||(c||(c=o("I64"))).equal(p,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").MEDIUM))||(c||(c=o("I64"))).equal(p,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").LARGE)))&&a:!1,n[15]=p,n[16]=a,n[17]=C,n[18]=x):x=n[18];var $=x,P;n[19]===Symbol.for("react.memo_cache_sentinel")?(P={className:"x1sa5p1d"},n[19]=P):P=n[19];var N=r("MDSTextPairing.react"),M=r("IGDSText.react"),w="body",A=!1,F=y(E,S),O;n[20]!==M||n[21]!==F?(O=m.jsxs(M,{size:w,zeroMargin:A,children:[F," "]}),n[20]=M,n[21]=F,n[22]=O):O=n[22];var B;n[23]!==T||n[24]!==$||n[25]!==l?(B=h(l,T,$),n[23]=T,n[24]=$,n[25]=l,n[26]=B):B=n[26];var W;n[27]!==N||n[28]!==O||n[29]!==B?(W=m.jsx(N,{body:O,level:3,meta:B}),n[27]=N,n[28]=O,n[29]=B,n[30]=W):W=n[30];var q;return n[31]!==W||n[32]!==P?(q=m.jsx("div",babelHelpers.extends({},P,{children:W})),n[31]=W,n[32]=P,n[33]=q):q=n[33],q}function b(){r("LsReplyRenderedFalcoEvent").log(v)}function v(){return{funnel:{entry_point:o("LsFalcoEventEntryPoint").messageActions}}}function S(e){var t=o("react-compiler-runtime").c(15),n=e.isArmadilloSecureThread,a=e.message,i=a.threadKey,l=_(o("MWPReplyContext.react").MWPReplyContext),u=l.clearReply,c=_(r("CometTriggerAccessibilityAlertContext")),d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x1cy8zhl xvbhtw8 x5ur3kl x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x1q3ajuy x1gx403c x889kno"},t[0]=d):d=t[0];var p;t[1]!==n||t[2]!==a?(p=m.jsx(r("CometErrorBoundary.react"),{fallback:R,children:m.jsx(C,{isArmadilloSecureThread:n,message:a})}),t[1]=n,t[2]=a,t[3]=p):p=t[3];var f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Cancel reply"),t[4]=f):f=t[4];var h;t[5]!==u||t[6]!==i||t[7]!==c?(h=function(){u(i,!0),c(s._(/*BTDS*/"Replying to message has been canceled."),{assertive:!1})},t[5]=u,t[6]=i,t[7]=c,t[8]=h):h=t[8];var y;t[9]===Symbol.for("react.memo_cache_sentinel")?(y=m.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel reply"),color:"ig-primary-text",size:12}),t[9]=y):y=t[9];var b;t[10]!==h?(b=m.jsx(r("IGDSIconButton.react"),{label:f,onClick:h,xstyle:g.cancelButton,children:y}),t[10]=h,t[11]=b):b=t[11];var v;return t[12]!==p||t[13]!==b?(v=m.jsxs("div",babelHelpers.extends({},d,{"data-testid":void 0,children:[p,b]})),t[12]=p,t[13]=b,t[14]=v):v=t[14],v}function R(){return m.jsx(r("IGDSText.react"),{size:"body",zeroMargin:!1,children:s._(/*BTDS*/"Replying to message")})}R.displayName=R.name+" [from "+i.id+"]";function L(t){var n=o("react-compiler-runtime").c(15),a=t.messageId,l=t.messageTimestamp,s=t.thread,u=(e||(e=r("useReStore")))(),c=s.threadKey,d=s.threadType,p;n[0]!==d?(p=o("LSMessagingThreadTypeUtil").isArmadilloSecure(d),n[0]=d,n[1]=p):p=n[1];var _=p,f;n[2]!==u.tables.messages||n[3]!==a||n[4]!==l||n[5]!==c?(f=function(){return o("ReQL").fromTableAscending(u.tables.messages).getKeyRange(c,l,a)},n[2]=u.tables.messages,n[3]=a,n[4]=l,n[5]=c,n[6]=f):f=n[6];var g;n[7]!==u||n[8]!==a||n[9]!==l||n[10]!==c?(g=[u,c,a,l],n[7]=u,n[8]=a,n[9]=l,n[10]=c,n[11]=g):g=n[11];var h=o("ReQLSuspense").useFirst(f,g,i.id+":329"),y;return n[12]!==_||n[13]!==h?(y=h?m.jsx(S,{isArmadilloSecureThread:_,message:h}):null,n[12]=_,n[13]=h,n[14]=y):y=n[14],y}l.default=L}),226);
__d("IGDComposerAttachmentButton.react",["fbt","BaseFileSelector.react","IGDSIconButton.react","IGDSPhotoOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","MWPActor.react","MessengerWebUXLogger","promiseDone","react","react-compiler-runtime","requireDeferred","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useCallback,m=r("requireDeferred")("MWLogMessageAction").__setRef("IGDComposerAttachmentButton.react");function p(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){var t=Array.from(n);if(t.length>0)return e(t)},t[0]=e,t[1]=n):n=t[1],n}function _(t){var n=o("react-compiler-runtime").c(11),a=t.multiple,i=t.onAttachmentsAdded,l=t.supportedFileTypes,u=t.threadKey,d=a===void 0?!0:a,_=(e||(e=r("useReStore")))(),f=o("MWPActor.react").useActor(),g=p(i),h=r("MessengerWebUXLogger").useInteractionLogger(),y=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),C;n[0]!==f||n[1]!==_||n[2]!==y||n[3]!==h||n[4]!==u?(C=function(t){return c.jsx(r("IGDSIconButton.react"),{onClick:function(){h==null||h({eventName:"composer_open_file_picker",flowInstanceId:y}),t(),m.onReady(function(e){return r("promiseDone")(e.log(_,void 0,u,"composer","attach",void 0,void 0,void 0,void 0,"image",f))})},children:c.jsx(r("IGDSPhotoOutlineIcon.react"),{alt:s._(/*BTDS*/"Add Photo or Video"),color:"ig-primary-text"})})},n[0]=f,n[1]=_,n[2]=y,n[3]=h,n[4]=u,n[5]=C):C=n[5];var b;return n[6]!==d||n[7]!==g||n[8]!==l||n[9]!==C?(b=c.jsx(r("BaseFileSelector.react"),{accept:l,multiple:d,onFilesSelected:g,children:C}),n[6]=d,n[7]=g,n[8]=l,n[9]=C,n[10]=b):b=n[10],b}l.default=_}),226);
__d("IGDSMediaOutlineIcon.react",["IGDSMediaPanoOutlineIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=s.jsx(r("IGDSMediaPanoOutlineIcon.react"),babelHelpers.extends({},e)),t[0]=e,t[1]=n):n=t[1],n}var c=s.memo(u);l.default=c}),98);
__d("IGDComposerMediaStaging.react",["fbt","BaseFileSelector.react","CometImage.react","FDSImageCover.react","I64","IGDSIconButton.react","IGDSMediaOutlineIcon.react","IGDSPhotoOutlineIcon.react","IGDSText.react","IGDSTooltip.react","IGDSXPanoFilledIcon.react","LSIntEnum","MWMediaComposerRenderQpl","MWMediaManager","MessagingAttachmentType","cr:105","react","react-compiler-runtime","useCurrentDisplayMode","useIGDMediaMangerUploadFailedToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useEffect,f=m.useState,g={stackingUploadButton:{height:"x1peatla",width:"x1fu8urw",$$css:!0},uploadButton:{backgroundColor:"x1a4onnt",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",height:"xnxb3zj",position:"x1n2onr6",width:"xo5x3gg",$$css:!0}},h=s._(/*BTDS*/"Remove attachment"),y=s._(/*BTDS*/"Upload another photo\/video"),C=s._(/*BTDS*/"Image cover for attached media"),b=s._(/*BTDS*/"File Icon for non photo\/video file");function v(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){var t=Array.from(n);t.length>0&&e(t)},t[0]=e,t[1]=n):n=t[1],n}function S(e){var t=o("react-compiler-runtime").c(16),n=e.isStacking,a=e.multiple,i=e.onAttachmentsAdded,l=e.supportedFileTypes,s=a===void 0?!0:a,u=v(i),c=f(!1),m=c[0],p=c[1],_=r("useCurrentDisplayMode")()==="dark",h;t[0]!==n?(h={0:{className:"x6s0dn4 x78zum5 xnxb3zj xl56j7k xr9ek0c x1sa5p1d xzueoph x7phf20 xo5x3gg"},1:{className:"x6s0dn4 x78zum5 xl56j7k x4465f1 x2x2exm x1gslohp x2fvf9 xat24cr x1lziwak x1wfjk5t"}}[(n===!0)<<0],t[0]=n,t[1]=h):h=t[1];var C=_?"primary":"black",b;t[2]!==n?(b=function(t){return d.jsx(r("IGDSIconButton.react"),{label:y,onClick:t,onHoverEnd:function(){return p(!1)},onHoverStart:function(){return p(!0)},xstyle:[g.uploadButton,n===!0&&g.stackingUploadButton],children:d.jsx(r("IGDSPhotoOutlineIcon.react"),{alt:y,color:"ig-primary-text"})})},t[2]=n,t[3]=b):b=t[3];var S;t[4]!==s||t[5]!==u||t[6]!==l||t[7]!==b?(S=d.jsx(r("BaseFileSelector.react"),{accept:l,multiple:s,onFilesSelected:u,children:b}),t[4]=s,t[5]=u,t[6]=l,t[7]=b,t[8]=S):S=t[8];var R;t[9]!==C||t[10]!==S||t[11]!==m?(R=d.jsx(r("IGDSTooltip.react"),{align:"middle",color:C,isVisible:m,position:"above",tooltip:y,children:S}),t[9]=C,t[10]=S,t[11]=m,t[12]=R):R=t[12];var L;return t[13]!==h||t[14]!==R?(L=d.jsx("div",babelHelpers.extends({},h,{children:R})),t[13]=h,t[14]=R,t[15]=L):L=t[15],L}function R(e){var t=o("react-compiler-runtime").c(17),n=e.isStacking,a=e.mediaStagingItem,i=e.onPress,l=r("useCurrentDisplayMode")()==="dark",u=f(!1),c=u[0],m=u[1],p;t[0]!==n?(p={0:{className:"x1euzuty x10l6tqk xtu2xtp"},1:{className:"x10l6tqk xtijo5x x13vifvy"}}[(n===!0)<<0],t[0]=n,t[1]=p):p=t[1];var _=l?"primary":"black",g;t[2]!==a.filename?(g=s._(/*BTDS*/"Remove attachment: {file-name}",[s._param("file-name",a.filename)]),t[2]=a.filename,t[3]=g):g=t[3];var y,C;t[4]===Symbol.for("react.memo_cache_sentinel")?(y=function(){return m(!1)},C=function(){return m(!0)},t[4]=y,t[5]=C):(y=t[4],C=t[5]);var b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b=d.jsx("div",{className:"x6s0dn4 xnz67gz x6zrd4h x1f58dfg x903dn5 xis42z1 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 x1qx5ct2 xl56j7k xw4jnvo x9ro6w8",children:d.jsx(r("IGDSXPanoFilledIcon.react"),{alt:h,size:9})}),t[6]=b):b=t[6];var v;t[7]!==i||t[8]!==g?(v=d.jsx(r("IGDSIconButton.react"),{label:g,onClick:i,onHoverEnd:y,onHoverStart:C,padding:0,children:b}),t[7]=i,t[8]=g,t[9]=v):v=t[9];var S;t[10]!==_||t[11]!==v||t[12]!==c?(S=d.jsx(r("IGDSTooltip.react"),{align:"middle",color:_,isVisible:c,position:"above",tooltip:h,children:v}),t[10]=_,t[11]=v,t[12]=c,t[13]=S):S=t[13];var R;return t[14]!==p||t[15]!==S?(R=d.jsx("div",babelHelpers.extends({},p,{children:S})),t[14]=p,t[15]=S,t[16]=R):R=t[16],R}var L=function(t){return t.mimeType==="image/gif"||t.mimeType==="image/webp"};function E(e){var t=o("react-compiler-runtime").c(30),n=e.mediaStagingItem,a=n.attachmentType,i=n.previewUrl||"",l=o("MWMediaComposerRenderQpl").useMediaComposerRenderQpl(n),s,m;t[0]!==l?(s=function(){l==null||l.addPoint("staging-item-render")},m=[l],t[0]=l,t[1]=s,t[2]=m):(s=t[1],m=t[2]),_(s,m);var p;t[3]!==l?(p=function(t,n){l==null||l.endFailAfterDelay(t,n)},t[3]=l,t[4]=p):p=t[4];var f=p,g;t[5]!==l?(g=function(){l==null||l.endSuccessAfterDelay()},t[5]=l,t[6]=g):g=t[6];var h=g;if(L(n)){if(i!==""){var y;return t[7]!==i?(y=d.jsx(r("FDSImageCover.react"),{alt:C,src:i}),t[7]=i,t[8]=y):y=t[8],y}}else if((u||(u=o("I64"))).equal(a,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))){if(i!==""){var b;t[9]===Symbol.for("react.memo_cache_sentinel")?(b={className:"xl1xv1r"},t[9]=b):b=t[9];var v;t[10]!==f?(v=function(t){return f("load-video-error",{string:{video_error_name:t.type}})},t[10]=f,t[11]=v):v=t[11];var S;t[12]===Symbol.for("react.memo_cache_sentinel")?(S=d.jsx("track",{kind:"captions"}),t[12]=S):S=t[12];var R;t[13]!==h||t[14]!==i||t[15]!==v?(R=d.jsx("video",babelHelpers.extends({},b,{height:"70",onError:v,onLoadedData:h,src:i,width:"70",children:S})),t[13]=h,t[14]=i,t[15]=v,t[16]=R):R=t[16];var E;t[17]===Symbol.for("react.memo_cache_sentinel")?(E=d.jsx("div",{className:"xbudbmw x18xomjl x7wgvq7 x10l6tqk xwa60dl",children:d.jsx(r("CometImage.react"),{src:"/images/video/play_24dp.png"})}),t[17]=E):E=t[17];var k;return t[18]!==R?(k=d.jsxs(d.Fragment,{children:[R,E]}),t[18]=R,t[19]=k):k=t[19],k}}else if((u||(u=o("I64"))).equal(a,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))&&i!==""){var T;t[20]!==f?(T=function(){return f("load-image-error")},t[20]=f,t[21]=T):T=t[21];var D;t[22]===Symbol.for("react.memo_cache_sentinel")?(D={userSelect:"none"},t[22]=D):D=t[22];var x;return t[23]!==h||t[24]!==i||t[25]!==T?(x=d.jsx(r("FDSImageCover.react"),{alt:"",onError:T,onLoad:h,src:i,style:D}),t[23]=h,t[24]=i,t[25]=T,t[26]=x):x=t[26],x}var $;return t[27]!==l||t[28]!==n?($=d.jsx(I,{mediaRenderQpl:l,mediaStagingItem:n}),t[27]=l,t[28]=n,t[29]=$):$=t[29],$}function k(e){var t=o("react-compiler-runtime").c(24),n=e.isStacking,a=e.mediaStagingItem,i=e.onAttachmentRemoved,l;t[0]!==a.offlineAttachmentId||t[1]!==i?(l=function(){i(a.offlineAttachmentId)},t[0]=a.offlineAttachmentId,t[1]=i,t[2]=l):l=t[2];var s=l,m;t[3]!==a?(m=!(u||(u=o("I64"))).equal(a.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))&&!(u||(u=o("I64"))).equal(a.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))&&!L(a),t[3]=a,t[4]=m):m=t[4];var p=m,_;t[5]!==p||t[6]!==n?(_={0:{className:"x1c4vz4f x2lah0s xnxb3zj xr9ek0c x1sa5p1d xzueoph x7phf20 x1n2onr6 xo5x3gg"},2:{className:"x1c4vz4f x2lah0s xnxb3zj xr9ek0c x1sa5p1d xzueoph x7phf20 x1n2onr6 x2pejg6"},1:{className:"x1c4vz4f x2lah0s x1n2onr6 x4465f1 x2x2exm xr9ek0c xnnr8r xjpr12u xwklpps x1wfjk5t"},3:{className:"x1c4vz4f x2lah0s x1n2onr6 x4465f1 x2x2exm xr9ek0c xnnr8r xjpr12u xwklpps x1wfjk5t"}}[!!p<<1|(n===!0)<<0],t[5]=p,t[6]=n,t[7]=_):_=t[7];var f;t[8]!==p||t[9]!==n?(f={0:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xnxb3zj x6ikm8r x10wlt62 x1n2onr6 xo5x3gg"},2:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xnxb3zj x6ikm8r x10wlt62 x1n2onr6 x1ybostu x2pejg6"},1:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x1n2onr6 x1peatla x1fu8urw"},3:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x1n2onr6 x1ybostu x1peatla x1fu8urw"}}[!!p<<1|(n===!0)<<0],t[8]=p,t[9]=n,t[10]=f):f=t[10];var g;t[11]!==a?(g=d.jsx(E,{mediaStagingItem:a}),t[11]=a,t[12]=g):g=t[12];var h;t[13]!==f||t[14]!==g?(h=d.jsx("div",babelHelpers.extends({},f,{children:g})),t[13]=f,t[14]=g,t[15]=h):h=t[15];var y;t[16]!==n||t[17]!==a||t[18]!==s?(y=d.jsx(R,{isStacking:n,mediaStagingItem:a,onPress:s}),t[16]=n,t[17]=a,t[18]=s,t[19]=y):y=t[19];var C;return t[20]!==_||t[21]!==h||t[22]!==y?(C=d.jsxs("div",babelHelpers.extends({},_,{children:[h,y]})),t[20]=_,t[21]=h,t[22]=y,t[23]=C):C=t[23],C}function I(e){var t=o("react-compiler-runtime").c(8),n=e.mediaRenderQpl,a=e.mediaStagingItem,i,l;t[0]!==n?(i=function(){n==null||n.endSuccessAfterDelay()},l=[n],t[0]=n,t[1]=i,t[2]=l):(i=t[1],l=t[2]),_(i,l);var s,u,c;t[3]===Symbol.for("react.memo_cache_sentinel")?(s={className:"x6s0dn4 x78zum5 x1iorvi4 xjkvuk6 xmzvs34 xf159sx x87ps6o"},u=d.jsx(r("IGDSMediaOutlineIcon.react"),{alt:b}),c={className:"x1iyjqo2"},t[3]=s,t[4]=u,t[5]=c):(s=t[3],u=t[4],c=t[5]);var m;return t[6]!==a.filename?(m=d.jsxs("div",babelHelpers.extends({},s,{children:[u,d.jsx("div",babelHelpers.extends({},c,{children:d.jsxs(r("IGDSText.react"),{maxLines:2,weight:"light",zeroMargin:!1,children:[" ",a.filename," "]})}))]})),t[6]=a.filename,t[7]=m):m=t[7],m}function T(e){var t=o("react-compiler-runtime").c(28),a=e.hideUploadPlaceholder,i=e.isStacking,l=e.metaMediaCloudEnabled,s=e.multiple,u=e.supportedFileTypes,c=e.thread,m=a===void 0?!1:a,p=l===void 0?!1:l,_=s===void 0?!0:s,f=r("useIGDMediaMangerUploadFailedToast")(),g;t[0]!==f||t[1]!==c?(g={showUploadFailureToast:f,thread:c},t[0]=f,t[1]=c,t[2]=g):g=t[2];var h=o("MWMediaManager").useMediaManager(g),y=h.handleFileRemove,C=h.handleFileSelect,b=h.mediaStaging;if(b.length===0){var v;return t[3]===Symbol.for("react.memo_cache_sentinel")?(v=d.jsx(d.Fragment,{}),t[3]=v):v=t[3],v}else{var R;t[4]!==i?(R={0:{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xpdmqnj x1g0dm76 x18d9i69 xh8yej3"},1:{className:"x6s0dn4 x9f619 x78zum5 x1nhvcw1 xw2csxc x18d9i69 x1a02dak xzueoph xoo30xy xyri2b x1c1uobl x1iorvi4 x1mk2rj3"}}[(i===!0)<<0],t[4]=i,t[5]=R):R=t[5];var L;t[6]!==C||t[7]!==m||t[8]!==i||t[9]!==_||t[10]!==u?(L=m?null:d.jsx(S,{isStacking:i,multiple:_,onAttachmentsAdded:C,supportedFileTypes:u}),t[6]=C,t[7]=m,t[8]=i,t[9]=_,t[10]=u,t[11]=L):L=t[11];var E;t[12]!==C||t[13]!==i||t[14]!==p||t[15]!==c?(E=p&&n("cr:105")!=null?d.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x78zum5 xnxb3zj xl56j7k xr9ek0c x1sa5p1d xzueoph x7phf20 xo5x3gg"},1:{className:"x6s0dn4 x78zum5 xl56j7k x4465f1 x2x2exm x1gslohp x2fvf9 xat24cr x1lziwak x1wfjk5t"}}[(i===!0)<<0],{children:d.jsx(n("cr:105"),{onAttachmentsAdded:C,threadKey:c.threadKey})})):null,t[12]=C,t[13]=i,t[14]=p,t[15]=c,t[16]=E):E=t[16];var I;t[17]!==b?(I=Array.from(b),t[17]=b,t[18]=I):I=t[18];var T;t[19]!==y||t[20]!==i||t[21]!==I?(T=I.map(function(e){return d.jsx(k,{isStacking:i,mediaStagingItem:e,onAttachmentRemoved:y},e.offlineAttachmentId)}),t[19]=y,t[20]=i,t[21]=I,t[22]=T):T=t[22];var D;return t[23]!==R||t[24]!==L||t[25]!==E||t[26]!==T?(D=d.jsxs("div",babelHelpers.extends({},R,{children:[L,E,T]})),t[23]=R,t[24]=L,t[25]=E,t[26]=T,t[27]=D):D=t[27],D}}l.default=T}),226);
__d("IGDComposerSavedReplyTrayQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24361354033529631"}),null);
__d("IGDComposerSavedReplyTrayQuery$Parameters",["IGDComposerSavedReplyTrayQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("IGDComposerSavedReplyTrayQuery_instagramRelayOperation"),metadata:{},name:"IGDComposerSavedReplyTrayQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDComposerSavedReplyTray.entrypoint",["IGDComposerSavedReplyTrayQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{SavedReplyQueryRef:{parameters:r("IGDComposerSavedReplyTrayQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("IGDComposerSavedReplyTray.react").__setRef("IGDComposerSavedReplyTray.entrypoint")};l.default=e}),98);
__d("IGDSavedReplyPersonalizationUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r){if(!e)return e;var o=e,a="";if(t!=null&&t.trim()!=="")a=t.trim();else if(n!=null&&n.trim()!==""){var i,l=n.trim().split(/\s+/);a=(i=l[0])!=null?i:""}o=o.replace(/\{first_name\}/gi,a);var s=n!=null&&n.trim()!==""?n.trim():"";o=o.replace(/\{full_name\}/gi,s);var u=new Date,c=u.toLocaleDateString(r!=null?r:void 0,{day:"numeric",month:"long",year:"numeric"});return o=o.replace(/\{date_of_today\}/gi,c),o}i.replacePersonalizationPlaceholders=e}),66);
__d("IGDComposerSavedReplyButton.react",["fbt","FDSPopoverLoadingState.react","IGDComposerSavedReplyTray.entrypoint","IGDSBox.react","IGDSEntryPointPopoverTrigger.react","IGDSIconButton.react","IGDSSmsPanoOutlineIcon.react","IGDSavedReplyPersonalizationUtils","IgdWebSavedReplyEventsFalcoEvent","Lexical","react","react-compiler-runtime","useContactReachabilityStatus","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_={button:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function f(t){var a,i,l,u,d=o("react-compiler-runtime").c(15),m=t.editor,f=t.thread,y;d[0]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Choose a saved reply").toString(),d[0]=y):y=d[0];var C=y,b=(e||(e=r("useReStore")))(),v;d[1]===Symbol.for("react.memo_cache_sentinel")?(v=[],d[1]=v):v=d[1],p(h,v);var S=o("useContactReachabilityStatus").useOtherUser(b,f.threadKey,f.threadType),R=(a=S==null||(i=S[1])==null?void 0:i.firstName)!=null?a:null,L=(l=S==null||(u=S[1])==null?void 0:u.name)!=null?l:null,E;d[2]!==m||d[3]!==R||d[4]!==L?(E=function(t){var e=o("IGDSavedReplyPersonalizationUtils").replacePersonalizationPlaceholders(t,R,L);m&&e&&m.update(function(){var t=n("Lexical"),r=t.$createParagraphNode,o=t.$createTextNode,a=t.$getRoot,i=t.$getSelection,l=r(),s=o(e);l.append(s);var u=a();u.clear(),u.append(l);var c=i();c!=null&&l.selectEnd(),m.focus()})},d[2]=m,d[3]=R,d[4]=L,d[5]=E):E=d[5];var k=E,I,T;d[6]===Symbol.for("react.memo_cache_sentinel")?(I={},T=c.jsx(r("FDSPopoverLoadingState.react"),{withArrow:!0}),d[6]=I,d[7]=T):(I=d[6],T=d[7]);var D;d[8]!==k||d[9]!==R||d[10]!==L?(D={onClick:k,otherUserFirstName:R,otherUserFullName:L},d[8]=k,d[9]=R,d[10]=L,d[11]=D):D=d[11];var x;d[12]===Symbol.for("react.memo_cache_sentinel")?(x=function(t,n,o,a,i,l){return c.jsx(r("IGDSBox.react"),{children:c.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:t,onClick:function(){r("IgdWebSavedReplyEventsFalcoEvent").log(g),n()},onHoverEnd:i,onHoverStart:a,onPressStart:l,xstyle:_.button,children:c.jsx(r("IGDSSmsPanoOutlineIcon.react"),{alt:C,color:"ig-primary-text"})})})},d[12]=x):x=d[12];var $;return d[13]!==D?($=c.jsx(r("IGDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:I,fallback:T,otherProps:D,popoverEntryPoint:r("IGDComposerSavedReplyTray.entrypoint"),position:"above",preloadTrigger:"button",children:x}),d[13]=D,d[14]=$):$=d[14],$}function g(){return{action:"saved_reply_entry_point_click"}}function h(){r("IgdWebSavedReplyEventsFalcoEvent").log(y)}function y(){return{action:"saved_reply_entry_point_impression"}}l.default=f}),226);
__d("IGDComposerSavedReplyLocalStorage",["WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s="igd_saved_reply_suggestion_opt_out";function u(){try{var t,n=(t=(e||(e=r("WebStorage"))).getLocalStorageForRead())==null?void 0:t.getItem(s);return n==="true"}catch(e){return!1}}function c(t){try{var n;(n=(e||(e=r("WebStorage"))).getLocalStorage())==null||n.setItem(s,t.toString())}catch(e){}}l.getIsOptedOut=u,l.setIsOptedOut=c}),98);
__d("IGDComposerSavedReplySettingsDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{}},root:r("JSResourceForInteraction")("IGDComposerSavedReplySettingsDialog.react").__setRef("IGDComposerSavedReplySettingsDialog.entrypoint")};l.default=e}),98);
__d("IGDComposerSavedReplySuggestionTrayQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24995145283423757"}),null);
__d("IGDComposerSavedReplySuggestionTrayQuery.graphql",["IGDComposerSavedReplySuggestionTrayQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDComposerSavedReplySuggestionTrayQuery",selections:[{alias:null,args:null,concreteType:"IGSavedRepliesResponse",kind:"LinkedField",name:"xig_get_saved_replies",plural:!1,selections:[{alias:null,args:null,concreteType:"IGSavedReply",kind:"LinkedField",name:"saved_replies",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"IGDComposerSavedReplySuggestionTray_savedReplies"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"IGDComposerSavedReplySuggestionTrayQuery",selections:[{alias:null,args:null,concreteType:"IGSavedRepliesResponse",kind:"LinkedField",name:"xig_get_saved_replies",plural:!1,selections:[{alias:null,args:null,concreteType:"IGSavedReply",kind:"LinkedField",name:"saved_replies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"uuid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortcut",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("IGDComposerSavedReplySuggestionTrayQuery_instagramRelayOperation"),metadata:{},name:"IGDComposerSavedReplySuggestionTrayQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDComposerSavedReplySuggestionTray_savedReplies.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"IGDComposerSavedReplySuggestionTray_savedReplies",selections:[{alias:null,args:null,kind:"ScalarField",name:"uuid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortcut",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],type:"IGSavedReply",abstractKey:null};a.exports=e}),null);
__d("IGDComposerSavedReplySuggestionTray.react",["fbt","CometPressable.react","CometRelay","IGDComposerSavedReplyLocalStorage","IGDComposerSavedReplySettingsDialog.entrypoint","IGDComposerSavedReplySuggestionTrayQuery.graphql","IGDComposerSavedReplySuggestionTray_savedReplies.graphql","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSavedReplyPersonalizationUtils","IgdWebSavedReplyEventsFalcoEvent","Lexical","react","react-compiler-runtime","useContactReachabilityStatus","useIGDSEntryPointDialog","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useEffect,g=p.useRef,h=p.useState,y={pressableItem:{width:"xh8yej3",$$css:!0}},C=function(t,n){if(!t.trim()||n.length===0)return[];var e=t.toLowerCase();return n.filter(function(t){if(t.text){var n=t.text.trim().replace(/\s+/g," ").toLowerCase(),r=e.trim().replace(/\s+/g," ");if(n===r)return!1}if(t.shortcut&&t.shortcut.toLowerCase().trim()===e)return!0;if(t.text&&e.length>=5){var o=t.text.toLowerCase();if(o.includes(e))return!0}return!1}).sort(function(t,n){var r,o,a=t.shortcut&&t.shortcut.toLowerCase()===e,i=n.shortcut&&n.shortcut.toLowerCase()===e;return a&&!i?-1:!a&&i?1:((r=n.usage_count)!=null?r:0)-((o=t.usage_count)!=null?o:0)}).slice(0,5)},b=function(t,n){if(!n)return m.jsx("span",{className:"x1roi4f4",children:t});var e=n.toLowerCase(),r=t.toLowerCase(),o=r.indexOf(e);if(o===-1)return m.jsx("span",{className:"x1roi4f4",children:t});var a=t.substring(0,o),i=t.substring(o,o+n.length),l=t.substring(o+n.length);return m.jsxs(m.Fragment,{children:[a&&m.jsx("span",{className:"x1roi4f4",children:a}),m.jsx("span",{className:"x1qz8m4s x117nqv4",children:i}),l&&m.jsx("span",{className:"x1roi4f4",children:l})]})};function v(e){var t=o("react-compiler-runtime").c(33),n=e.currentInput,a=e.editor,i=e.matchingSavedReplies,l=e.onDismiss,u=e.onOptOut,c=e.otherUserFirstName,d=e.otherUserFullName,p=g(!1),_,h;t[0]!==n.length||t[1]!==i.length?(_=function(){i.length>0&&!p.current&&(p.current=!0,r("IgdWebSavedReplyEventsFalcoEvent").log(function(){return{action:"sayt_suggestion_impression",event_data:{match_length:String(n.length),num_items:String(i.length)}}}))},h=[n.length,i.length],t[0]=n.length,t[1]=i.length,t[2]=_,t[3]=h):(_=t[2],h=t[3]),f(_,h);var C,v;t[4]!==n.length||t[5]!==i.length?(C=function(){i.length>0&&r("IgdWebSavedReplyEventsFalcoEvent").log(function(){return{action:"sayt_suggestion_match_found",event_data:{match_length:String(n.length),num_items:String(i.length)}}})},v=[n.length,i.length],t[4]=n.length,t[5]=i.length,t[6]=C,t[7]=v):(C=t[6],v=t[7]),f(C,v);var S;t[8]!==n.length||t[9]!==a||t[10]!==l||t[11]!==c||t[12]!==d?(S=function(t,i){if(r("IgdWebSavedReplyEventsFalcoEvent").log(function(){return{action:"sayt_suggestion_select",event_data:{match_length:String(n.length),position:String(i)}}}),a&&t.text){var e=o("IGDSavedReplyPersonalizationUtils").replacePersonalizationPlaceholders(t.text,c,d);a.update(function(){var t=o("Lexical").$createParagraphNode(),n=o("Lexical").$createTextNode(e);t.append(n);var r=o("Lexical").$getRoot();r.clear(),r.append(t),t.selectEnd(),a.focus()})}l()},t[8]=n.length,t[9]=a,t[10]=l,t[11]=c,t[12]=d,t[13]=S):S=t[13];var R=S,L;t[14]!==u?(L=function(t){t.stopPropagation(),u()},t[14]=u,t[15]=L):L=t[15];var E=L;if(i.length===0)return null;var k;t[16]===Symbol.for("react.memo_cache_sentinel")?(k=s._(/*BTDS*/"Saved replies"),t[16]=k):k=t[16];var I=k,T;t[17]===Symbol.for("react.memo_cache_sentinel")?(T={className:"xgf5ljw x1i5p2am x1whfx0g xr2y4jy x1ihp6rs x1yvgwvq x13fuv20 x178xt8z x10w3d4m x78zum5 xdt5ytf xtijo5x x1o0tod x1e56ztr x1hkcv85 x1odjw0f x10l6tqk"},t[17]=T):T=t[17];var D;if(t[18]!==n||t[19]!==E||t[20]!==R||t[21]!==i||t[22]!==c||t[23]!==d){var x;t[25]!==n||t[26]!==E||t[27]!==R||t[28]!==c||t[29]!==d?(x=function(t,a){var e,i,l=o("IGDSavedReplyPersonalizationUtils").replacePersonalizationPlaceholders((e=t.text)!=null?e:"",c,d),u=t.shortcut?t.shortcut+" \u2022 "+l:l,p=a===0;return m.jsx(r("CometPressable.react"),{onPress:function(){return R(t,a)},xstyle:y.pressableItem,children:m.jsxs("div",{className:"x1cy8zhl x1ixjvfu x1q0q8m5 xso031l x1ypdohk x78zum5 x1q0g3np x1f6kntn x1y1aw1k xwib8y2 x1g0dm76 xpdmqnj xh8yej3 x2nact x1t1lzn6",children:[m.jsxs("div",{className:"x1iyjqo2",children:[m.jsx("div",{className:"x1roi4f4 x1pg5gke xzueoph",children:I}),b(u,n)]}),p&&m.jsx("div",{className:"x6s0dn4 x1roi4f4 x1ypdohk x78zum5 x1c3i2sq xl56j7k xmzvs34 xf159sx x134bqvu x1o9uer x1de710j xbtwl55 x1k1bblp",onClick:E,role:"button",tabIndex:0,children:m.jsx(r("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:s._(/*BTDS*/"More options"),color:"ig-primary-text",size:20})})]})},(i=t.uuid)!=null?i:t.text)},t[25]=n,t[26]=E,t[27]=R,t[28]=c,t[29]=d,t[30]=x):x=t[30],D=i.map(x),t[18]=n,t[19]=E,t[20]=R,t[21]=i,t[22]=c,t[23]=d,t[24]=D}else D=t[24];var $;return t[31]!==D?($=m.jsx("div",babelHelpers.extends({},T,{children:D})),t[31]=D,t[32]=$):$=t[32],$}function S(t){var a,i,l,s,d,p,_=o("react-compiler-runtime").c(22),g=t.editor,y=t.thread,b=h(""),S=b[0],L=b[1],E;_[0]===Symbol.for("react.memo_cache_sentinel")?(E=[],_[0]=E):E=_[0];var k=h(E),I=k[0],T=k[1],D=h(!1),x=D[0],$=D[1],P=o("IGDComposerSavedReplyLocalStorage").getIsOptedOut(),N;_[1]===Symbol.for("react.memo_cache_sentinel")?(N={},_[1]=N):N=_[1];var M=r("useIGDSEntryPointDialog")(r("IGDComposerSavedReplySettingsDialog.entrypoint"),N,"button"),w=M[0],A=(c||(c=r("useReStore")))(),F=o("useContactReachabilityStatus").useOtherUser(A,y.threadKey,y.threadType),O=(a=F==null||(i=F[1])==null?void 0:i.firstName)!=null?a:null,B=(l=F==null||(s=F[1])==null?void 0:s.name)!=null?l:null,W=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("IGDComposerSavedReplySuggestionTrayQuery.graphql"),{}),q=(d=(p=W.xig_get_saved_replies)==null?void 0:p.saved_replies)!=null?d:[],U=o("CometRelay").useFragment(u!==void 0?u:u=n("IGDComposerSavedReplySuggestionTray_savedReplies.graphql"),q),V,H;_[2]!==U?(V=function(){if(U){var e=U.map(R);T(e)}},H=[U],_[2]=U,_[3]=V,_[4]=H):(V=_[3],H=_[4]),f(V,H);var G,z;_[5]!==g||_[6]!==x?(G=function(){var e=g.registerUpdateListener(function(e){var t=e.editorState;t.read(function(){var e=o("Lexical").$getRoot(),t=e.getTextContent().trim();L(t),!t&&x&&$(!1)})});return e},z=[g,x],_[5]=g,_[6]=x,_[7]=G,_[8]=z):(G=_[7],z=_[8]),f(G,z);var j;_[9]!==w?(j=function(){$(!0),w({})},_[9]=w,_[10]=j):j=_[10];var K=j,Q;_[11]===Symbol.for("react.memo_cache_sentinel")?(Q=function(){$(!0)},_[11]=Q):Q=_[11];var X=Q,Y;_[12]!==S||_[13]!==I?(Y=C(S,I),_[12]=S,_[13]=I,_[14]=Y):Y=_[14];var J=Y;if(P||x)return null;var Z;return _[15]!==S||_[16]!==g||_[17]!==K||_[18]!==J||_[19]!==O||_[20]!==B?(Z=m.jsx(v,{currentInput:S,editor:g,matchingSavedReplies:J,onDismiss:X,onOptOut:K,otherUserFirstName:O,otherUserFullName:B}),_[15]=S,_[16]=g,_[17]=K,_[18]=J,_[19]=O,_[20]=B,_[21]=Z):Z=_[21],Z}function R(e){var t,n,r,o;return{creation_time:(t=e.creation_time)!=null?t:0,label:e.label,shortcut:(n=e.shortcut)!=null?n:"",text:(r=e.text)!=null?r:"",usage_count:(o=e.usage_count)!=null?o:0,uuid:e.uuid}}l.default=S}),226);
__d("IGDComposerThemeConfigOverride",[],(function(t,n,r,o,a,i){"use strict";var e={dark:{"chat-composer-button-color":"var(--chat-outgoing-message-bubble-background-color)","mwp-primary-theme-color":"var(--chat-outgoing-message-bubble-background-color)"},light:{"chat-composer-button-color":"var(--chat-outgoing-message-bubble-background-color)","mwp-primary-theme-color":"var(--chat-outgoing-message-bubble-background-color)"},type:"VARIABLES"},l=e;i.default=l}),66);
__d("IGDComposerViewSendButton.react",["fbt","IGDComposerIconSendButton.react","IGDEntryPoints","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","WebStorage","qex","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useCallback,m={sendTextButton:{alignSelf:"x7fd4wk",marginBottom:"x1sfzahb",marginInlineEnd:"xnnr8r",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(16),a=t.hidden,i=t.onClick,l=r("MessengerWebUXLogger").useInteractionLogger(),u=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),d=r("useIsChatTabsDisplay")(),p=String(d),_;n[0]!==p?(_={isChatTab:p},n[0]=p,n[1]=_):_=n[1];var f;n[2]!==u||n[3]!==_?(f={eventName:"composer_send_button_rendered",extraData:_,flowInstanceId:u},n[2]=u,n[3]=_,n[4]=f):f=n[4];var g=r("MessengerWebUXLogger").useImpressionLoggerRef(f),h;n[5]!==u||n[6]!==l||n[7]!==i?(h=function(){i();var t=(e||(e=r("WebStorage"))).getSessionStorage(),n=(t==null?void 0:t.getItem("isFromBusinessChats"))==="true";l==null||l({entryPoint:n?o("IGDEntryPoints").IGDEntryPoints.BUSINESS_CHATS:o("IGDEntryPoints").IGDEntryPoints.UNKNOWN,eventName:"send_message",flowInstanceId:u}),n&&(t==null||t.removeItem("isFromBusinessChats"))},n[5]=u,n[6]=l,n[7]=i,n[8]=h):h=n[8];var y=h,C;if(n[9]!==d){var b;C=d||((b=r("qex")._("917"))!=null?b:!1),n[9]=d,n[10]=C}else C=n[10];var v=C,S;return n[11]!==a||n[12]!==g||n[13]!==y||n[14]!==v?(S=v?c.jsx(r("IGDComposerIconSendButton.react"),{hidden:a,isDisabled:a===!0,onClick:y,ref:g,testid:void 0}):c.jsx(r("IGDSButton.react"),{"data-testid":void 0,display:"block",hidden:a,label:s._(/*BTDS*/"Send"),onClick:y,ref:g,variant:"primary_link",xstyle:m.sendTextButton}),n[11]=a,n[12]=g,n[13]=y,n[14]=v,n[15]=S):S=n[15],S}l.default=p}),226);
__d("createComposerDeferredPlugin",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useRef,m=u.useState;function p(e){function t(t){var n=d(e.getModuleIfRequireable()),r=m(n.current!=null),o=r[0],a=r[1];if(c(function(){var t=e.onReady(function(e){n.current=e,a(!0)});return function(){return t.remove()}},[]),n.current!=null){var i=n.current;return s.jsx(i,babelHelpers.extends({},t))}return null}return s.memo(t)}l.default=p}),98);
__d("IGDMentionsComposerPlugin.react",["CometPlaceholder.react","createComposerDeferredPlugin","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("createComposerDeferredPlugin")(r("requireDeferred")("IGDMentionsPluginForLexical.react").__setRef("IGDMentionsComposerPlugin.react"));function c(e){var t=o("react-compiler-runtime").c(4),n=e.editor,a=e.isAiBotMentionsEnabled,l=e.threadKey,c;return t[0]!==n||t[1]!==a||t[2]!==l?(c=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(u,{editor:n,isAiBotMentionsEnabled:a,threadKey:l})}),t[0]=n,t[1]=a,t[2]=l,t[3]=c):c=t[3],c}l.default=c}),98);
__d("IGDSMicrophonePanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n,a,i,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M19.5 10.671v.897a7.5 7.5 0 0 1-15 0v-.897",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),a=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",x1:"12",x2:"12",y1:"19.068",y2:"22"}),i=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"8.706",x2:"15.104",y1:"22",y2:"22"}),l=s.jsx("path",{d:"M12 15.745a4 4 0 0 1-4-4V6a4 4 0 0 1 8 0v5.745a4 4 0 0 1-4 4Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),t[0]=n,t[1]=a,t[2]=i,t[3]=l):(n=t[0],a=t[1],i=t[2],l=t[3]);var u;return t[4]!==e?(u=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a,i,l]})),t[4]=e,t[5]=u):u=t[5],u}var c=s.memo(u);l.default=c}),98);
__d("IGDVoiceClipButton.react",["IGDSIconButton.react","IGDSMicrophonePanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","PolarisDirectStrings","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c={voiceClip:{paddingInlineEnd:"x1icxu4v",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(10),n=e.voiceRecorder,a=r("MessengerWebUXLogger").useInteractionLogger(),i=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),l;t[0]!==i?(l={eventName:"composer_audio_button_rendered",flowInstanceId:i},t[0]=i,t[1]=l):l=t[1];var u=r("MessengerWebUXLogger").useImpressionLoggerRef(l),d;t[2]!==i||t[3]!==a||t[4]!==n?(d=function(){navigator.mediaDevices&&r("promiseDone")(navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(e){n.start(e)})),a==null||a({eventName:"composer_record_audio",flowInstanceId:i})},t[2]=i,t[3]=a,t[4]=n,t[5]=d):d=t[5];var m=d,p;t[6]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(r("IGDSMicrophonePanoOutline24Icon.react"),{alt:o("PolarisDirectStrings").VOICE_CLIP_RECORDER_ICON_ALT_TEXT,color:"ig-primary-text",size:24}),t[6]=p):p=t[6];var _;return t[7]!==u||t[8]!==m?(_=s.jsx(r("IGDSIconButton.react"),{innerRef:u,onClick:m,xstyle:c.voiceClip,children:p}),t[7]=u,t[8]=m,t[9]=_):_=t[9],_}l.default=d}),98);
__d("MWChatComposerIcons",["cr:2809"],(function(t,n,r,o,a,i,l){"use strict";var e;l.MWChatComposerIconsGif=(e=n("cr:2809")).Gif,l.MWChatComposerIconsSticker=e.Sticker,l.MWChatComposerIconsPhoto=e.Photo,l.MWChatComposerIconsMoreActions=e.MoreActions,l.MWChatComposerIconsEmoji=e.Emoji}),98);
__d("MWPCometComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalComposerContext","LexicalErrorBoundary","LexicalHistoryPlugin","LexicalPlainTextPlugin","MLCInstrumentationPluginDeferred__INTERNAL.react","react","requireDeferred","useDeferredModuleOnReady"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo,p=r("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("MWPCometComposerInner.react"),_={editor:{flexGrow:"x1iyjqo2",maxHeight:"x1gh3ibb",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0}},f=s._(/*BTDS*/"Message").toString();function g(e){var t=e.ariaDescribedBy,n=e.contentEditableRef,a=e.editor,i=e.handlePastedFiles,l=e.placeholderText,s=e.policyProduct,c=e.surface,g=e.testId,h=r("useDeferredModuleOnReady")(p),y=o("LexicalComposerContext").createLexicalComposerContext(),C=m(function(){return[a,y]},[a,y]),b=d(function(e){var t=e==null?null:e;n.current=t},[n,a]),v=u.jsx(r("CometLexicalContentEditable.react"),babelHelpers.extends({ariaDescribedBy:t,ariaLabel:f},l==null?{}:{"aria-placeholder":l,placeholder:u.jsx(r("CometLexicalPlaceholder.react"),{children:l})},{contentEditableRef:b,spellCheck:!0,tabIndex:0,webDriverTestID:g,xstyle:_.editor}));return u.jsxs("div",{className:"x1n2onr6",children:[u.jsxs(o("LexicalComposerContext").LexicalComposerContext.Provider,{value:C,children:[u.jsx(r("MLCInstrumentationPluginDeferred__INTERNAL.react"),{policyProduct:s,surface:c}),u.jsx(o("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:o("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:v}),u.jsx(o("LexicalHistoryPlugin").HistoryPlugin,{})]}),h==null||i===void 0?null:u.jsx(h,{editor:a,handlePastedFiles:i})]})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),226);
__d("WAGetUserMedia",[],(function(t,n,r,o,a,i){"use strict";function e(){var e=navigator.mediaDevices;return e==null?null:function(t){return e.getUserMedia(t)}}var l=e();i.getUserMedia=l}),66);
__d("WAPttComposerOpusRecorder",["$InternalEnum","Promise","WAGetUserMedia","WANullthrows","WAOpusRecorderWorkerClient","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e,s={bitRate:16e3,bufferLength:4096,numberOfChannels:1,encoderSampleRate:16e3,maxBuffersPerPage:40,encoderApplication:2048,encoderFrameSize:20,streamOptions:{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}}},u=n("$InternalEnum").Mirrored(["INACTIVE","RECORDING","PAUSED","STOPPED"]),c=(function(){function t(t){var o=this;if(this._duration=0,this._recordedPages=[],this._state=u.INACTIVE,this._isFirstBuffer=!1,this._requestCount=0,this._pendingFlushResolvers=new Map,this._handleEncoderMessage=function(e){var t=e.data;switch(t.message){case"page":o._storePage(t.page);break;case"flushed":o._handleFlushed(t.requestId);break;default:throw r("err")("Invalid message event type: "+t.message)}},!m())throw r("err")("Recording is not supported in this browser");this._createStream=t.createStream,this._onDuration=t.onDuration,this._onPause=t.onPause,this._onResume=t.onResume,this._onStart=t.onStart,this._onStop=t.onStop,this._handlePage=t.onPage,this._completeRecordingPromise=new(e||(e=n("Promise")))(function(e){o._resolveCompleteRecordingPromise=e}),this._audioContext=new AudioContext,this._encoderNode=this._audioContext.createScriptProcessor(s.bufferLength,s.numberOfChannels,s.numberOfChannels),this._encoderNode.onaudioprocess=function(e){o._encodeBuffers(e.inputBuffer)},this._monitorNode=this._audioContext.createGain()}var a=t.prototype;return a.getState=function(){return this._state},a.start=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e,t;switch(this._state){case u.RECORDING:return!0;case u.STOPPED:return!1;case u.PAUSED:return this.resume();case u.INACTIVE:break}this._recordedPages=[],this._isFirstBuffer=!0,this._duration=0;var n=o("WAOpusRecorderWorkerClient").getOpusEncoderWorker();this._encoder=n,n.addEventListener("message",this._handleEncoderMessage);var r=yield this._startRecording();return r?((e=this._onStart)==null||e.call(this),(t=this._onDuration)==null||t.call(this,this._duration),n.postMessage({command:"encode-init",config:babelHelpers.extends({},s,{originalSampleRate:this._audioContext.sampleRate})}),this._encoderNode.connect(this._audioContext.destination),!0):!1});function t(){return e.apply(this,arguments)}return t})(),a.stop=function(){var e,t;this._state!==u.STOPPED&&(this._state=u.STOPPED,(e=this._recordingAbortController)==null||e.abort(),this._audioContext.close&&this._audioContext.close(),this._monitorNode.disconnect(),this._encoderNode.disconnect(),(t=this._encoder)==null||t.postMessage({command:"encode-done"}))},a.pause=function(){var e,t;this._state===u.RECORDING&&(this._state=u.PAUSED,(e=this._recordingAbortController)==null||e.abort(),(t=this._onPause)==null||t.call(this))},a.resume=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e;switch(this._state){case u.RECORDING:return!0;case u.STOPPED:return!1;case u.INACTIVE:throw r("err")("Attempting to resume recording that hasn't started");case u.PAUSED:break}var t=yield this._startRecording();return t?((e=this._onResume)==null||e.call(this),!0):!1});function t(){return e.apply(this,arguments)}return t})(),a.getDuration=function(){return this._duration},a.getMonitorNode=function(){return this._monitorNode},a._encodeBuffers=function(t){var e;if(this._isFirstBuffer){this._isFirstBuffer=!1;return}if(this._state===u.RECORDING){for(var n=[],o=0;o<t.numberOfChannels;o++)n[o]=t.getChannelData(o);var a=r("WANullthrows")(this._encoder);a.postMessage({command:"encode",buffers:n}),this._duration+=t.duration,(e=this._onDuration)==null||e.call(this,this._duration)}},a._getNextRequestId=function(){return this._requestCount++,this._requestCount},a._startRecording=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){this._state=u.RECORDING,this._recordingAbortController=new AbortController;var e=yield p(this._createStream,this._audioContext,[this._encoderNode,this._monitorNode],this._recordingAbortController.signal);return e?!0:(this.stop(),!1)});function t(){return e.apply(this,arguments)}return t})(),a._storePage=function(t){var e;if(this._recordedPages.push(t),t[5]&4){var n,o;(n=this._handlePage)==null||n.call(this,t,!0);var a=r("WANullthrows")(this._encoder);a.removeEventListener("message",this._handleEncoderMessage),this._resolveCompleteRecordingPromise(d(this._recordedPages)),this._recordedPages=[],(o=this._onStop)==null||o.call(this);return}(e=this._handlePage)==null||e.call(this,t,!1)},a._handleFlushed=function(t){var e=r("WANullthrows")(this._pendingFlushResolvers.get(t));this._pendingFlushResolvers.delete(t),e(d(this._recordedPages))},a.getPartialRecording=function(){var t=this,o=this._getNextRequestId(),a=new(e||(e=n("Promise")))(function(e){t._pendingFlushResolvers.set(o,e)}),i=r("WANullthrows")(this._encoder);return i.postMessage({command:"flush",requestId:o}),a},a.getCompleteRecording=function(){return this._completeRecordingPromise},t})();function d(e){var t=e.reduce(function(e,t){return e+t.length},0),n=new Uint8Array(t),r=0;for(var o of e)n.set(o,r),r+=o.length;return new Blob([n],{type:"audio/ogg; codecs=opus"})}function m(){return!!(window.AudioContext&&o("WAGetUserMedia").getUserMedia)}function p(e,t,n,r){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var o=yield e(r);if(r.aborted||o==null)return!1;var a=t.createMediaStreamSource(o);return n.forEach(function(e){a.connect(e)}),r.addEventListener("abort",function(){o.getTracks().forEach(function(e){e.stop()}),a.disconnect()},{once:!0}),!0}),_.apply(this,arguments)}l.OpusRecorderState=u,l.OpusRecorder=c}),98);
__d("WAPttComposerRecorderPollableTimer",[],(function(t,n,r,o,a,i){var e=(function(){function e(){}var t=e.prototype;return t.start=function(){this.$1=Date.now()},t.stop=function(){this.$2=Date.now()},t.pause=function(){this.stop()},t.resume=function(){this.$1=Date.now()-this.getTime(),this.$2=null},t.getTime=function(){var e,t=this.$1;if(t==null)return 0;var n=(e=this.$2)!=null?e:Date.now();return n-t},e})();i.default=e}),66);
__d("WAStartAnimationLoop",[],(function(t,n,r,o,a,i){function e(e,t){var n=t!=null?t:{},r=n.delay,o=r===void 0?0:r,a,i,l,s=function(){i=!0,window.cancelAnimationFrame(a)},u=function(n){(l==null||n-l>=o)&&(e(n),l=n),!i&&(a=window.requestAnimationFrame(u))};return a=window.requestAnimationFrame(u),s}i.startAnimationLoop=e}),66);
__d("WAPttComposerWaveformRecorder",["WANullthrows","WAPttComposerRecorderPollableTimer","WAPttComposerScaleWaveform","WAStartAnimationLoop"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e,t){var n=this;this.$2=new(r("WAPttComposerRecorderPollableTimer")),this.$3=[],this.$4=[],this.$5=0,this.$10=function(){n.$5=Math.max(n.$5,n.$11());var e=n.$3.length/n.$1,t=Math.floor((n.getDuration()-e)*n.$1);if(t!==0){for(var r=0;r<t;r++)n.$3.push(n.$5);n.$5=0}},this.$12=0,this.$7=s(e),e.connect(this.$7),this.$1=t}var t=e.prototype;return t.start=function(){this.$2.start(),this.$9()},t.stop=function(){var e;this.$2.stop(),(e=this.$6)==null||e.call(this)},t.pause=function(){var e;this.$2.pause(),(e=this.$6)==null||e.call(this)},t.resume=function(){this.$2.resume(),this.$9()},t.$9=function(){this.$6=o("WAStartAnimationLoop").startAnimationLoop(this.$10)},t.$11=function(){var e,t=r("WANullthrows")(this.$7);this.$8=(e=this.$8)!=null?e:new Uint8Array(t.frequencyBinCount);var n=this.$8;return t.getByteFrequencyData(n),Math.max.apply(Math,Array.from(n))/255},t.commitSamples=function(t){var e=Math.floor(t*this.$1),n=e-this.$4.length,o=this.$3.length-this.$12;if(!(n===0||o===0)){var a=this.$3.slice(this.$12,this.$3.length),i=r("WAPttComposerScaleWaveform")(a,n);for(var l of i)this.$4.push(l);this.$12=this.$3.length}},t.getSamples=function(){return this.$3},t.getDuration=function(){var e,t=(e=this.$2.getTime())!=null?e:0;return t/1e3},t.getCorrectedSamples=function(){return this.$4},e})();function s(e){var t=e.context.createAnalyser();return t.fftSize=32,t.smoothingTimeConstant=0,t.minDecibels=-60,t.maxDecibels=-10,t}l.default=e}),98);
__d("WAPttComposerRecorder",["WAPttComposerOpusRecorder","WAPttComposerWaveformRecorder","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e){var t=this;this._handleOpusRecorderDuration=function(){t._waveformRecorder.commitSamples(t.getDuration()),t._onDuration==null||t._onDuration(t.getDuration())},this._onDuration=e.onDuration,this._opusRecorder=new(o("WAPttComposerOpusRecorder")).OpusRecorder({createStream:e.createStream,onDuration:this._handleOpusRecorderDuration,onPage:function(n,r){e.onPage==null||e.onPage(n,r)}}),this._waveformRecorder=new(r("WAPttComposerWaveformRecorder"))(this._opusRecorder.getMonitorNode(),e.waveformSampleRate)}var t=e.prototype;return t.start=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield this._opusRecorder.start();return e?(this._waveformRecorder.start(),!0):!1});function t(){return e.apply(this,arguments)}return t})(),t.stop=function(){this._opusRecorder.stop(),this._waveformRecorder.stop()},t.pause=function(){this._opusRecorder.pause(),this._waveformRecorder.pause()},t.resume=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield this._opusRecorder.resume();return e?(this._waveformRecorder.resume(),!0):!1});function t(){return e.apply(this,arguments)}return t})(),t.getDuration=function(){return this._opusRecorder.getDuration()},t.getPreciseDuration=function(){var e;return(e=this._waveformRecorder.getDuration())!=null?e:0},t.getLiveWaveformSamples=function(){return this._waveformRecorder.getSamples()},t.getCorrectedWaveformSamples=function(){return this._waveformRecorder.getCorrectedSamples()},t.getPartialRecording=function(){return this._opusRecorder.getPartialRecording()},t.getCompleteRecording=function(){return this._opusRecorder.getCompleteRecording()},e})();l.default=e}),98);
__d("MWPUseVoiceRecorderV2",["FBLogger","MAWAudioUtils","MWPAudioPlayerIcons.react","MWPAudioPlayerLabels","Promise","WAMaybeTranscodeOggOpusToWavForPlayback","WAPttComposerRecorder","asyncToGeneratorRuntime","clearTimeout","emptyFunction","err","getSafeQplErrorMessage","gkx","react","setTimeout","useIsMountedRef","usePrevious","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_=p||(p=o("react")),f=p,g=f.useCallback,h=f.useEffect,y=f.useReducer,C=f.useRef,b=function(){return r("FBLogger")("wmi").tags(["audio"])};function v(e){switch(e.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function S(e){switch(e.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function R(e){switch(e.stage){case"Unopen":return 0;case"Recording":return e.duration;case"Recorded":case"Playing":return Math.max(e.duration-e.currentTime,0)}}function L(e){switch(e.stage){case"Unopen":return 0;case"Recording":return e.recordingTimeout;case"Recorded":case"Playing":return e.duration}}function E(e){switch(e.stage){case"Unopen":case"Recording":return;case"Recorded":case"Playing":return e.currentTime}}function k(e){switch(e.stage){case"Unopen":case"Recorded":return!1;case"Recording":case"Playing":return!0}}function I(e){return e.stage==="Recorded"?e.currentTime===0:!1}function T(e){switch(e.stage){case"Recording":return o("MWPAudioPlayerLabels").stopLabel;case"Unopen":case"Recorded":return o("MWPAudioPlayerLabels").playLabel;case"Playing":return o("MWPAudioPlayerLabels").pauseLabel}}function D(e,t){switch(e.stage){case"Recording":return _.jsx(o("MWPAudioPlayerIcons.react").StopIcon,{color:t});case"Unopen":case"Recorded":return _.jsx(o("MWPAudioPlayerIcons.react").PlayIcon,{color:t});case"Playing":return _.jsx(o("MWPAudioPlayerIcons.react").PauseIcon,{color:t})}}D.displayName=D.name+" [from "+i.id+"]";function x(e,t){switch(t.type){case"Start":return{duration:0,mediaStream:t.mediaStream,recordingTimeout:t.recordingTimeout,stage:"Recording"};case"Toggle":{switch(e.stage){case"Unopen":return e;case"Recording":return{currentTime:0,duration:e.duration,stage:"Recorded"};case"Recorded":return{currentTime:e.currentTime,duration:e.duration,stage:"Playing"};case"Playing":return{currentTime:e.currentTime,duration:e.duration,stage:"Recorded"}}break}case"UpdateDuration":{if(e.duration!=null&&t.duration<e.duration)return e;var n=t.duration;switch(e.stage){case"Unopen":return e;case"Recording":return{duration:n,mediaStream:e.mediaStream,recordingTimeout:e.recordingTimeout,stage:"Recording"};case"Recorded":return{currentTime:e.currentTime,duration:n,stage:"Recorded"};case"Playing":return{currentTime:e.currentTime,duration:n,stage:"Playing"}}break}case"UpdateTime":{var r=t.currentTime;switch(e.stage){case"Unopen":case"Recording":return e;case"Recorded":{var o=e.duration;return r===o?{currentTime:0,duration:o,stage:"Recorded"}:{currentTime:r,duration:o,stage:"Recorded"}}case"Playing":{var a=e.duration;return r===a?{currentTime:0,duration:a,stage:"Recorded"}:{currentTime:r,duration:a,stage:"Playing"}}}break}case"RecordingTimeout":return{currentTime:0,duration:t.recordingTimeout,stage:"Recorded"};case"Reset":return{stage:"Unopen"}}}var $={stage:"Unopen"};function P(t){var a=t.maxDuration,i=a===void 0?60:a,l=t.logClickStartRecording,p=l===void 0?r("emptyFunction"):l,_=t.logBrowserDenyAccess,f=_===void 0?r("emptyFunction"):_,v=t.createVoiceRecordQpl,S=y(x,$),R=S[0],L=S[1],E=r("useIsMountedRef")(),k=C(),I=C(),T=C(),D=C(),P=C(),N=C(r("emptyFunction")),M=g((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t[0],a=t[1],i=t[2];if(E.current){var l=new Date().getTime(),s=Math.round(a*1e3),u="audioclip-"+l+"-"+s+".ogg",c=new File([n],u,{type:"audio/ogg"}),d=URL.createObjectURL(yield o("WAMaybeTranscodeOggOpusToWavForPlayback").maybeTranscodeOggOpusToWavForPlayback(n));T.current=d;var m=new Audio(d);m.addEventListener("error",function(){var t,n;b().MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["audioElement error code: ",". message: ",""])),(t=m.error)==null?void 0:t.code,(n=m.error)==null?void 0:n.message)}),m.addEventListener("canplay",function(){var e;I.current=m;var t=m.duration;L({duration:t,type:"UpdateDuration"});var n=r("gkx")("20216")?{amplitudes:o("MAWAudioUtils").recomputeWaveform(i),sampling_freq:t>0?o("MAWAudioUtils").WAVEFORM_TARGET_SIZE/t:0}:{amplitudes:i,sampling_freq:o("MAWAudioUtils").WAVEFORM_SAMPLE_RATE},a={duration:t,file:c,waveformData:n};D.current=a,N.current(a),(e=P.current)==null||e.endSuccess()}),m.addEventListener("timeupdate",function(){var e,t=(e=I.current)==null?void 0:e.currentTime;t!=null&&L({currentTime:t,type:"UpdateTime"})}),m.addEventListener("durationchange",function(){var e,t=(e=I.current)==null?void 0:e.duration;t!=null&&!Number.isNaN(t)&&L({duration:t,type:"UpdateDuration"})})}});return function(e){return t.apply(this,arguments)}})(),[E]);h(function(){if(R.stage==="Recording"){p();var e=R.mediaStream;return(m||(m=n("Promise"))).resolve().then(function(){var t=new(r("WAPttComposerRecorder"))({createStream:function(){return r("vulture")("ct5jsEZHAS-hfER03NfFJsLUdSU="),(m||(m=n("Promise"))).resolve(e)},waveformSampleRate:o("MAWAudioUtils").WAVEFORM_SAMPLE_RATE});return k.current=t,t.start()}).then(function(e){if(e){b().INFO(s||(s=babelHelpers.taggedTemplateLiteralLoose(["PTT recording start successfully"])));return}return(m||(m=n("Promise"))).reject(r("err")("PTT recording start failed"))}).catch(function(e){var t;b().MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["PTT recording start Error ",""])),e),(t=P.current)==null||t.endFail("start-error",{string:{failReason:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})}),function(){var e;(e=k.current)==null||e.stop()}}},[p,R.mediaStream,R.stage]);var w=r("usePrevious")(R);h(function(){if((w==null?void 0:w.stage)==="Recording"&&R.stage==="Recorded"){var e=k.current;if(e==null)return;e.stop(),(m||(m=n("Promise"))).all([e.getCompleteRecording(),e.getCorrectedWaveformSamples()]).then(function(t){var n=t[0],r=t[1],o=e.getDuration();return M([n,o,r])}).catch(function(e){var t;b().MUSTFIX(c||(c=babelHelpers.taggedTemplateLiteralLoose(["PTT recording stop Error ",""])),e),(t=P.current)==null||t.endFail("browser-deny-access",{string:{failReason:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})})}},[M,w==null?void 0:w.stage,R.stage]),h(function(){if(R.stage==="Recording"){var e=Date.now(),t,n=function(){var o=(Date.now()-e)/1e3;if(o>=i){L({recordingTimeout:i,type:"RecordingTimeout"});return}L({duration:o,type:"UpdateDuration"}),t=r("setTimeout")(n,1e3)};return t=r("setTimeout")(n,1e3),function(){t!=null&&r("clearTimeout")(t)}}},[i,R.stage]);var A=g(function(e){var t=v==null?void 0:v();P.current=t,t==null||t.start({startInfo:{isOpusRecorder:!0}}),L({mediaStream:e,recordingTimeout:i,type:"Start"})},[i,v]),F=g(function(){var e,t;(e=P.current)==null||e.endCancel(),L({type:"Reset"}),(t=I.current)==null||t.pause(),I.current=void 0,D.current=void 0;var n=T.current;n!=null&&(URL.revokeObjectURL(n),T.current=void 0)},[]),O=g(function(){var e=function(){L({maxDuration:i,type:"Toggle"})},t=I.current;if(t==null){e();return}switch(R.stage){case"Unopen":{e();break}case"Recording":{var n;(n=P.current)==null||n.addPoint("stop-recording"),e();break}case"Recorded":{var r;(r=P.current)==null||r.addPoint("play-audio"),t.play().then(e).catch(function(e){var t;b().MUSTFIX(d||(d=babelHelpers.taggedTemplateLiteralLoose(["PTT recording play Error ",""])),e),(t=P.current)==null||t.endFail("browser-deny-access",{string:{failReason:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}}),f()});break}case"Playing":{var a;(a=P.current)==null||a.addPoint("pause-playing"),t.pause(),e();break}}},[f,R.stage,i]),B=g(function(){return new(m||(m=n("Promise")))(function(e){var t=D.current;if(t!=null)return e(t);if(N.current=e,R.stage==="Recording")return O()})},[R,O]);return{audioEl:I,getVoiceClip:B,reset:F,start:A,state:R,toggle:O}}l.showScreenReaderLabel=v,l.hasScrubber=S,l.getTimerTime=R,l.getDuration=L,l.getCurrentTime=E,l.isProgressing=k,l.isCompleted=I,l.getPlaybackLabel=T,l.getPlaybackIcon=D,l.useVoiceRecorder=P}),98);
__d("MWVoiceRecordQpl",["MAWLoggerUtils","QPLUserFlow","gkx","qpl","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e=r("qpl")._(25302342,"1531"),s=600*1e3;function u(){var t=o("MAWLoggerUtils").getInstanceKey();return{addAnnotations:function(o){r("QPLUserFlow").addAnnotations(e,o,{instanceKey:t})},addPoint:function(o,a){r("QPLUserFlow").addPoint(e,o,{data:a,instanceKey:t})},endCancel:function(o,a){r("QPLUserFlow").endCancel(e,{annotations:a,cancelReason:o,instanceKey:t})},endFail:function(o,a){r("QPLUserFlow").endFailure(e,o,{annotations:a,instanceKey:t})},endSuccess:function(o){r("QPLUserFlow").endSuccess(e,{annotations:o,instanceKey:t})},start:function(o){var n=o.startInfo.isOpusRecorder;r("vulture")("82X5KZTgiST4gLKOKR5LcJ74yWQ="),r("QPLUserFlow").start(e,{annotations:{bool:{isOpusAudioAbTestEnabled:r("gkx")("3053"),isOpusAudioEnabled:r("gkx")("3054"),isOpusRecorder:n}},cancelOnUnload:!0,instanceKey:t,timeoutInMs:s})}}}l.event=e,l.createVoiceRecordQpl=u}),98);
__d("useShouldShowTextOnlyComposerForInvite",["IGDInviteModelUtils","LSMessagingThreadTypeUtil","WebDriverConfig","react-compiler-runtime","useContactReachabilityStatus"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(7),a=o("useContactReachabilityStatus").useContactReachabilityStatus(e,t),i;n[0]!==t?(i=o("LSMessagingThreadTypeUtil").isOneToOne(t),n[0]=t,n[1]=i):i=n[1];var l=i,s;n[2]!==a||n[3]!==l?(s=!r("WebDriverConfig").isJestE2ETestRun&&l&&(o("IGDInviteModelUtils").shouldShowTextOnlyComposer(a)||o("IGDInviteModelUtils").shouldShowTextOnlyComposerWithBanner(a)),n[2]=a,n[3]=l,n[4]=s):s=n[4];var u=s,c;return n[5]!==u?(c=u&&(o("IGDInviteModelUtils").shouldUseInviteModelV2()||o("IGDInviteModelUtils").shouldUseInviteModel()),n[5]=u,n[6]=c):c=n[6],c}l.default=e}),98);
__d("IGDComposerView.react",["fbt","BaseTheme.react","CurrentUser","I64","IGDAiAgentsUtils","IGDComposerAttachmentButton.react","IGDComposerEmojiButton.react","IGDComposerMediaStaging.react","IGDComposerSavedReplyButton.react","IGDComposerSavedReplySuggestionTray.react","IGDComposerThemeConfigOverride","IGDComposerViewSendButton.react","IGDMAPIInterfaceTypes","IGDMentionsComposerPlugin.react","IGDSBox.react","IGDSIconButton.react","IGDVoiceClipButton.react","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWPActor.react","MWPCometComposerInner.react","MWPThreadCapabilitiesContext","MWPUseVoiceRecorderV2","MWVoiceRecordQpl","MessengerWebUXLogger","PolarisUA","Promise","RelayHooks","cr:21207","cr:213","cr:599","cr:9307","deferredLoadComponent","emptyFunction","promiseDone","qex","react","react-compiler-runtime","requireDeferred","useCurrentDisplayMode","useIsChatTabsDisplay","useShouldShowTextOnlyComposerForInvite"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u.useCallback,p=r("deferredLoadComponent")(r("requireDeferred")("IGDAudioRecorderSelector.react").__setRef("IGDComposerView.react")),_={chatTabComposerInnerContainer:{width:"xc5o50y",$$css:!0},composerInnerContainer:{paddingBottom:"xs9asl8",$$css:!0},mobileComposerInnerContainer:{paddingBottom:"xwib8y2",$$css:!0}};function f(t){var a,i=o("react-compiler-runtime").c(109),l=t.attachmentsSupported,u=t.editor,m=t.editorElementRef,f=t.hasStuffToSend,g=t.hideUploadPlaceholder,h=t.multiple,y=t.onAttachmentsAdded,C=t.onSendMessage,b=t.policyProduct,v=t.sendMessage,S=t.supportedFileTypes,R=t.surface,L=t.thread,E=g===void 0?!1:g,k=h===void 0?!0:h,I=(a=t.emojisSupported)!=null?a:!0,T=L.threadKey,D=L.threadSubtype,x=L.threadType,$;i[0]!==D?($=o("IGDAiAgentsUtils").isAiThread(D),i[0]=D,i[1]=$):$=i[1];var P=$,N=r("useIsChatTabsDisplay")(),M=N,w=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),A=w.hasLSThreadBitOffset,F;i[2]!==A?(F=A(56),i[2]=A,i[3]=F):F=i[3];var O=F,B;i[4]!==A?(B=A(109),i[4]=A,i[5]=B):B=i[5];var W=B,q;i[6]!==A?(q=A(43),i[6]=A,i[7]=q):q=i[7];var U=q,V;i[8]!==L.threadType?(V=o("LSMessagingThreadTypeUtil").isGroup(L.threadType),i[8]=L.threadType,i[9]=V):V=i[9];var H=V,G=o("RelayHooks").useRelayEnvironment(),z;i[10]===Symbol.for("react.memo_cache_sentinel")?(z=r("CurrentUser").getEIMU(),i[10]=z):z=i[10];var j=z,K;i[11]!==L.consistentThreadFbid?(K=L.consistentThreadFbid!=null?o("IGDMAPIInterfaceTypes").toThreadId((c||(c=o("I64"))).to_string(L.consistentThreadFbid)):null,i[11]=L.consistentThreadFbid,i[12]=K):K=i[12];var Q=K,X=o("MWPActor.react").useActor(),Y;i[13]!==A?(Y=A(14)&&(!o("PolarisUA").isMobile()||r("qex")._("443")===!0),i[13]=A,i[14]=Y):Y=i[14];var J=Y,Z;i[15]!==l||i[16]!==A?(Z=A(2)&&l===!0,i[15]=l,i[16]=A,i[17]=Z):Z=i[17];var ee=Z,te;i[18]!==ee?(te=ee&&r("qex")._("4")===!0,i[18]=ee,i[19]=te):te=i[19];var ne=te,re;i[20]===Symbol.for("react.memo_cache_sentinel")?(re=r("qex")._("499"),i[20]=re):re=i[20];var oe=re===!0,ae;if(i[21]===Symbol.for("react.memo_cache_sentinel")){var ie;ae=!o("PolarisUA").isMobile()&&((ie=r("qex")._("1358"))!=null?ie:!1),i[21]=ae}else ae=i[21];var le=ae,se;i[22]!==l||i[23]!==A?(se=A(4)&&A(3)&&l===!0,i[22]=l,i[23]=A,i[24]=se):se=i[24];var ue=se,ce;i[25]===Symbol.for("react.memo_cache_sentinel")?(ce={createVoiceRecordQpl:o("MWVoiceRecordQpl").createVoiceRecordQpl,maxDuration:void 0},i[25]=ce):ce=i[25];var de=o("MWPUseVoiceRecorderV2").useVoiceRecorder(ce),me=de.state.stage!=="Unopen",pe;i[26]!==C||i[27]!==de?(pe=function(){return r("promiseDone")(de.getVoiceClip().then(function(t){return de.reset(),C(void 0,void 0,void 0,void 0,void 0,void 0,void 0,t,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"IGDComposerView.onSendVoiceClip"),(e||(e=n("Promise"))).resolve()}))},i[26]=C,i[27]=de,i[28]=pe):pe=i[28];var _e=pe,fe=r("useCurrentDisplayMode")(),ge=fe==="dark"?"var(--always-white)":"var(--chat-composer-button-color)",he=ge,ye;i[29]!==v?(ye=function(){return v()},i[29]=v,i[30]=ye):ye=i[30];var Ce=ye,be=r("useShouldShowTextOnlyComposerForInvite")(T,x),ve;i[31]!==L.threadKey||i[32]!==L.threadType?(ve={eventName:"composer_view",threadKey:L.threadKey,threadType:L.threadType},i[31]=L.threadKey,i[32]=L.threadType,i[33]=ve):ve=i[33];var Se=r("MessengerWebUXLogger").useImpressionLoggerRef(ve),Re;i[34]!==u||i[35]!==L?(Re=le&&d.jsx(r("IGDComposerSavedReplySuggestionTray.react"),{editor:u,thread:L}),i[34]=u,i[35]=L,i[36]=Re):Re=i[36];var Le;i[37]!==M?(Le={0:{className:"x1qjc9v5 x1yvgwvq xjd31um x1ixjvfu xwt6s21 x1ua1ujl xksyday xshg46c xlej2ay x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 xdt5ytf xw7yly9 x1ys307a x1yztbdb xyqm7xq"},1:{className:"x1qjc9v5 x1yvgwvq xjd31um x1ixjvfu xwt6s21 x1ua1ujl xksyday xshg46c xlej2ay x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 xdt5ytf xw7yly9 x1ys307a x1yztbdb xyqm7xq x25sj25"}}[!!M<<0],i[37]=M,i[38]=Le):Le=i[38];var Ee;i[39]!==E||i[40]!==M||i[41]!==ne||i[42]!==k||i[43]!==S||i[44]!==L?(Ee=d.jsx(r("IGDComposerMediaStaging.react"),{hideUploadPlaceholder:E,isStacking:M,metaMediaCloudEnabled:ne,multiple:k,supportedFileTypes:S,thread:L}),i[39]=E,i[40]=M,i[41]=ne,i[42]=k,i[43]=S,i[44]=L,i[45]=Ee):Ee=i[45];var ke;i[46]!==u||i[47]!==H||i[48]!==U||i[49]!==T?(ke=U&&H?d.jsx(r("IGDMentionsComposerPlugin.react"),{editor:u,threadKey:T}):null,i[46]=u,i[47]=H,i[48]=U,i[49]=T,i[50]=ke):ke=i[50];var Ie;if(i[51]!==f||i[52]!==N||i[53]!==me){var Te;Ie={0:{className:"x6s0dn4 x78zum5 x1gg8mnh xv54qhq x1iwz3mf"},1:{className:"x6s0dn4 x78zum5 x1gg8mnh x1iwz3mf x11lfxj5"}}[!!((f||me)&&(N||(Te=r("qex")._("917"))!=null&&Te))<<0],i[51]=f,i[52]=N,i[53]=me,i[54]=Ie}else Ie=i[54];var De;i[55]!==u||i[56]!==I||i[57]!==me?(De=I&&!me?d.jsx("div",{className:"xpvyfi4 xzueoph x1v0swvf",children:d.jsx(r("IGDComposerEmojiButton.react"),{editor:u})}):null,i[55]=u,i[56]=I,i[57]=me,i[58]=De):De=i[58];var xe;i[59]!==he||i[60]!==u||i[61]!==m||i[62]!==N||i[63]!==me||i[64]!==y||i[65]!==_e||i[66]!==b||i[67]!==be||i[68]!==R||i[69]!==de?(xe=me?d.jsxs(d.Fragment,{children:[d.jsx(r("IGDSIconButton.react"),{"aria-label":s._(/*BTDS*/"Close Button"),onClick:function(){return de.reset()},children:d.jsx(o("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:he,isRotated:!0,size:20})}),d.jsx(r("IGDSBox.react"),{flex:"grow",marginEnd:2,marginStart:1,children:d.jsx(p,{voiceRecorder:de})}),d.jsx(r("IGDComposerViewSendButton.react"),{onClick:_e})]}):d.jsx(r("IGDSBox.react"),{flex:"grow",marginEnd:1,marginStart:2,marginTop:2,xstyle:[N&&_.chatTabComposerInnerContainer,_.composerInnerContainer,o("PolarisUA").isMobile()&&_.mobileComposerInnerContainer],children:d.jsx(r("MWPCometComposerInner.react"),{ariaDescribedBy:s._(/*BTDS*/"Message").toString(),contentEditableRef:m,editor:u,handlePastedFiles:be?r("emptyFunction"):y,placeholderText:s._(/*BTDS*/"Message...").toString(),policyProduct:b,surface:R})}),i[59]=he,i[60]=u,i[61]=m,i[62]=N,i[63]=me,i[64]=y,i[65]=_e,i[66]=b,i[67]=be,i[68]=R,i[69]=de,i[70]=xe):xe=i[70];var $e;i[71]!==X||i[72]!==u||i[73]!==J||i[74]!==G||i[75]!==O||i[76]!==f||i[77]!==W||i[78]!==P||i[79]!==N||i[80]!==me||i[81]!==ee||i[82]!==ne||i[83]!==k||i[84]!==y||i[85]!==Ce||i[86]!==C||i[87]!==ue||i[88]!==be||i[89]!==S||i[90]!==L||i[91]!==Q||i[92]!==T||i[93]!==de?($e=me?null:d.jsxs(d.Fragment,{children:[d.jsx(r("IGDComposerViewSendButton.react"),{hidden:!f,onClick:Ce}),d.jsxs("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x78zum5"},1:{className:"x6s0dn4 x1s85apg"}}[!!(f||be)<<0],{children:[J?d.jsx(r("IGDVoiceClipButton.react"),{thread:L,voiceRecorder:de}):null,ee?d.jsx(r("IGDComposerAttachmentButton.react"),{disabled:!O,multiple:k,onAttachmentsAdded:y,supportedFileTypes:S,threadKey:T}):null,ne&&n("cr:213")!=null?d.jsx(n("cr:213"),{onAttachmentsAdded:y,threadKey:T}):null,oe&&n("cr:599")!=null?d.jsx(n("cr:599"),{actor:X,environment:G,senderId:j,threadId:Q,threadKey:T}):null,le?d.jsx(r("IGDComposerSavedReplyButton.react"),{editor:u,thread:L}):null,n("cr:21207")&&ue&&!P?d.jsx(n("cr:21207"),{threadKey:T}):null,W&&!N?n("cr:9307")&&d.jsx(n("cr:9307"),{onSendMessage:C,thread:L}):null]}))]}),i[71]=X,i[72]=u,i[73]=J,i[74]=G,i[75]=O,i[76]=f,i[77]=W,i[78]=P,i[79]=N,i[80]=me,i[81]=ee,i[82]=ne,i[83]=k,i[84]=y,i[85]=Ce,i[86]=C,i[87]=ue,i[88]=be,i[89]=S,i[90]=L,i[91]=Q,i[92]=T,i[93]=de,i[94]=$e):$e=i[94];var Pe;i[95]!==Se||i[96]!==Ie||i[97]!==De||i[98]!==xe||i[99]!==$e?(Pe=d.jsxs("div",babelHelpers.extends({},Ie,{ref:Se,children:[De,xe,$e]})),i[95]=Se,i[96]=Ie,i[97]=De,i[98]=xe,i[99]=$e,i[100]=Pe):Pe=i[100];var Ne;i[101]!==Le||i[102]!==Ee||i[103]!==ke||i[104]!==Pe?(Ne=d.jsxs("div",babelHelpers.extends({},Le,{children:[Ee,ke,Pe]})),i[101]=Le,i[102]=Ee,i[103]=ke,i[104]=Pe,i[105]=Ne):Ne=i[105];var Me;return i[106]!==Re||i[107]!==Ne?(Me=d.jsxs(r("BaseTheme.react"),{config:r("IGDComposerThemeConfigOverride"),children:[Re,Ne]}),i[106]=Re,i[107]=Ne,i[108]=Me):Me=i[108],Me}l.default=f}),226);
__d("IGDDMModeContextProvider",["DisappearingMessagesMode","FBLogger","I64","IGDAWAdminWriteMsgTxn","IGDDisappearingMessagesStrings","Int64Hooks","MAWEphemeralConsts","MWLSThread","MWPActor.react","MessengerWebUXLogger","PolarisDirectAPI","PolarisDismissEntry","ReQL","ReQLSuspense","asyncToGeneratorRuntime","getErrorSafe","isE2EEAttributedInstamadillo","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.createContext,p=d.useCallback,_=d.useEffect,f=d.useMemo,g=d.useState,h=m({dmMode:r("DisappearingMessagesMode").OFF,lastSetTtlSec:o("MAWEphemeralConsts").oneDayInSeconds,setLastSetTtlSec:function(){},toggleDMMode:function(){}});function y(e){var t=o("react-compiler-runtime").c(6),n=g(e),r=n[0],a=n[1],i=g(e),l=i[0],s=i[1];l!==e&&(s(e),a(e));var u;t[0]!==e||t[1]!==r?(u=function(){r!==e&&a(e)},t[0]=e,t[1]=r,t[2]=u):u=t[2];var c=u,d;return t[3]!==r||t[4]!==c?(d=[r,a,c],t[3]=r,t[4]=c,t[5]=d):d=t[5],d}function C(t){var a=t.children,l=t.threadKey,u=(e||(e=r("useReStore")))(),d=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(u.tables.ig_thread_info,["igDmSettingsMode","igThreadId","igDmSettingsLastSetActorId","igDmSettingsLastSetTimestampMs","igDmSettingsTtlSec"]).getKeyRange(l).map(function(e){var t=e.igDmSettingsLastSetActorId,n=e.igDmSettingsLastSetTimestampMs,r=e.igDmSettingsMode,o=e.igDmSettingsTtlSec,a=e.igThreadId;return{authoritativeDMMode:r,igDmSettingsLastSetActorId:t,igDmSettingsLastSetTimestampMs:n,igDmSettingsTtlSec:o,igThreadId:a}})},[u,l],i.id+":89"),m=f(function(){return(d==null?void 0:d.authoritativeDMMode)!=null&&(s||(s=o("I64"))).to_int32(d==null?void 0:d.authoritativeDMMode)===r("DisappearingMessagesMode").ON?r("DisappearingMessagesMode").ON:r("DisappearingMessagesMode").OFF},[d]),p=f(function(){if((d==null?void 0:d.igDmSettingsTtlSec)==null)return o("MAWEphemeralConsts").oneDayInSeconds;var e=(s||(s=o("I64"))).to_float(d==null?void 0:d.igDmSettingsTtlSec);return e>0?e:o("MAWEphemeralConsts").oneDayInSeconds},[d]),g=f(function(){return(d==null?void 0:d.igDmSettingsLastSetTimestampMs)!=null?(s||(s=o("I64"))).to_float(d==null?void 0:d.igDmSettingsLastSetTimestampMs):void 0},[d]),C=y(m),b=C[0],v=C[1],S=C[2],R=y(p),L=R[0],E=R[1],k=R[2],I=y(g),T=I[0],D=I[1],x=I[2],$=y(d==null?void 0:d.igDmSettingsLastSetActorId),P=$[0],N=$[1],M=$[2],w=o("MWPActor.react").useActor(),A=r("MessengerWebUXLogger").useInteractionLogger(),F=o("Int64Hooks").useCallbackInt64(function(){var e=b===r("DisappearingMessagesMode").ON?r("DisappearingMessagesMode").OFF:r("DisappearingMessagesMode").ON;v(e),D(new Date().getTime()),N(w),(d==null?void 0:d.igThreadId)!=null&&r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var t=yield o("PolarisDirectAPI").setDisappearingMessagesSettings(d==null?void 0:d.igThreadId,e,L);t.statusCode!==200&&(r("FBLogger")("igd_web").warn("Toggle DM Network Request failed",t.toString()),S(),x(),M())}catch(e){var n=r("getErrorSafe")(e);r("FBLogger")("igd_web").warn("Toggle DM Network Request failed",n.message),S(),x(),M()}})()),r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("MWLSThread").getThreadAsync(u,l);e&&(A==null||A({eventName:b===r("DisappearingMessagesMode").ON?"direct_disappearing_messages_toggle_off":"direct_disappearing_messages_toggle_on",extraData:{dm_duration:String(L)}}))})())},[w,u,b,L,A,S,M,x,v,N,D,d==null?void 0:d.igThreadId,l]),O=o("Int64Hooks").useCallbackInt64(function(e){if(e!==p){E(e),D(new Date().getTime()),N(w);var t=d!=null?d:{},a=t.authoritativeDMMode,i=t.igThreadId;i!=null&&a!=null&&r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var t=yield o("PolarisDirectAPI").setDisappearingMessagesSettings(i,b,e);t.statusCode!==200&&(r("FBLogger")("ig_web").warn("DM TTL Network Request failed",t.toString()),k(),x(),M())}catch(e){var n=r("getErrorSafe")(e);r("FBLogger")("ig_web").warn("DM TTL Network Request failed",n.message),k(),x(),M()}})()),r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield o("MWLSThread").getThreadAsync(u,l);t&&(A==null||A({eventName:"direct_disappearing_messages_ttl_changed",extraData:{new_dm_duration:String(e),old_dm_duration:String(L)}}))})())}},[u,L,A,w,b,M,x,k,N,D,E,d,l,p]);_(function(){m===r("DisappearingMessagesMode").ON&&!o("PolarisDismissEntry").isInstamadilloNuxDismissed(o("PolarisDismissEntry").IGD_INSTAMADILLO_DM_FIRST_TIME_ADMIN_MESSAGE_TYPE)&&r("isE2EEAttributedInstamadillo")()&&(o("PolarisDismissEntry").setInstamadilloNuxSessionTimes(o("PolarisDismissEntry").IGD_INSTAMADILLO_DM_FIRST_TIME_ADMIN_MESSAGE_TYPE),r("promiseDone")(u.runInTransaction(function(e){return o("IGDAWAdminWriteMsgTxn").writeAdminMessageTxn(e,{ctaType:"admin_msg_ig_dm_learn_more",senderId:w,text:o("IGDDisappearingMessagesStrings").DM_SECURITY_NOTICE.toString(),threadKey:l,timestampMs:d==null?void 0:d.igDmSettingsLastSetTimestampMs})},"readwrite",void 0,void 0,i.id+":319")))},[m,w,u,d==null?void 0:d.igDmSettingsLastSetTimestampMs,l]);var B=f(function(){return{dmMode:b,lastSetActorId:P,lastSetTimestampMs:T,lastSetTtlSec:L,setLastSetTtlSec:O,toggleDMMode:F}},[b,P,T,L,O,F]);return c.jsx(h.Provider,{value:B,children:a})}C.displayName=C.name+" [from "+i.id+"]",l.IGDDMModeContext=h,l.IGDDMModeContextProvider=C}),98);
__d("IGDEqualityUtils",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return Array.isArray(e)&&e.length===2&&Number.isInteger(e[0])&&Number.isInteger(e[1])}function u(t,n){return t!==n&&s(t)&&s(n)?(e||(e=o("I64"))).equal(t,n):t===n}function c(e,t){return d(e,t,u)}function d(e,t,n){if(n===void 0&&(n=function(t,n){return t===n}),n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!n(e[r[a]],t[r[a]],r[a]))return!1;return!0}l.shallowEqualI64=c,l.shallowEqual=d}),98);
__d("IGDOffMsysComposerReplyView_SlideMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDOffMsysComposerReplyView_SlideMessage",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"text_body",storageKey:null}],type:"SlideMessageText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAnimatedMediaAttachment",kind:"LinkedField",name:"animated_media",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_sticker",storageKey:null}],storageKey:null}],type:"SlideMessageAnimatedMediaContent",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null}],type:"SlideMessage",abstractKey:null};a.exports=e}),null);
__d("IGDOffMsysComposerReplyView_XDTUserDict.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDOffMsysComposerReplyView_XDTUserDict",selections:[{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"XDTUserDict",abstractKey:null};a.exports=e}),null);
__d("IGDOffMsysComposerReplyView.react",["fbt","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","CurrentUser","IGDOffMsysComposerReplyView_SlideMessage.graphql","IGDOffMsysComposerReplyView_XDTUserDict.graphql","IGDReplyContext.react","IGDSBox.react","IGDSIconButton.react","IGDSText.react","IGDSXFilledIcon.react","MDSTextPairing.react","isStringNullOrEmpty","react","react-compiler-runtime","react-relay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useContext,p={cancelButton:{paddingTop:"xexx8yu",$$css:!0},container:{backgroundColor:"xvbhtw8",borderTopColor:"x5ur3kl",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",justifyContent:"x1qughib",paddingBottom:"xg8j3zb",paddingInlineEnd:"x1q3ajuy",paddingInlineStart:"x1gx403c",paddingTop:"x889kno",$$css:!0},message:{marginInlineEnd:"x1sa5p1d",$$css:!0}};function _(e,t){var n,o,a=e.content,i=e.content_type,l=!r("isStringNullOrEmpty")(a==null?void 0:a.text_body),u=a==null||(n=a.animated_media)==null?void 0:n.at(0),c=(o=u==null?void 0:u.is_sticker)!=null?o:!1;if(t)return s._(/*BTDS*/"Removed message");if(l){var m,p;return d.jsx(r("IGDSText.react"),{zeroMargin:!1,children:(m=(p=e.content)==null?void 0:p.text_body)!=null?m:s._(/*BTDS*/"Message").toString()})}switch(i){case"IMAGES":return s._(/*BTDS*/"Image");case"VIDEOS":return s._(/*BTDS*/"Video");case"STORE_STICKER":return s._(/*BTDS*/"Sticker");case"INSTAGRAM_MESSAGING_ANIMATED_IMAGE":return c?s._(/*BTDS*/"Sticker"):s._(/*BTDS*/"GIF");case"GIFS":return s._(/*BTDS*/"GIF");case"AUDIOS":return s._(/*BTDS*/"Voice Message");case"CLIP":case"GENERIC_XMA":case"PROFILE":case"REEL_SHARE":case"STORY_SHARE":case"MESSAGE_INLINE_SHARE":case"CUTOUT_STICKER_XMA":case"XMA":return s._(/*BTDS*/"Attachment \ud83d\udcce");default:return s._(/*BTDS*/"Message")}}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t,n=r("CurrentUser").getEIMU(),o=e==null?void 0:e.interop_messaging_user_fbid;if(n===o)return s._(/*BTDS*/"Replying to yourself");var a=(t=e==null?void 0:e.full_name)!=null?t:e==null?void 0:e.username;return a==null?s._(/*BTDS*/"Replying to {Placeholder for an unknown user on Instagram}",[s._param("Placeholder for an unknown user on Instagram","Instagram User")]):s._(/*BTDS*/"Replying to {name}",[s._param("name",d.jsx(r("IGDSText.react"),{size:"body",weight:"semibold",zeroMargin:!1,children:a}))])}function g(t){var a=o("react-compiler-runtime").c(21),i=t.reply,l=o("IGDReplyContext.react").useIGDReplySetterContext(),c=l.clearReply,g=m(r("CometTriggerAccessibilityAlertContext")),y;a[0]===Symbol.for("react.memo_cache_sentinel")?(y=e!==void 0?e:e=n("IGDOffMsysComposerReplyView_SlideMessage.graphql"),a[0]=y):y=a[0];var C=o("react-relay").useFragment(y,i.message),b;a[1]===Symbol.for("react.memo_cache_sentinel")?(b=u!==void 0?u:u=n("IGDOffMsysComposerReplyView_XDTUserDict.graphql"),a[1]=b):b=a[1];var v=o("react-relay").useFragment(b,i.sender),S;a[2]!==v?(S=f(v),a[2]=v,a[3]=S):S=a[3];var R;a[4]!==S?(R=d.jsx(r("IGDSText.react"),{size:"body",zeroMargin:!1,children:S}),a[4]=S,a[5]=R):R=a[5];var L;a[6]!==C?(L=_(C,!1),a[6]=C,a[7]=L):L=a[7];var E;a[8]!==R||a[9]!==L?(E=d.jsx(r("IGDSBox.react"),{xstyle:p.message,children:d.jsx(r("MDSTextPairing.react"),{body:R,level:3,meta:L})}),a[8]=R,a[9]=L,a[10]=E):E=a[10];var k;a[11]===Symbol.for("react.memo_cache_sentinel")?(k=s._(/*BTDS*/"Cancel reply"),a[11]=k):k=a[11];var I;a[12]!==c||a[13]!==g?(I=function(){c(),g(s._(/*BTDS*/"Replying to message has been canceled."),{assertive:!1})},a[12]=c,a[13]=g,a[14]=I):I=a[14];var T;a[15]===Symbol.for("react.memo_cache_sentinel")?(T=d.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel reply"),color:"ig-primary-text",size:12}),a[15]=T):T=a[15];var D;a[16]!==I?(D=d.jsx(r("IGDSIconButton.react"),{label:k,onClick:I,xstyle:p.cancelButton,children:T}),a[16]=I,a[17]=D):D=a[17];var x;return a[18]!==D||a[19]!==E?(x=d.jsx(r("IGDSBox.react"),{"data-testid":void 0,direction:"row",xstyle:p.container,children:d.jsxs(r("CometErrorBoundary.react"),{fallback:h,children:[E,D]})}),a[18]=D,a[19]=E,a[20]=x):x=a[20],x}function h(){return d.jsx(r("IGDSText.react"),{size:"body",zeroMargin:!1,children:s._(/*BTDS*/"Replying to message")})}h.displayName=h.name+" [from "+i.id+"]",l.default=g}),226);
__d("IGDSupportedFileTypes",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e?[".png",".jpg",".jpeg"]:["audio/*",".mp4",".mov",".png",".jpg",".jpeg"]}var l=["audio/*",".mp4",".mov",".png",".jpg",".jpeg"],s=[".png",".jpg",".jpeg"];i.getIGDSupportedFileTypes=e,i.IGD_WEB_SUPPORTED_FILE_TYPES=l,i.IGD_MOBILE_SUPPORTED_FILE_TYPES=s}),66);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(t,n,r,o,a,i,l){var e="scraperLastPermissiveMatch",s=(function(t){function n(e,n){var r;return r=t.call(this)||this,r.input=e,r.enable(),r.getValueFn=n,r}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.reset=function(){o("DataStore").set(this.input,e,null)},a.enable=function(){if(!this.events){var e=function(t){window.setTimeout(this.check.bind(this,t),30)};this.events=r("Event").listen(this.input,{paste:e.bind(this,!1),keydown:e.bind(this,!0)})}},a.disable=function(){if(this.events){for(var e in this.events)this.events[e].remove();this.events=null}},a.check=function(r){var t=this.getValueFn?this.getValueFn():this.input.value;if(!(r&&n.trigger(t))){var a=n.match(t),i=o("URLMatcher").permissiveMatch(t);i&&i!=o("DataStore").get(this.input,e)&&(o("DataStore").set(this.input,e,i),this.inform("match",{url:a||i,alt_url:i}))}},n})(r("mixin")(r("ArbiterMixin")));Object.assign(s,o("URLMatcher")),l.default=s}),98);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){for(var n=[],a=0;;){var i=(s||(s=o("UnicodeUtils"))).substr(t,a),l=r("URLScraper").match(i);if(!l||!(e||(e=r("URI"))).isValidURI(l))break;var u=l;/^[a-z][a-z0-9\-+.]+:\/\//i.test(l)||(u="http://"+l);var c=i.indexOf(l),d=s.strlen(i.substr(0,c));a+=d;var m=l.length;n.push({offset:a,length:l.length,entity:{url:u}}),a+=m}return n}l.default=u}),98);
__d("MAWFindFirstUrl",["getURLRanges"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("getURLRanges")(e);return t.length===0?[]:t}l.findFirstUrl=e}),98);
__d("MWPComposerDraftMessages",["FBLogger","I64","LSMessagingThreadTypeUtil","MAWFindFirstUrl","MWHasLinksUtil","cr:5710","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Map,u=void 0;function c(){return Array.from(s.values()).some(function(e){return e.messageText.trim()!==""})}function d(e,t){return s.get(y(e,t))}function m(){n("cr:5710")==null||u!=null||(u=n("cr:5710").onBeforeUnload(function(){if(c())return"You have pending messages. Please wait for them to be sent before closing the window."}))}function p(e){var t=e.deleteLinkPreviewXMATableData,n=e.fetchAndWriteLinkPreviewXMA,a=e.message,i=e.subthreadParentMessageId,l=e.threadKey,c=e.threadType;if(a==null){if(s.delete(y(l,i)),s.size===0){var d;(d=u)==null||d.remove(),u=void 0}return}if(s.has(y(l,i)))_(l,a,i);else{var p=r("uuidv4")();s.set(y(l,i),{id:p,linkPreviewAbortToken:null,linkPreviewURL:null,messageText:a})}var g=c!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(c);g&&f(l,a,n,t,i),m()}function _(e,t,n){var o=d(e,n);if(o==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in updateDraftMessageText");return}s.set(y(e,n),babelHelpers.extends({},o,{messageText:t}))}function f(e,t,n,a,i){var l,s,u,c=d(e,i);if(c==null){r("FBLogger")("messenger_web_sharing").mustfix("currentDraft was null in updateDraftMessageURL");return}var m=c==null?void 0:c.linkPreviewURL,p=c==null?void 0:c.linkPreviewAbortToken,_=(l=o("MAWFindFirstUrl").findFirstUrl(t))!=null?l:[],f=o("MWHasLinksUtil").getHasLinks(t),y=f&&(s=(u=_[0])==null?void 0:u.entity.url)!=null?s:null;if(m!==y){if(y==null){a&&a({draftId:c.id}),p==null||p.abort(),g({linkPreviewURL:null,subthreadParentMessageId:i,threadKey:e}),h({linkPreviewAbortToken:null,subthreadParentMessageId:i,threadKey:e});return}g({linkPreviewURL:y,subthreadParentMessageId:i,threadKey:e});var C=n&&n({draftId:c.id,urls:_})||null;h({linkPreviewAbortToken:C,subthreadParentMessageId:i,threadKey:e})}}function g(e){var t=e.linkPreviewURL,n=e.subthreadParentMessageId,o=e.threadKey,a=d(o,n);if(a==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in setDraftMessageURL");return}s.set(y(o,n),babelHelpers.extends({},a,{linkPreviewURL:t}))}function h(e){var t=e.linkPreviewAbortToken,n=e.subthreadParentMessageId,o=e.threadKey,a=d(o,n);if(a==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in setDraftMessageURL");return}s.set(y(o,n),babelHelpers.extends({},a,{linkPreviewAbortToken:t}))}function y(t,n){return n!=null&&n!==""?n:(e||(e=o("I64"))).to_string(t)}l.getDraftMessage=d,l.updateDraftMessage=p,l.getNonEmptyDraftMessageKey=y}),98);
__d("MWDraftMessages.react",["MWPComposerDraftMessages","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useCallback,m=u.useContext,p=u.useState,_=c(),f=c();function g(e){var t=e.children,n=p(new Map),r=n[0],a=n[1],i=d(function(e,t){var n=o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(e,t);return r.has(n)?r.get(n):null},[r]),l=d(function(e,t,n){var r=o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(e,n);a(function(e){var n=new Map(e);return t==null||t===""?n.delete(r):n.set(r,t),n})},[a]),u=_.Provider,c=f.Provider;return s.jsx(u,{value:i,children:s.jsx(c,{value:l,children:t})})}g.displayName=g.name+" [from "+i.id+"]";function h(){return m(_)}function y(){return m(f)}l.MWDraftProvider=g,l.useMWGetDraft=h,l.useMWUpdateDraft=y}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalActorNode","MessengerLexicalEntityTextNode","cr:11494"],(function(t,n,r,o,a,i,l){"use strict";var e={getRanges:function(t){var e=[],r=0;return t.getEditorState().read(function(){var t=o("Lexical").$getRoot().getFirstChild();t instanceof o("Lexical").ElementNode&&t.getChildren().forEach(function(t){if(o("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(t)){var a=t.getEntity();e.push({id:a.id,length:t.getTextContent().length,offset:r,type:o("MessengerLexicalActorNode").$isMessengerLexicalActorNode(t)?t.getRangeType():"p"})}if(n("cr:11494")!=null&&t instanceof n("cr:11494").MessengerLexicalCommandNode){var i=t.getEntity();e.push({id:i.commandId,length:t.getTextContent().length,offset:r,type:t.getRangeType()})}r+=t.getTextContent().length})}),e}},s=e;l.default=s}),98);
__d("MWV2ComposerHasContentContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({hasContentRef:void 0});function f(e){var t=e.children,n=p(!1),r=m(function(){return{hasContentRef:n}},[n]);return s.jsx(_.Provider,{value:r,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(){return d(_)}l.MWV2ComposerHasContentContextProvider=f,l.useComposerHasContext=g}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","mlcErrorHandler__INTERNAL"],(function(t,n,r,o,a,i,l){"use strict";var e=[o("MessengerLexicalActorNode").MessengerLexicalActorNode,o("CometLexicalEmojiNode").EmojiNode,n("cr:11494")==null?void 0:n("cr:11494").MessengerLexicalCommandNode],s=babelHelpers.extends({},r("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r",text:{base:"x3jgonx"}});function u(t){var n,a,i=o("Lexical").createEditor({namespace:"MWPEditor",nodes:(n=t==null?void 0:t.nodes)!=null?n:e.filter(Boolean),onError:function(t){return r("mlcErrorHandler__INTERNAL")(t,i,function(e){r("FBLogger")("messenger_web").catching(t).mustfix("Lexical Error MWP: %s",e)})},theme:(a=t==null?void 0:t.theme)!=null?a:s});return i}l.default=u}),98);
__d("useMWIsOffline",["CometSSRRenderingStateHooks","NetworkStatus","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(){var e=o("CometSSRRenderingStateHooks").useIsServerRenderingOrHydrating(),t=c(!r("NetworkStatus").isOnline()&&!e),n=t[0],a=t[1];return u(function(){var e=r("NetworkStatus").onChange(function(e){var t=e.online;a(!t)});return function(){e.remove()}},[]),n}l.default=d}),98);
__d("MWChatFocusComposerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({focusComposer:void 0,setFocusComposer:function(){}});function f(e){var t=e.children,n=p(),r=n.current,o=m(function(){return{focusComposer:r,setFocusComposer:function(t){n.current=t}}},[r]);return s.jsx(_.Provider,{value:o,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(){return d(_)}l.MWChatFocusComposerContextProvider=f,l.useMWChatFocusComposer=g}),98);
__d("MWV2IsTabFocusedContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=c(!1);function p(e){var t=e.children,n=e.isFocused;return s.jsx(m.Provider,{value:n,children:t})}p.displayName=p.name+" [from "+i.id+"]";function _(){return d(m)}l.MWV2IsTabFocusedContextProvider=p,l.useIsTabFocused=_}),98);
__d("MWInboxFocusTarget",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({THREAD_VIEW_AND_OR_COMPOSER:0,THREAD_LIST:1,YOU_MAY_KNOW:2}),l=e;i.default=l}),66);
__d("useMWGetInboxFocusTargetFromRoute",["CometRouteParams","MWInboxFocusTarget"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("CometRouteParams").useRouteParams(),t=e.focus_target;if(t!=null){var n,a=Number(t);return(n=r("MWInboxFocusTarget").cast(a))!=null?n:0}return 0}l.default=e}),98);
__d("useMWPComposerAutoFocus",["HiddenSubtreePassiveContext","IGDReplyContext.react","MWChatFocusComposerContext","MWPReplyContext.react","MWV2IsTabFocusedContext.react","deepEquals","react","useMWGetInboxFocusTargetFromRoute","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useEffect;function m(e,t){var n,r=t.getCurrentState(),o=r.hiddenOrBackgrounded;if(!o){var a=(n=document.activeElement)==null||(n=n.attributes.getNamedItem("id"))==null?void 0:n.value;if(!(a!=null&&a.includes("prevent-composer-focus-steal")))return e.focus(function(){})}}function p(e){var t=e.editor,n=e.focusEditorDelayed,a=e.hasUnsentAttachments,i=a===void 0?!1:a,l=e.isPreviewThread,s=l===void 0?!1:l,p=e.isQuickchat,_=c(r("HiddenSubtreePassiveContext")),f=o("MWChatFocusComposerContext").useMWChatFocusComposer(),g=f.setFocusComposer,h=c(o("MWPReplyContext.react").MWPReplyContext),y=h.reply,C=r("usePrevious")(y),b=o("IGDReplyContext.react").useIGDReplyContext(),v=r("usePrevious")(b);d(function(){((C==null?y!=null:!r("deepEquals")(C,y))||(v==null?b!=null:!r("deepEquals")(v,b)))&&(p&&n?n(t):m(t,_))},[t,y,C,n,p,_,v,b]);var S=r("useMWGetInboxFocusTargetFromRoute")(),R=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),L=S===0&&R&&!s;d(function(){L&&(p&&n?n(t):m(t,_))},[t,L,n,p,_]),d(function(){i&&(p&&n?n(t):m(t,_))},[t,i,n,p,_]),g(u(function(){p&&n?n(t):m(t,_)},[t,n,_,p]))}l.default=p}),98);
__d("MWPNewMessageDraftContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useRef,p=c();function _(e){var t=e.children,n=m("");return s.jsx(p.Provider,{value:n,children:t})}_.displayName=_.name+" [from "+i.id+"]";function f(){return d(p)}l.MWPNewMessageDraftContextProvider=_,l.useNewMessageDraftContext=f}),98);
__d("MWPreloadedText",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s({text:null});l.default=u}),98);
__d("useMAWDeleteLinkPreviewXMATableData",["FBLogger","Int64Hooks","LSMessagingThreadTypeUtil","asyncToGeneratorRuntime","getErrorSafe","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("useAsyncReStore")(),a=e!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(e);return o("Int64Hooks").useCallbackInt64((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var o=e.draftId;if(a){var l=yield t,s=yield l.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=null;return yield e.e2ee_composer_draft_link_preview.get(o).then(function(e){var n,r=JSON.parse((n=e==null?void 0:e.data)!=null?n:"{}");t=r.iframeMediaURL}),yield e.e2ee_composer_draft_link_preview.delete(o),t});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":41");if(s!=null)try{URL.revokeObjectURL(s)}catch(e){var u=r("getErrorSafe")(e);r("FBLogger")("messenger_web_sharing").mustfix("Failed to revoke the object URL with, failed with error: %s",u.message)}}});return function(t){return e.apply(this,arguments)}})())}l.default=e}),98);
__d("MAWExternalLinkUtil",["FBLogger","MAWOembedHelper","MAWOembedIframeContainer.react","Promise","asyncToGeneratorRuntime","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[],u=["image/png","image/jpeg","image/jpg"],c=2e3;function d(t){return new(e||(e=n("Promise")))(function(e){return r("setTimeout")(e,t)})}function m(t){return(e||(e=n("Promise"))).race([t,d(c)])}function p(e){if(e==null)return null;var t=null,n=e.find(function(e){return Object.values(S).some(function(n){var r=n.schemes,o=n.url,a=r.some(function(t){return t.test(e.entity.url)});return a&&(t=o),a})});return n==null||t==null?null:{oEmbedRequest:t+"?url="+encodeURIComponent(n.entity.url)+"&format=json",oEmbedUrl:n.entity.url}}function _(e){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=e.fallbackUrl,a=e.qplEvent,i=e.request,l=(t=window.frames["maw-intermediate-iframe"])!=null?t:null;if(l==null&&(o("MAWOembedIframeContainer.react").createMAWOembedIframeContainer(),window.frames["maw-intermediate-iframe"]==null)){a==null||a.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_return:"iframe cannot be found."}}),r("FBLogger")("messenger_web_sharing").warn("[external link] Cannot find the iframe to request oembed url response.");return}try{var s=yield m(o("MAWOembedIframeContainer.react").requestUrl(i,o("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,l));if(s==null||s instanceof Blob){a==null||a.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"oembedResponse is null or an instance of Blob."}}),r("FBLogger")("messenger_web").warn("[external link] Failed to fetch oEmbed response: expected json response but got blob.");return}return y({fallbackUrl:n,rawResponse:s})}catch(e){a==null||a.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when trying to fetch oembed response in iframe."}}),r("FBLogger")("messenger_web").warn("[External link] Error thrown when trying to fetch oembed response in iframe.");return}}),f.apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a,i=t.qplEvent,l=t.xmaData;if(l==null)return(e||(e=n("Promise"))).resolve();var u=R(l.url),c=s.includes(u);if(c)return(e||(e=n("Promise"))).resolve();var d=l==null?void 0:l.thumbnail_url;if(d==null||!d)return i==null||i.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"url was null or undefined"}}),(e||(e=n("Promise"))).resolve();var p=(a=window.frames["maw-intermediate-iframe"])!=null?a:null;if(p==null&&(o("MAWOembedIframeContainer.react").createMAWOembedIframeContainer(),window.frames["maw-intermediate-iframe"]==null)){i==null||i.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"iframe cannot be found."}}),r("FBLogger")("messenger_web").warn("[external link] Cannot find the iframe to request image blob response.");return}var _=yield m(o("MAWOembedIframeContainer.react").requestUrl(d,o("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,p));return _ instanceof Blob?_:(i==null||i.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"imageBlobResponse is not instance of Blob"}}),r("FBLogger")("messenger_web").warn("[external link] Failed to fetch image blob response. "),(e||(e=n("Promise"))).resolve())}),h.apply(this,arguments)}function y(e){var t,n=e.fallbackUrl,o=e.rawResponse;if(o.version!=="1.0")throw r("FBLogger")("messenger_web").mustfixThrow("Unsupported response version from oEmbed API");if(o.type==="photo"&&o.url==null)throw r("FBLogger")("messenger_web").mustfixThrow("Unsupported response from oEmbed API: photo does not have url field");return{author_name:o.author_name!=null?decodeURIComponent(o.author_name):void 0,height:o.height,thumbnail_height:o.thumbnail_height,thumbnail_url:o.thumbnail_url,thumbnail_width:o.thumbnail_width,title:o.title!=null?decodeURIComponent(o.title):void 0,type:o.type,url:(t=o.url)!=null?t:n,width:o.width}}function C(e){var t=v.some(function(t){return t.test(e)});return t?!0:Object.values(S).some(function(t){var n=t.url;return e.startsWith(n)})}var b=new RegExp("^http(?:s)?:\\/\\/i\\.ytimg\\.com.+$"),v=[new RegExp("^http(?:s)?:\\/\\/i1\\.sndcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.scdn\\.co.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.cloudfront\\.net.+$"),new RegExp("^http(?:s)?:\\/\\/pi\\.tedcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/static01\\.nyt\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.vimeocdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.tiktokcdn\\.com.+$"),b],S={NYTimes:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.nytimes\\.com\\/svc\\/oembed$"),new RegExp("^http(?:s)?:\\/\\/nytimes\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?nytimes\\.com\\/.+$")],url:"https://www.nytimes.com/svc/oembed/json/"},SoundCloud:{schemes:[new RegExp("^http(?:s)?:\\/\\/soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/on\\.soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/soundcloud\\.app\\.goog\\.gl\\/.+$")],url:"https://soundcloud.com/oembed"},Spotify:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/open\\.spotify\\.com\\/.+$")],url:"https://open.spotify.com/oembed"},Spreaker:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?spreaker\\.com\\/.+$")],url:"https://api.spreaker.com/oembed"},TED:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/ted\\.com\\/talks\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.ted\\.com\\/talks\\/.+$")],url:"https://www.ted.com/services/v1/oembed.json"},TikTok:{schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/(?:#!)?[^#?\\/]+\\/video\\/.+$")],url:"https://www.tiktok.com/oembed"},Vimeo:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/album\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/channels\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/groups\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/ondemand\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/player\\.vimeo\\.com\\/video\\/.+$")],url:"https://vimeo.com/api/oembed.json"},youtube:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/watch.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/v\\/.+$"),new RegExp("^http(?:s)?:\\/\\/youtu\\.be\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/shorts.+$")],url:"https://www.youtube.com/oembed"}};function R(e){return Object.keys(S).find(function(t){return S[t].schemes.some(function(t){return t.test(e)})})}l.allowedPreviewTypes=u,l.findFirstAvailableOembedUrlAndRequestPair=p,l.getOembedResponse=_,l.getImageBlobResponse=g,l.isAllowedRequestForFbsbx=C}),98);
__d("MAWOembedHelper",["$InternalEnum","ConstUriUtils","FBLogger","MAWExternalLinkUtil","SecureMessageListener","SecurePostMessage","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=["facebook.com","messenger.com","instagram.com","internalfb.com"];function s(e){if(e==null||typeof e!="object")return null;var t=e.requestURL,n=e.requestMessageType;if(typeof n!="string"||typeof t!="string"||!o("ConstUriUtils").isValidUri(t))return null;var r=c.cast(n);return r==null||r!==c.OEMBED_REQUEST_URL&&r!==c.THUMBNAIL_URL?null:[r,t]}function u(){var t=null,n=new(r("SecureMessageListener"))(window);function a(e){t=e.origin;var n=e.data,a=s(n);if(a!=null){var l=a[0],u=a[1];o("MAWExternalLinkUtil").isAllowedRequestForFbsbx(u)&&r("promiseDone")(window.fetch(u).then(function(e){switch(e.status!==200&&r("FBLogger")("messenger_web").mustfix("[external link] fbsbx page fetching for the response is not successful."),l){case c.OEMBED_REQUEST_URL:return e.json();case c.THUMBNAIL_URL:return e.blob()}}).then(function(e){i({type:l,url:u,value:e})}).catch(function(){r("FBLogger")("messenger_web").warn("[external link] Failed to fetch response in helper js.")}))}}n.setEventHandler(a).setSupportedOrigins(e),n.beginListening();function i(e,n){var o=n!=null?n:1;if(t==null){o<=3&&window.setTimeout(function(){i(e,o+1)},250*Math.pow(2,o*o));return}r("SecurePostMessage").sendMessageToSpecificOrigin(window.parent,e,t)}}var c=n("$InternalEnum").Mirrored(["OEMBED_REQUEST_URL","THUMBNAIL_URL"]);l.init=u,l.MAWOembedIFrameMessageType=c}),98);
__d("XFBSbxMAWProxyPageControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/maw_proxy_page/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("MAWOembedIframeContainer.react",["ConstUriUtils","CookieConsentIFrameConfig","FBLogger","MAWOembedHelper","Promise","SecureMessageListener","SecurePostMessage","WAResolvable","XFBSbxMAWProxyPageControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return"https://www.fbsbx.com"}var u=new Map,c=null;function d(t,a,i){var l=u.get(t);if(l!=null)return l.promise;var s=f();if(s==null)return(e||(e=n("Promise"))).resolve();r("SecurePostMessage").sendMessageToSpecificOrigin(i.contentWindow,{requestMessageType:a,requestURL:t},s);var c=new(o("WAResolvable")).Resolvable;return u.set(t,c),c.promise}function m(e){if(e==null||typeof e!="object")return null;var t=e.url,n=e.value,a=e.type;if(t==null||n==null||a==null||typeof a!="string")return null;var i=o("MAWOembedHelper").MAWOembedIFrameMessageType.cast(a);if(typeof t=="string"&&i!=null){if(i===o("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL&&n instanceof Blob)return{type:o("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,url:t,value:n};if(i===o("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL&&typeof n=="object"&&n.title!=null&&n.thumbnail_url!=null){var l={author_name:typeof n.author_name=="string"?n.author_name:void 0,height:typeof n.height=="number"?n==null?void 0:n.height:150,thumbnail_height:typeof n.thumbnail_height=="number"?n.thumbnail_height:void 0,thumbnail_url:typeof n.thumbnail_url=="string"?n.thumbnail_url:void 0,thumbnail_width:typeof n.thumbnail_width=="number"?n.thumbnail_width:void 0,title:typeof n.title=="string"?n.title:void 0,type:typeof n.type=="string"?n.type:"photo",version:typeof n.version=="string"?n.version:"1.0",width:typeof n.width=="number"?n.width:200};return{type:o("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,url:t,value:l}}}return r("FBLogger")("messenger_web").warn("Failed to handle message %s from fbsbx: cannot process event message in the correct format",a),null}var p=function(t){var e=m(t.data);if(e!=null){var n=e.url,o=e.value,a=u.get(n);if(a==null){r("FBLogger")("messenger_web").warn("Failed to handle message from fbsbx: cannot find the resolvable promise for the url");return}a.resolve(o)}};function _(){var e,t,n=(e=window.frames["maw-intermediate-iframe"])!=null?e:null,o=f();if(n!=null){var a;return(a=c)==null||a.beginListening(),c}if(o==null){r("FBLogger")("messenger_web").warn("Failed to create maw-intermediate-iframe iFrame: cannot find the fbsbxUri");return}var i=document.createElement("iframe");return i.style.display="none",i.className="MAWOembedIframe",i.id="maw-intermediate-iframe",i.src=o,(t=document.body)==null||t.appendChild(i),c=new(r("SecureMessageListener"))(window).setEventHandler(p).setSupportedOrigins(["fbsbx.com"]),c.beginListening(),c}function f(){var e,t;return(e=r("XFBSbxMAWProxyPageControllerRouteBuilder").buildUri({__cci:(t=r("CookieConsentIFrameConfig").consent_param)!=null?t:""}).qualifyDomain(o("ConstUriUtils").getUri(s())))==null?void 0:e.toString()}l.requestUrl=d,l.createMAWOembedIframeContainer=_}),98);
__d("MAWPreProcessLinkPreviewQPL",["MAWLoggerUtils","QPLUserFlow","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=r("qpl")._(1056840460,"718");function s(t){var n=t.draftId,a=t.url,i=n.concat(a),l=o("MAWLoggerUtils").getInstanceKeyFromId(i),s=r("justknobx")._("2714");return r("QPLUserFlow").start(e,{annotations:{string:{preprocess_type:"link_preview_xma"}},instanceKey:l,timeoutInMs:s}),{addAnnotations:function(n){r("QPLUserFlow").addAnnotations(e,n,{instanceKey:l})},addPoint:function(n,o){r("QPLUserFlow").addPoint(e,n,{instanceKey:l}),o!=null&&r("QPLUserFlow").addAnnotations(e,o,{instanceKey:l})},endCancel:function(n,o){r("QPLUserFlow").endCancel(e,{annotations:n,cancelReason:o,instanceKey:l})},endFail:function(n,o){r("QPLUserFlow").endFailure(e,n,{instanceKey:l}),o!=null&&r("QPLUserFlow").addAnnotations(e,o,{instanceKey:l})},endSuccess:function(){r("QPLUserFlow").endSuccess(e,{instanceKey:l})}}}l.startMediaPreProcessLinkPreviewQpl=s}),98);
__d("useXMAPreviewsDisabledSetting",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t,n=(e||(e=r("useReStore")))(),a=o("MWPActor.react").useActor(),l=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(n.tables.messaging_privacy_settings).getKeyRange(a)},[n,a],i.id+":26");return l==null?r("MessengerWebPrivacySettings").e2ee_xma_previews_disabled:(t=l==null?void 0:l.e2eeXmaPreviewsDisabled)!=null?t:!1}l.default=s}),98);
__d("useMAWFetchAndWriteLinkPreviewXMATableData",["ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","FBLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWExternalLinkUtil","MAWPreProcessLinkPreviewQPL","asyncToGeneratorRuntime","getErrorSafe","getRequestConstUri","isFacebookURI","promiseDone","useAsyncReStore","useMAWDeleteLinkPreviewXMATableData","useXMAPreviewsDisabledSetting"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){var e=!1;return{abort:function(){e=!0},isAborted:function(){return e}}};function u(e){var t=e.threadKey,a=e.threadType,i=r("useAsyncReStore")(),l=a!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(a),u=r("useMAWDeleteLinkPreviewXMATableData")(a),m=r("getRequestConstUri")(),_=r("useXMAPreviewsDisabledSetting")();return o("Int64Hooks").useCallbackInt64(function(e){var a=e.draftId,f=e.urls,g=s(),h=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(l){var e=o("ConstUriUtils").getUri(f[0].entity.url);if(e!=null){var n=o("MAWPreProcessLinkPreviewQPL").startMediaPreProcessLinkPreviewQpl({draftId:a,url:e.toString()}),s=r("isFacebookURI")(e),h=r("isFacebookURI")(m),y=s&&h;if(s&&_){c({abortToken:g,dbPromise:i,deleteLinkPreviewXMATableData:u,draftId:a,qplEvent:n,qplSubspanPoint:"write_fb_disabled",status:r("E2EELinkPreviewXMADataStatus").DISABLED,threadKey:t,xmaData:null}),n.endCancel({string:{cancel_reason:"fb_xmas_disabled"}},706);return}c({abortToken:g,dbPromise:i,deleteLinkPreviewXMATableData:u,draftId:a,qplEvent:n,qplSubspanPoint:"write_loading_status",status:r("E2EELinkPreviewXMADataStatus").LOADING,threadKey:t,xmaData:{title:e.getDomain(),url:e.toString()}}),n.addAnnotations({bool:{should_fetch_from_og:y},string:{link_type:s?"facebook":"external"}});var C=y?yield d(e.toString(),n):yield p(f,n),b=C.dataType,v=C.xmaData;c({abortToken:g,dataType:b,dbPromise:i,deleteLinkPreviewXMATableData:u,draftId:a,qplEvent:n,qplSubspanPoint:"write_xma_data",status:r("E2EELinkPreviewXMADataStatus").LOADED,threadKey:t,xmaData:v})}}});return function(){return e.apply(this,arguments)}})();return h(),g})}function c(t){var n=t.abortToken,a=t.dataType,l=t.dbPromise,s=t.deleteLinkPreviewXMATableData,u=t.draftId,c=t.qplEvent,d=t.qplSubspanPoint,m=t.status,p=t.xmaData;if(c.addAnnotations({int:{data_type:a}}),n.isAborted()){c.endCancel({string:{cancel_reason:"fetch_aborted"}},706);return}c.addPoint(d+"_start"),r("promiseDone")(l,function(t){return t.runInTransaction(function(t){return t.e2ee_composer_draft_link_preview.put({data:p!=null?JSON.stringify(p):void 0,dataType:a!=null?(e||(e=o("I64"))).of_int32(a):void 0,draftId:u,status:(e||(e=o("I64"))).of_int32(m)})},"readwrite",void 0,void 0,i.id+":214").then(function(e){n.isAborted()&&(c.endCancel({string:{cancel_reason:"fetch_aborted_delete"}},706),s({draftId:e[0]})),c.addPoint(d+"_success"),d==="write_xma_data"&&c.endSuccess()}).catch(function(e){c.endFail(d+"_failed",{string:{data_status:String(m),error:"Error thrown when writing Link Preview XMA data to LSDB table. Error: "+e}}),r("FBLogger")("messenger_web_sharing").catching(e).mustfix("Failed to write Link Preview XMA data to LSDB table.")})})}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,a;t.addPoint("fetch_fb_og_data_start");var i=(n=(a=o("ConstUriUtils").getUri(e))==null?void 0:a.getDomain())!=null?n:e;try{var l,s,u;t.addPoint("http_request_start");var c=yield window.fetch(e,{credentials:"omit",referrerPolicy:"no-referrer"});if(t.addPoint("http_response_end"),!c.ok)return t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"http_response_error",response_status_code:String(c.status),xma_data_returned:"fallback"}}),f(i,e);var d=yield c.text(),m=new DOMParser,p=m.parseFromString(d,"text/html");p.querySelector("parsererror")&&t.addPoint("html_parsererror");var _=(l=p.querySelector('meta[property="og:image"]'))==null?void 0:l.getAttribute("content"),g=(s=p.querySelector('meta[name="description"]'))==null?void 0:s.getAttribute("content"),h=(u=p.querySelector('meta[property="og:title"]'))==null?void 0:u.getAttribute("content");return _==null&&g==null&&h==null?(t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"og_data_is_null",xma_data_returned:"fallback"}}),f(i,e)):(t.addPoint("fetch_fb_og_data_success",{string:{xma_data_returned:"rich_xma"}}),{dataType:r("E2EELinkPreviewXMADataType").FB_CLIENT_FETCH,xmaData:{author_name:g!=null?g:void 0,iframeMediaURL:_,thumbnail_url:_!=null?_:void 0,title:h!=null?h:i,url:e}})}catch(n){return t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"failed_to_fetch_data",xma_data_returned:"fallback"}}),f(i,e)}}),m.apply(this,arguments)}function p(e,t){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n){var a,i,l;n.addPoint("fetch_external_link_oembed_data_start");var s=o("MAWExternalLinkUtil").findFirstAvailableOembedUrlAndRequestPair(e),u=e[0].entity.url,c=null;if(s!=null){u=s.oEmbedUrl;try{n.addPoint("get_oembed_response_start"),c=yield o("MAWExternalLinkUtil").getOembedResponse({fallbackUrl:u,qplEvent:n,request:s.oEmbedRequest}),n.addPoint("get_oembed_response_success")}catch(e){var d=r("getErrorSafe")(e);n.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when fetching oEmbed data for External Link XMA. Error message: "+d.message}}),n.addPoint("get_oembed_response_end"),r("FBLogger")("messenger_web_sharing").catching(d).mustfix("[External link] Error thrown when fetching oEmbed data for External Link XMA.")}}var m=(a=o("ConstUriUtils").getUri(u))==null?void 0:a.getDomain();if(c==null)return n.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"fallback"}}),f(m!=null?m:u,u);n==null||n.addPoint("get_image_blob_response_start");var p=yield o("MAWExternalLinkUtil").getImageBlobResponse({qplEvent:n,xmaData:c}),_=null;if(p!=null&&o("MAWExternalLinkUtil").allowedPreviewTypes.includes(p.type)){var g=new File([p],"preview",{type:p.type});_=t.URL.createObjectURL(g)}return n==null||n.addPoint("get_image_blob_response_end",{bool:{media_url_is_null:_==null}}),n.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"rich_xma"}}),{dataType:r("E2EELinkPreviewXMADataType").OEMBED,xmaData:babelHelpers.extends({iframeMediaURL:_},c,{title:(i=c.title)!=null?i:m,url:(l=c.url)!=null?l:u})}}),_.apply(this,arguments)}function f(e,t){return{dataType:r("E2EELinkPreviewXMADataType").FALLBACK,xmaData:{title:e,url:t}}}l.default=u}),98);
__d("useMWLSSaveDrafts",["CometDebounce","Int64Hooks","LexicalText","MWDraftMessages.react","MWPComposerDraftMessages","MWPNewMessageDraftContext.react","isStringNullOrEmpty","justknobx","react","useMAWDeleteLinkPreviewXMATableData","useMAWFetchAndWriteLinkPreviewXMATableData","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback,u=r("justknobx")._("3119");function c(e){var t=e.editor,n=e.isPreviewThread,a=e.subthreadParentMessageId,i=e.threadKey,l=e.threadType,c=o("MWDraftMessages.react").useMWUpdateDraft(),d=u,m=r("useMAWFetchAndWriteLinkPreviewXMATableData")({threadKey:i,threadType:l}),p=r("useMAWDeleteLinkPreviewXMATableData")(l),_=o("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),f=s(function(e){n&&_!=null?_.current=e:(c==null||c(i,e,a),o("MWPComposerDraftMessages").updateDraftMessage({deleteLinkPreviewXMATableData:p,fetchAndWriteLinkPreviewXMA:m,message:e,subthreadParentMessageId:a,threadKey:i,threadType:l}))},[c,p,m,n,_,i,l,a]);o("Int64Hooks").useEffectInt64(function(){t.registerUpdateListener(r("CometDebounce")(function(e){var t=e.editorState;r("vulture")("KeqOUuaMdqaSaGiBnklN6mG4UtY=");var n=t.read(function(){return o("LexicalText").$rootTextContent()});if(r("isStringNullOrEmpty")(n)){f(n);return}f(n)},{wait:d}))},[d,t,f])}l.default=c}),98);
__d("useMWPComposerEditorDraftText",["MWPComposerDraftMessages","MWPNewMessageDraftContext.react","MWPreloadedText","react","useMWLSSaveDrafts","usePrepopulateLexicalEditor"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(e){var t,n=e.editor,a=e.isPreviewThread,i=a===void 0?!1:a,l=e.isQuickchat,u=l===void 0?!1:l,c=e.subthreadParentMessageId,d=e.threadKey,m=e.threadType,p=o("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),_=s(r("MWPreloadedText")),f=_.text!=null?_.text:p!=null?p.current:(t=o("MWPComposerDraftMessages").getDraftMessage(d,c))==null?void 0:t.messageText;return r("useMWLSSaveDrafts")({editor:n,isPreviewThread:i,subthreadParentMessageId:c,threadKey:d,threadType:m}),r("usePrepopulateLexicalEditor")(n,u?void 0:f,!0),f}l.default=u}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","MLCKeyBindingUtil","gkx","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useLayoutEffect,c=s.useRef,d=250;function m(e,t){var n=c(null);u(function(){return e.registerCommand(o("Lexical").KEY_ENTER_COMMAND,function(a){var i=a;if(o("MLCKeyBindingUtil").hasCommandModifier(i)&&r("gkx")("13931")&&!r("gkx")("23402"))return!1;if(i!=null&&!i.shiftKey&&!i.altKey&&(!r("gkx")("23402")||o("MLCKeyBindingUtil").hasCommandModifier(i))){i.preventDefault();var l=n.current;return l!=null&&i.timeStamp-l<=d?(n.current=i.timeStamp,!0):(e.dispatchCommand(o("MLCInstrumentationCommands").COMMIT_COMMAND,"create"),t(),n.current=i.timeStamp,!0)}return!1},o("Lexical").COMMAND_PRIORITY_LOW)},[e,t])}l.default=m}),98);
__d("useMWXLexicalHasText",["LexicalText","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useLayoutEffect,m=s.useReducer,p=s.useRef,_=s.useState;function f(e){return e.getEditorState().read(o("LexicalText").$isRootTextContentEmptyCurry(e.isComposing()))}function g(e){var t=_(function(){return!f(e)}),n=t[0],r=t[1];return c(function(){return e.registerUpdateListener(function(){r(!f(e))})},[e]),n}function h(e){"use no forget";var t=e.editor,n=e.initialValue,r=p(n);return{useHasText:u(function(){var e,n=p((e=r.current)!=null?e:!1);return c(function(){n.current=!1},[]),g(t)||n.current},[t])}}function y(e){var t=e.editor,n=e.initialValue,r=_(n!=null?n:!1),o=r[0],a=m(function(){return!0},!1),i=a[0],l=a[1];d(function(){l()},[]);var s=g(t);return s||!i&&o}l.useMWXLexicalHasText_DEPRECATED=h,l.useMWXLexicalHasText=y}),98);
__d("MWXUseLatch",["CometThrottle","Run","debounce","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo;function d(e,t,n){var a=t!=null?t:!1;return u(function(){if(a){var t=o("Run").onUnload(function(){return e(!1)});return function(){return t.remove()}}},[a,e]),c(function(){var t={contents:!1},o=r("debounce")(function(){if(!t.contents)return e(!1)},n|0),a=r("CometThrottle")(function(){return e(!0)},3e3,{leading:!0,trailing:!1}),i=function(){e(!1),t.contents=!0},l=function(){return a(),o()};return[l,i]},[e,n])}l.useLatch=d}),98);
__d("useMWXLexicalOnTypingChanged",["LexicalText","MWXUseLatch","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=e.editor,n=e.onTypingStateChanged,r=o("MWXUseLatch").useLatch(n,!0,5e3),a=r[0],i=r[1],l=c("");return u(function(){var e=function(t){var e=t.editorState.read(function(){return o("LexicalText").$rootTextContent()});if(e!==l.current)return l.current=e,e===""?i():a()};return t.registerUpdateListener(e)},[a,i,t]),{}}l.default=d}),98);
__d("useMWPComposerEditor",["Int64Hooks","Lexical","LexicalText","MWChatMessagesOnChatTabLoadTracker","MWDraftMessages.react","MWFBLogger","MWPComposerDraftMessages","MWV2ChatComposerGetViewContent","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","cr:7101","emptyFunction","mwpLexicalCreateEditor","react","useIsMessengerPWA","useLexicalInitializeEditor__DEPRECATED","useMWIsOffline","useMWPComposerAutoFocus","useMWPComposerEditorDraftText","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWXLexicalHasText","useMWXLexicalOnTypingChanged"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect,d=s.useMemo,m=s.useRef;function p(e){}var _=n("cr:7101")==null?p:n("cr:7101").useMWComposerKeyCommandFocusRegister,f=[],g=function(t){return t.read(function(){return o("LexicalText").$rootTextContent()})};function h(e){var t=e.customizedRanges,n=e.getTextFromEditorState,a=n===void 0?g:n,i=e.isPreviewThread,l=i===void 0?!1:i,s=e.isSendDisabled,p=s===void 0?!1:s,h=e.mediaStaging,y=h===void 0?f:h,C=e.onSendMessage,b=e.onTypingStateChanged,v=e.threadKey,S=e.clearFormatAfterSend,R=e.isQuickchat,L=R===void 0?!1:R,E=e.focusEditorDelayed,k=e.editorNodes,I=e.editorTheme,T=e.threadType,D=e.composerEntrypointForLogging,x=e.subthreadParentMessageId,$=m(null),P=d(function(){return r("mwpLexicalCreateEditor")({nodes:k,theme:I})},[k,I]),N=y.length>0;r("useLexicalInitializeEditor__DEPRECATED")(P),r("useMWPLexicalClearEditor")(P,S),r("useMWPComposerAutoFocus")({editor:P,focusEditorDelayed:E,hasUnsentAttachments:N,isPreviewThread:l,isQuickchat:L});var M=r("useMWPComposerEditorDraftText")({editor:P,isPreviewThread:l,isQuickchat:L,subthreadParentMessageId:x,threadKey:v,threadType:T}),w=o("MWDraftMessages.react").useMWUpdateDraft(),A=o("useMWXLexicalHasText").useMWXLexicalHasText({editor:P,initialValue:M!=null&&M!==""}),F=A||N,O=o("MWV2ComposerHasContentContext.react").useComposerHasContext(),B=O.hasContentRef;c(function(){B!=null&&(B.current=A)},[A,B]),r("useMWXLexicalOnTypingChanged")({editor:P,onTypingStateChanged:b});var W=u(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext),q=W.onMessageSendAttempt,U=r("useMWIsOffline")(),V=r("useIsMessengerPWA")(),H=U&&V,G=o("Int64Hooks").useCallbackInt64(function(){var e;if(!H){var n=(e=o("MWPComposerDraftMessages").getDraftMessage(v,x))==null?void 0:e.id;if(o("MWPComposerDraftMessages").updateDraftMessage({message:null,subthreadParentMessageId:x,threadKey:v}),w==null||w(v,null,x),q==null||q(F),!!F){o("MWChatMessagesOnChatTabLoadTracker").trackSendFor(v),o("MWFBLogger").MWLogger().tags(["MWPComposerEditor","Composer"]).debug("Calling onSendMessage");var i=t!=null?t(P,o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(v,x)):r("MWV2ChatComposerGetViewContent").getRanges(P),l=P.getEditorState(),s=a(l);P.dispatchCommand(o("Lexical").CLEAR_EDITOR_COMMAND),C(s,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,n,D),P.focus()}}},[w,H,q,F,P,v,t,a,C,D,x]),z=p?r("emptyFunction"):G;return r("useMWPLexicalCommitMessageOnEnter")(P,z),_($.current),{editor:P,editorElementRef:$,hasStuffToSend:F,sendMessage:z}}l.default=h}),98);
__d("MWMediaManagerFileSizeLimit",["justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=25;function s(t){return t?r("justknobx")._("3563"):e}l.getMWMaxAttachmentSizeInMB=s}),98);
__d("useFileDragEvents",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e,t,n){t===void 0&&(t=document.documentElement);var r=d(0),o=m(!1),a=o[0],i=o[1],l=u(function(t){if(i(!1),(n==null||n(t))&&e!=null){t.preventDefault();var o=t.dataTransfer;if(o!=null){var a=o.files;e(a,t)!==!1&&t.stopPropagation()}else t.stopPropagation();r.current=0}},[e,n]),s=u(function(e){var t,o=(t=e.dataTransfer)==null?void 0:t.files;(n==null||n(e))&&o!=null&&(e.preventDefault(),r.current++,i(!0))},[n]),p=u(function(e){var t,o=(t=e.dataTransfer)==null?void 0:t.files;(n==null||n(e))&&o!=null&&--r.current===0&&i(!1)},[n]),_=u(function(e){var t,n=(t=e.dataTransfer)==null?void 0:t.files;e.dataTransfer!=null&&(e.dataTransfer.dropEffect="copy"),n!=null&&e.preventDefault()},[]);return c(function(){if(t!=null)return t.addEventListener("drop",l,!0),t.addEventListener("dragenter",s,!0),t.addEventListener("dragleave",p,!0),t.addEventListener("dragover",_,!0),function(){t.removeEventListener("drop",l,!0),t.removeEventListener("dragenter",s,!0),t.removeEventListener("dragleave",p,!0),t.removeEventListener("dragover",_,!0)}},[s,p,_,l,t]),a}l.default=p}),98);
__d("MWV2FileDropzone.react",["fbt","FBLogger","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWMediaManagerFileSizeLimit","MWXTextPairing.react","cometIsMimeTypeForMedia","promiseDone","react","stylex","useFileDragEvents","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.createContext,_=m.useCallback,f=m.useRef,g=m.useState,h=p({current:{enabled:!0,handler:null}});function y(e){var t=e.children,n=e.fileUploadHandlerConfigRef,r=h.Provider;return d.jsx(r,{value:n,children:t})}y.displayName=y.name+" [from "+i.id+"]";var C={root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function b(e){if(e==null)return[];var t=e.dataTransfer;return t==null?[]:t.types}function v(e){switch(e){case 0:return;case 1:return s._(/*BTDS*/"Certain file types are unsupported in this chat.").toString();default:return s._(/*BTDS*/"Some files are unsupported and cannot be shared to this chat").toString()}}function S(e,t){var n=v(t);n!=null&&r("promiseDone")(e.runInTransaction(function(e){return r("LSIssueNewErrorStoredProcedure")(r("LSFactory")(e),{errorBodyText:n,errorTitleText:n})},"readwrite",void 0,void 0,i.id+":122"))}function R(e){var t=e.type;return o("cometIsMimeTypeForMedia").isMimeTypeForPhoto(t)||o("cometIsMimeTypeForMedia").isMimeTypeForVideo(t)?!0:t.startsWith("audio/")}var L=new Set(["text/plain","text/html","text/uri-list"]);function E(t){var n=t.children,a=t.getMaxAttachmentSizeInMBFunc,i=a===void 0?o("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB:a,l=t.isDisabled,c=t.isMediaOnly,m=t.thread,p=t.xstyle,h=f({enabled:!1,handler:null}),v=g(null),E=v[0],k=v[1],I=(e||(e=r("useReStore")))(),T=m!=null?(o("MWCMThreadTypes.react").isBroadcastThread(m.threadType)||o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(m.threadType)||o("LSMessagingThreadTypeUtil").isAiBot(m.threadType))&&!o("LSThreadBitOffset").has(56,m):!1,D=m!=null?o("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType):!1,x=l===!0||T,$=function(t){var e;return((e=h.current)==null?void 0:e.handler)==null?!1:!b(t).some(function(e){return L.has(e)})},P=r("useFileDragEvents")(function(){return!1},void 0,$),N=_(function(e){var t,n;if(((t=h.current)==null?void 0:t.enabled)!==!1){var o=(n=h.current)==null?void 0:n.handler;if(o==null){T||r("FBLogger")("messenger_web_media").mustfix(h.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file");return}var a=Array.from(e),i=c?a.filter(R):a;a.length!==i.length&&S(I,a.length),!x&&i.length!==0&&o(i)}},[c,x,T,I]);return r("useFileDragEvents")(N,E,function(e){return!0}),d.jsxs("div",babelHelpers.extends({},(u||(u=r("stylex"))).props(C.root,p!=null?p:!1),{ref:k,children:[d.jsx(y,{fileUploadHandlerConfigRef:h,children:n}),!x&&P?d.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xtijo5x x1o0tod xl56j7k x10l6tqk x13vifvy x1vjfegm",children:d.jsx(r("MWXTextPairing.react"),{body:s._(/*BTDS*/"max {fileSizeLimit} MB",[s._param("fileSizeLimit",String(i(D)))]),bodyColor:"secondary",headline:s._(/*BTDS*/"Drop files here"),level:4,textAlign:"center"})}):null]}))}E.displayName=E.name+" [from "+i.id+"]",l.mWV2FileDropzoneContext=h,l.MWV2FileDropzone=E}),226);
__d("useMWIsHDMediaEnabled",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t,n=(e||(e=r("useReStore")))(),a=o("MWPActor.react").useActor(),l=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(n.tables.messaging_privacy_settings).getKeyRange(a)},[n,a],i.id+":22");return l==null?r("MessengerWebPrivacySettings").e2ee_hd_media_enabled:(t=l==null?void 0:l.e2eeHdMediaEnabled)!=null?t:!1}l.default=s}),98);
__d("useMWV2FileDropzoneRegisterHandler",["MWV2FileDropzone.react","react","useMWIsHDMediaEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect;function d(e){var t=u(o("MWV2FileDropzone.react").mWV2FileDropzoneContext),n=r("useMWIsHDMediaEnabled")();c(function(){var r={enabled:!0,handler:function(r){return e(r,n)}};return t.current=r,function(){r.enabled=!1,r.handler=null}},[t,e,n])}l.default=d}),98);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=["typing","_",t.i64.to_string(e[0])].join(""),t.sequence([function(e){return t.forEach(t.filter(t.db.table(5).fetch(),function(e){return r[0]===e.queueName}),function(e){return e.delete()})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[1]=t.i64.cast([0,1]):(n=a.item,r[7]=n.syncGroup,t.i64.neq(r[7],void 0)?r[6]=r[7]:r[6]=t.i64.cast([0,1]),r[1]=r[6])})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[3]=void 0:(t=o.item,r[3]=t.threadType)})},function(o){return r[5]=new t.Map,r[5].set("thread_key",e[0]),r[5].set("is_group_thread",e[1]),r[5].set("is_typing",e[2]),r[5].set("attribution",t.i64.cast([0,0])),r[5].set("sync_group",r[1]),r[5].set("thread_type",r[3]),r[6]=t.toJSON(r[5]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),r[0],t.i64.cast([0,3]),r[6])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSTypingSendTypingIndicatorStoredProcedure",e.__tables__=["threads","pending_fire_and_forget_tasks"],a.exports=e}),null);
__d("LSSendTypingIndicatorStoredProcedure",["LSSendTypingIndicator","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSSendTypingIndicator"),a.threadKey,a.isGroupThread,a.isTyping);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSTypingIndicatorSettingState",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});i.default=e}),66);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicatorStoredProcedure","LSTypingIndicatorSettingState","MWPActor.react","MessengerWebUXLogger","Promise","ReQL","asyncToGeneratorRuntime","mwCMIsAnyCMThread","promiseDone","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(e,t,n,r){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a,i){if((u||(u=o("I64"))).equal(a,(c||(c=o("LSIntEnum"))).ofNumber(1))&&!(u||(u=o("I64"))).equal(t,i)){var l=yield(s||(s=n("Promise"))).all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads,["typingIndicatorDisabled"]).getKeyRange(t)),o("ReQL").firstAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(e.tables.participants).getKeyRange(t),o("ReQL").fromTableAscending(e.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(e){var t=e[0],n=e[1];return!(u||(u=o("I64"))).equal(t.contactId,i)}))]),d=l[0],m=l[1],p=d==null?void 0:d.typingIndicatorDisabled,_=p!=null?(u||(u=o("I64"))).equal((c||(c=o("LSIntEnum"))).ofNumber(r("LSTypingIndicatorSettingState").DISABLED),p):!1;return m!=null&&!_}else return!r("mwCMIsAnyCMThread")(a)}),m.apply(this,arguments)}function p(t){var n=(e||(e=r("useReStore")))(),a=o("MWPActor.react").useActor(),l=r("MessengerWebUXLogger").useInteractionLogger();return o("Int64Hooks").useCallbackInt64(function(e){(u||(u=o("I64"))).ge(t.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&r("promiseDone")(d(n,t.threadKey,t.threadType,a).then(function(a){if(a)return l==null||l({eventName:"send_typing_indicators",threadKey:t.threadKey,threadType:t.threadType}),n.runInTransaction(function(n){return r("LSSendTypingIndicatorStoredProcedure")(r("LSFactory")(n),{isGroupThread:o("LSMessagingThreadTypeUtil").isGroup(t.threadType),isTyping:e,threadKey:t.threadKey})},"readwrite",void 0,void 0,i.id+":134")}))},[t.authorityLevel,t.threadKey,t.threadType,n,a,l])}l.default=p}),98);
__d("IGDComposer.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","DisappearingMessagesMode","I64","IGDAiAgentsUtils","IGDChatTabsStateContext.react","IGDComposerConstants","IGDComposerEditContainer.react","IGDComposerEditContainerOffMsys.react","IGDComposerReplyView.react","IGDComposerView.react","IGDDMModeContextProvider","IGDEditMessageContext.react","IGDEqualityUtils","IGDInstamadilloUtils","IGDOffMsysComposerReplyView.react","IGDReplyContext.react","IGDSupportedFileTypes","IGDThreadlineContext","LSIntEnum","LSPendingTasksPluginType","MAWEditMessageContext.react","MWMediaManager","MWPReplyContext.react","PolarisUA","react","react-compiler-runtime","useIGDMediaMangerUploadFailedToast","useIGDMessageLengthExceededToast","useIsChatTabsDisplay","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage","useMWXLexicalMaxLength","useOnTypingStateChanged","useStableCallback","useStableValue"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useContext,f=m.useMemo;function g(e){var t=o("react-compiler-runtime").c(66),n=e.onSendMessage,a=e.thread,i=_(o("MWPReplyContext.react").MWPReplyContext),l=i.clearReply,c=i.reply,m=o("IGDReplyContext.react").useIGDReplyContext(),p=o("IGDReplyContext.react").useIGDReplySetterContext(),f=p.clearReply,g=o("IGDEditMessageContext.react").useIGDEditContext(),y=o("IGDEditMessageContext.react").useIGDEditSetterContext(),C=y.clearEditMessageData,b=_(o("MAWEditMessageContext.react").Context),v=b.editMessageData,S=b.setEditMessageData,R=_(o("IGDThreadlineContext").ThreadlineIsComposerFocusedContext),L=R.isThreadlineComposerFocused,E=r("useIGDMediaMangerUploadFailedToast")(),k;t[0]!==E||t[1]!==a?(k={showUploadFailureToast:E,thread:a},t[0]=E,t[1]=a,t[2]=k):k=t[2];var I=o("MWMediaManager").useMediaManager(k),T=I.handleFileSelect,D=r("useOnTypingStateChanged")(a),x=a.threadSubtype,$;t[3]!==x?($=o("IGDAiAgentsUtils").isAiThread(x),t[3]=x,t[4]=$):$=t[4];var P=$;r("useMWV2FileDropzoneRegisterHandler")(T);var N;t[5]!==I.mediaStaging||t[6]!==n||t[7]!==D||t[8]!==a.threadKey?(N={composerEntrypointForLogging:"IGDOpenComposer",isPreviewThread:!1,mediaStaging:I.mediaStaging,onSendMessage:n,onTypingStateChanged:D,threadKey:a.threadKey},t[5]=I.mediaStaging,t[6]=n,t[7]=D,t[8]=a.threadKey,t[9]=N):N=t[9];var M=r("useMWPComposerEditor")(N),w=M.editor,A=M.editorElementRef,F=M.hasStuffToSend,O=M.sendMessage,B=r("useIGDMessageLengthExceededToast")(),W;t[10]!==B?(W={maxLength:o("IGDComposerConstants").IGD_COMPOSER_MAX_LENGTH,onMaxLengthExceeded:B},t[10]=B,t[11]=W):W=t[11],o("useMWXLexicalMaxLength").useMWXLexicalMaxLength(w,W);var q;t[12]!==w||t[13]!==n?(q=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=t;n.apply(void 0,o),w.focus(h)},t[12]=w,t[13]=n,t[14]=q):q=t[14];var U=q,V=a.threadKey,H=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),G=r("useIsChatTabsDisplay")(),z;t[15]!==C||t[16]!==l||t[17]!==f||t[18]!==H||t[19]!==v||t[20]!==g||t[21]!==G||t[22]!==c||t[23]!==m||t[24]!==S||t[25]!==V?(z=function(){if(!(c||m)&&!(v||g))if(G)H==null||H({threadKey:(u||(u=o("I64"))).to_string(V),type:"close_tab"});else return;v||g?(S(null),C()):(c||m)&&(l(V,!0),f())},t[15]=C,t[16]=l,t[17]=f,t[18]=H,t[19]=v,t[20]=g,t[21]=G,t[22]=c,t[23]=m,t[24]=S,t[25]=V,t[26]=z):z=t[26];var j=z,K;t[27]===Symbol.for("react.memo_cache_sentinel")?(K={key:r("CometKeys").ESCAPE},t[27]=K):K=t[27];var Q;t[28]!==v||t[29]!==g||t[30]!==G||t[31]!==c||t[32]!==m?(Q=!(c||m)&&G&&s._(/*BTDS*/"Close chat tab")||(c||m)&&s._(/*BTDS*/"Cancel reply")||(v||g)&&s._(/*BTDS*/"Cancel edit")||"",t[28]=v,t[29]=g,t[30]=G,t[31]=c,t[32]=m,t[33]=Q):Q=t[33];var X;t[34]!==j||t[35]!==Q?(X=[{command:K,description:Q,handler:j,triggerFromInputs:!0}],t[34]=j,t[35]=Q,t[36]=X):X=t[36];var Y=X,J;t[37]!==L||t[38]!==c||t[39]!==a?(J=c!=null&&!L?d.jsx(r("IGDComposerReplyView.react"),{messageId:c.messageId,messageTimestamp:c.timestampMs,thread:a}):null,t[37]=L,t[38]=c,t[39]=a,t[40]=J):J=t[40];var Z;t[41]!==L||t[42]!==m?(Z=m!=null&&!L?d.jsx(r("IGDOffMsysComposerReplyView.react"),{reply:m}):null,t[41]=L,t[42]=m,t[43]=Z):Z=t[43];var ee;t[44]!==v?(ee=v!=null&&d.jsx(r("IGDComposerEditContainer.react"),{editMessageData:v}),t[44]=v,t[45]=ee):ee=t[45];var te;t[46]!==g?(te=g!=null?d.jsx(r("IGDComposerEditContainerOffMsys.react"),{editMessageData:g}):null,t[46]=g,t[47]=te):te=t[47];var ne;t[48]!==v||t[49]!==g||t[50]!==w||t[51]!==A||t[52]!==F||t[53]!==P||t[54]!==T||t[55]!==U||t[56]!==O||t[57]!==a?(ne=v==null&&g==null?d.jsx(r("IGDComposerView.react"),{attachmentsSupported:!0,editor:w,editorElementRef:A,emojisSupported:!o("PolarisUA").isMobile()&&!P,hasStuffToSend:F,onAttachmentsAdded:T,onSendMessage:U,policyProduct:"messaging_lightswitch",sendMessage:O,supportedFileTypes:o("IGDSupportedFileTypes").getIGDSupportedFileTypes(o("PolarisUA").isMobile()),surface:"mwp_igd_composer",thread:a}):null,t[48]=v,t[49]=g,t[50]=w,t[51]=A,t[52]=F,t[53]=P,t[54]=T,t[55]=U,t[56]=O,t[57]=a,t[58]=ne):ne=t[58];var re;return t[59]!==Y||t[60]!==Z||t[61]!==ee||t[62]!==te||t[63]!==ne||t[64]!==J?(re=d.jsx("div",{children:d.jsxs(r("CometComponentWithKeyCommands.react"),{commandConfigs:Y,children:[J,Z,ee,te,ne]})}),t[59]=Y,t[60]=Z,t[61]=ee,t[62]=te,t[63]=ne,t[64]=J,t[65]=re):re=t[65],re}function h(){}function y(e){var t=o("react-compiler-runtime").c(19),n=e.afterSendMessage,a=e.thread,i=_(o("IGDDMModeContextProvider").IGDDMModeContext),l=i.dmMode,s=i.lastSetTtlSec,m;t[0]!==a?(m=o("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a)?(c||(c=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):void 0,t[0]=a,t[1]=m):m=t[1];var p=m,f;t[2]!==l||t[3]!==s?(f=l===r("DisappearingMessagesMode").ON&&s!=null?(u||(u=o("I64"))).of_int32(s):void 0,t[2]=l,t[3]=s,t[4]=f):f=t[4];var h=C(a,n,p,f),y;t[5]!==a.authorityLevel||t[6]!==a.capabilities||t[7]!==a.capabilities2||t[8]!==a.capabilities3||t[9]!==a.capabilities4||t[10]!==a.capabilities5||t[11]!==a.consistentThreadFbid||t[12]!==a.threadKey||t[13]!==a.threadSubtype||t[14]!==a.threadType?(y={authorityLevel:a.authorityLevel,capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,capabilities5:a.capabilities5,consistentThreadFbid:a.consistentThreadFbid,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},t[5]=a.authorityLevel,t[6]=a.capabilities,t[7]=a.capabilities2,t[8]=a.capabilities3,t[9]=a.capabilities4,t[10]=a.capabilities5,t[11]=a.consistentThreadFbid,t[12]=a.threadKey,t[13]=a.threadSubtype,t[14]=a.threadType,t[15]=y):y=t[15];var b=o("useStableValue").useStableValue(y,o("IGDEqualityUtils").shallowEqualI64),v;return t[16]!==h||t[17]!==b?(v=d.jsx(g,{onSendMessage:h,thread:b}),t[16]=h,t[17]=b,t[18]=v):v=t[18],v}function C(e,t,n,a){var i=o("react-compiler-runtime").c(5),l;i[0]!==t||i[1]!==a||i[2]!==n||i[3]!==e?(l={afterSendMessage:t,entryPoint:"IGDComposer",ephemeralDurationInSec:a,isIGDW:!0,pluginType:n,skipUrlPreviewGen:!1,thread:e},i[0]=t,i[1]=a,i[2]=n,i[3]=e,i[4]=l):l=i[4];var s=r("useMWV2OnSendOpenMessage")(l);return r("useStableCallback")(s)}l.default=y}),226);
__d("IGDComposerBlockForThreadOffMsys_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDComposerBlockForThreadOffMsys_XFBIGDirectViewerThread",selections:[{args:null,kind:"FragmentSpread",name:"IGDComposerBlockCannesOffMsys_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"IGDRestrictedUserComposerBlockOffMsys_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"IGDBlockedUserComposerBlockOffMsys_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"IGDHiddenChatComposerOffMsys_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"IGDMessageRequestComposerBannerOffMsys_XFBIGDirectViewerThread"}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("IGDComposerBlockForThreadOffMsys.react",["CometRelay","IGDComposerBlockBoundary.react","IGDComposerBlockForThreadOffMsys_XFBIGDirectViewerThread.graphql","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDComposerBlockCannesOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),d=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDLeftGroupComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),m=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDPartnershipDisabledComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),p=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDFallbackComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),_=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDBroadcastChannelEndedComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),f=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDInstamadilloTLCComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),g=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDInstamadilloDMComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),h=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDRestrictedUserComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),y=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDBlockedUserComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),C=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDUnreachableInviteComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),b=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDHiddenChatComposerOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),v=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDMessageRequestComposerBannerOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),S=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDSupportThreadComposerOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react"));function R(t){var a=o("react-compiler-runtime").c(5),i=t.composerBlockType,l=t.viewerThreadRef,s=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDComposerBlockForThreadOffMsys_XFBIGDirectViewerThread.graphql"),l),R;a[0]!==i||a[1]!==s?(R=i==="cannes_composer_block"?u.jsx(c,{viewerThreadRef:s}):i==="input_mode_disabled_for_group_thread"?u.jsx(d,{}):i==="input_mode_partnership_thread_disabled_for_creator"?u.jsx(m,{}):i==="broadcast_channel_ended"?u.jsx(_,{}):i==="instamadillo_tlc_block"?u.jsx(f,{}):i==="instamadillo_dm_block"?u.jsx(g,{}):i==="1on1_restricted_user"?u.jsx(h,{viewerThreadRef:s}):i==="1on1_blocked_user"?u.jsx(y,{viewerThreadRef:s}):i==="1on1_unreachable_invite_model"?u.jsx(C,{}):i==="hidden_group_chat_in_spam_folder"?u.jsx(b,{viewerThreadRef:s}):i==="support_thread_composer_block"?u.jsx(S,{}):i==="message_request"?u.jsx(v,{viewerThreadRef:s}):i==="fallback"?u.jsx(p,{}):(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+i)})(),a[0]=i,a[1]=s,a[2]=R):R=a[2];var L=R,E;return a[3]!==L?(E=u.jsx(r("IGDComposerBlockBoundary.react"),{children:L}),a[3]=L,a[4]=E):E=a[4],E}l.default=R}),98);
__d("IGDReachableInviteBanner.react",["fbt","FBLogger","I64","IGDInviteModelUtils","Link.react","MWPActor.react","MWXComposerBanner.react","MessengerWebUXLogger","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react"));function m(t){var n,a=o("react-compiler-runtime").c(13),l=t.loggingEventName,c=t.threadKey,m=(e||(e=r("useReStore")))(),p=o("MWPActor.react").useActor(),_=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(m.tables.participants).getKeyRange(c).filter(function(e){var t=e.contactId;return!(u||(u=o("I64"))).equal(t,p)}),o("ReQL").fromTableAscending(m.tables.contacts))},[m.tables.contacts,m.tables.participants,c,p],i.id+":36"))!=null?n:[null,null],f=_[1],g;a[0]!==l?(g={eventName:l},a[0]=l,a[1]=g):g=a[1];var h=r("MessengerWebUXLogger").useImpressionLoggerRef(g);if(f==null)return r("FBLogger")("igd_web").mustfix("Contact data is null in IGDReachableInviteBanner"),null;var y;if(a[2]===Symbol.for("react.memo_cache_sentinel")){var C;y=(C=r("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"477434105621119"}).setDomain("help.instagram.com"))==null||(C=C.setProtocol("https"))==null?void 0:C.toString(),a[2]=y}else y=a[2];var b=y,v;a[3]!==f.name||a[4]!==f.secondaryName?(v=s._(/*BTDS*/"Invite {name} ({secondaryName}) to chat",[s._param("name",f.name),s._param("secondaryName",f.secondaryName)]),a[3]=f.name,a[4]=f.secondaryName,a[5]=v):v=a[5];var S=v,R;a[6]!==b?(R=s._(/*BTDS*/"You can only send one message in this invite. Remember to follow our {link} and be respectful when messaging others for the first time.",[s._param("link",d.jsx(r("Link.react"),{href:b,children:"Community Standards"}))]),a[6]=b,a[7]=R):R=a[7];var L=R,E;a[8]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"You can send one message in this request. Once they accept, you can send more messages."),a[8]=E):E=a[8];var k=E,I=o("IGDInviteModelUtils").shouldUseInviteModelV2(),T=I?k:L,D=I?void 0:S,x;return a[9]!==h||a[10]!==T||a[11]!==D?(x=d.jsx(r("MWXComposerBanner.react"),{bodyText:T,headerText:D,ref:h}),a[9]=h,a[10]=T,a[11]=D,a[12]=x):x=a[12],x}l.default=m}),226);
__d("LSNullstateCTAType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});i.default=e}),66);
__d("MWV2ErrorComposer.react",["fbt","MDSTextPairing.react","MWXText.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){return u.jsx("div",{className:"xcrg951 x8cjs6t x13fuv20 x178xt8z x1a8lsjc x1a4sjiy xvahy20 x889kno",children:u.jsx(r("MDSTextPairing.react"),{headline:s._(/*BTDS*/"Something isn't working."),headlineColor:"secondary",level:4,meta:u.jsx(r("MWXText.react"),{numberOfLines:2,type:"meta3",children:s._(/*BTDS*/"This may be because of a technical error we're working to fix.")}),reduceEmphasis:!0,textAlign:"center"})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("usePrecompileURLMatcher",["URLMatcher","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect,u=!1;function c(){var e=o("react-compiler-runtime").c(1),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],s(d,t)}function d(){u||(u=!0,r("URLMatcher").compilePermissiveHostPathMatcher())}l.default=c}),98);
__d("IGDComposerCommon.react",["CometErrorBoundary.react","CometPlaceholder.react","FBLogger","I64","IGDComposer.react","IGDInviteModelUtils","IGDReachableInviteBanner.react","JSResourceForInteraction","LSContactBitOffset","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","LSNullstateCTAType","MWV2ErrorComposer.react","ReQL","ReQLSuspense","WebUXLoggingSurfaceContextProvider","lazyLoadComponent","react","react-compiler-runtime","useContactReachabilityStatus","usePrecompileURLMatcher","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDUnavailableComposer.react").__setRef("IGDComposerCommon.react")),p=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDInviteSentComposer.react").__setRef("IGDComposerCommon.react"));function _(e){var t=o("react-compiler-runtime").c(9),n=e.afterSendMessage,a=e.showReachableInviteBanner,l=e.thread,s;t[0]!==a||t[1]!==l?(s=a&&d.jsx(r("IGDReachableInviteBanner.react"),{loggingEventName:"igd_invite_model_reachable_banner",threadKey:l.threadKey}),t[0]=a,t[1]=l,t[2]=s):s=t[2];var u;t[3]!==n||t[4]!==l?(u=d.jsx(r("IGDComposer.react"),{afterSendMessage:n,thread:l}),t[3]=n,t[4]=l,t[5]=u):u=t[5];var c;return t[6]!==s||t[7]!==u?(c=d.jsx(r("CometErrorBoundary.react"),{fallback:f,children:d.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:d.jsxs(o("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_chat_composer",children:[s,u]})})}),t[6]=s,t[7]=u,t[8]=c):c=t[8],c}function f(){return d.jsx(r("MWV2ErrorComposer.react"),{})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=o("react-compiler-runtime").c(3),n=e.afterSendMessage,r=e.thread,a;return t[0]!==n||t[1]!==r?(a=d.jsx(_,{afterSendMessage:n,showReachableInviteBanner:!1,thread:r}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function h(e){var t=o("react-compiler-runtime").c(9),n=e.afterSendMessage,a=e.otherUser,i=e.thread,l=o("LSContactBitOffset").has(0,a),s=o("LSContactBitOffset").has(1,a),f=!l||!s,g=a.blockedSinceTimestampMs!=null?!1:f,h=a.contactReachabilityStatusType,y;t[0]!==h?(y=o("IGDInviteModelUtils").shouldShowTextOnlyComposerWithBanner(h),t[0]=h,t[1]=y):y=t[1];var C=y,b=o("IGDInviteModelUtils").shouldShowBlockComposer(h),v=o("IGDInviteModelUtils").shouldShowTextOnlyComposer(h),S=h!=null?(u||(u=o("I64"))).equal((c||(c=o("LSIntEnum"))).ofNumber(r("LSContactReachabilityStatusType").REACHABLE),h)||C||v||b:!0;if(S)if(g){var R;return t[2]===Symbol.for("react.memo_cache_sentinel")?(R=d.jsx(m,{}),t[2]=R):R=t[2],R}else if(b&&(o("IGDInviteModelUtils").shouldUseInviteModelV2()||o("IGDInviteModelUtils").shouldUseInviteModel())){var L;return t[3]===Symbol.for("react.memo_cache_sentinel")?(L=d.jsx(p,{loggingEventName:"igd_invite_model_invite_sent"}),t[3]=L):L=t[3],L}else{var E;return t[4]!==n||t[5]!==C||t[6]!==i?(E=d.jsx(_,{afterSendMessage:n,showReachableInviteBanner:C,thread:i}),t[4]=n,t[5]=C,t[6]=i,t[7]=E):E=t[7],E}else{var k;return t[8]===Symbol.for("react.memo_cache_sentinel")?(k=d.jsx(m,{}),t[8]=k):k=t[8],k}}function y(t){var n=o("react-compiler-runtime").c(16),a=t.afterSendMessage,l=t.hasActivity,s=t.thread,m=(e||(e=r("useReStore")))(),p;n[0]!==m.tables.thread_nullstate||n[1]!==s.threadKey?(p=function(){return o("ReQL").fromTableAscending(m.tables.thread_nullstate).getKeyRange(s.threadKey)},n[0]=m.tables.thread_nullstate,n[1]=s.threadKey,n[2]=p):p=n[2];var _;n[3]!==m||n[4]!==s.threadKey?(_=[m,s.threadKey],n[3]=m,n[4]=s.threadKey,n[5]=_):_=n[5];var f=o("ReQLSuspense").useFirst(p,_,i.id+":270"),y;n[6]!==f?(y=f!=null?(u||(u=o("I64"))).equal(f.ctaType,(c||(c=o("LSIntEnum"))).ofNumber(r("LSNullstateCTAType").GET_STARTED)):!1,n[6]=f,n[7]=y):y=n[7];var C=y,b=l,v=o("useContactReachabilityStatus").useOtherUser(m,s.threadKey,s.threadType),S;n[8]!==a||n[9]!==C||n[10]!==b||n[11]!==v||n[12]!==s?(S=C&&!b?null:o("LSMessagingThreadTypeUtil").isOneToOne(s.threadType)?v!=null?d.jsx(h,{afterSendMessage:a,otherUser:v[1],thread:s}):r("FBLogger")("igd_web").mustfix("Missing contact row"):d.jsx(g,{afterSendMessage:a,thread:s}),n[8]=a,n[9]=C,n[10]=b,n[11]=v,n[12]=s,n[13]=S):S=n[13];var R;return n[14]!==S?(R=d.jsx(d.Fragment,{children:S}),n[14]=S,n[15]=R):R=n[15],R}function C(t){var n=o("react-compiler-runtime").c(12),a=t.afterSendMessage,l=t.thread,s=(e||(e=r("useReStore")))();r("usePrecompileURLMatcher")();var c;n[0]!==s.tables.threads||n[1]!==l.threadKey?(c=function(){return o("ReQL").fromTableAscending(s.tables.threads,["lastActivityTimestampMs"]).getKeyRange(l.threadKey).map(v)},n[0]=s.tables.threads,n[1]=l.threadKey,n[2]=c):c=n[2];var m;n[3]!==s||n[4]!==l.threadKey?(m=[s,l.threadKey],n[3]=s,n[4]=l.threadKey,n[5]=m):m=n[5];var p=o("ReQLSuspense").useFirst(c,m,i.id+":343"),_;n[6]!==p?(_=p!=null?!(u||(u=o("I64"))).equal(p,(u||(u=o("I64"))).zero):!0,n[6]=p,n[7]=_):_=n[7];var f=_,g;return n[8]!==a||n[9]!==f||n[10]!==l?(g=d.jsx(r("CometErrorBoundary.react"),{fallback:b,children:d.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:d.jsx(y,{afterSendMessage:a,hasActivity:f,thread:l})})}),n[8]=a,n[9]=f,n[10]=l,n[11]=g):g=n[11],g}function b(){return d.jsx(r("MWV2ErrorComposer.react"),{})}b.displayName=b.name+" [from "+i.id+"]";function v(e){return e.lastActivityTimestampMs}l.default=C}),98);
__d("IGDMessageRequestComposerLayout.react",["CometColumn.react","CometColumnItem.react","FocusRegion.react","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={header:{borderBottomColor:"x1bs97v6",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(25),n=e.messageRequestAccept,a=e.messageRequestBlockLeave,i=e.messageRequestDelete,l=e.messageRequestFootnote,c=e.messageRequestHeader,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x5ur3kl x13fuv20 x178xt8z"},t[0]=d):d=t[0];var m;t[1]!==c?(m=s.jsx(r("CometColumnItem.react"),{align:"center",children:c}),t[1]=c,t[2]=m):m=t[2];var p;t[3]!==l?(p=s.jsx(r("CometColumnItem.react"),{align:"center",paddingTop:12,children:l}),t[3]=l,t[4]=p):p=t[4];var _;t[5]!==m||t[6]!==p?(_=s.jsxs(r("CometColumn.react"),{paddingHorizontal:16,paddingVertical:16,xstyle:u.header,children:[m,p]}),t[5]=m,t[6]=p,t[7]=_):_=t[7];var f,g;t[8]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x78zum5 xyamay9 xv54qhq x1l90r2v xf7dkkf"},g={className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1gabggj xs9asl8 xaso8d8"},t[8]=f,t[9]=g):(f=t[8],g=t[9]);var h;t[10]!==a?(h=s.jsx("li",babelHelpers.extends({},g,{children:a})),t[10]=a,t[11]=h):h=t[11];var y,C;t[12]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("li",{"aria-hidden":!0,className:"x6usi7g x18b5jzi x1lun4ml x1c4vz4f xs83m0k xxk0z11"}),C={className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1gabggj xs9asl8 xaso8d8"},t[12]=y,t[13]=C):(y=t[12],C=t[13]);var b;t[14]!==i?(b=s.jsx("li",babelHelpers.extends({},C,{children:i})),t[14]=i,t[15]=b):b=t[15];var v;t[16]!==n?(v=n!=null?s.jsxs(s.Fragment,{children:[s.jsx("li",{"aria-hidden":!0,className:"x6usi7g x18b5jzi x1lun4ml x1c4vz4f xs83m0k xxk0z11"}),s.jsx("li",{className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1gabggj xs9asl8 xaso8d8",children:n})]}):null,t[16]=n,t[17]=v):v=t[17];var S;t[18]!==b||t[19]!==v||t[20]!==h?(S=s.jsxs("ul",babelHelpers.extends({},f,{children:[h,y,b,v]})),t[18]=b,t[19]=v,t[20]=h,t[21]=S):S=t[21];var R;return t[22]!==S||t[23]!==_?(R=s.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:o("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,children:s.jsxs("div",babelHelpers.extends({},d,{children:[_,S]}))}),t[22]=S,t[23]=_,t[24]=R):R=t[24],R}l.default=c}),98);
__d("IGDMessageRequestComposerBannerLoading.react",["IGDMessageRequestComposerLayout.react","IGDSGlimmer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={glimmerButton:{height:"x1v9usgg",maxWidth:"x193iq5w",width:"x9fslfs",$$css:!0},glimmerFootnote:{height:"x6w4g8m",maxWidth:"x7ep2pv",width:"xh8yej3",$$css:!0},glimmerHeader:{height:"x1v9usgg",maxWidth:"x256u9z",width:"xh8yej3",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(1),t;if(e[0]===Symbol.for("react.memo_cache_sentinel")){var n;t=s.jsx(r("IGDMessageRequestComposerLayout.react"),{messageRequestAccept:s.jsx(n=r("IGDSGlimmer.react"),{index:1,xstyle:u.glimmerButton}),messageRequestBlockLeave:s.jsx(n,{index:1,xstyle:u.glimmerButton}),messageRequestDelete:s.jsx(n,{index:1,xstyle:u.glimmerButton}),messageRequestFootnote:s.jsx(n,{index:1,xstyle:u.glimmerFootnote}),messageRequestHeader:s.jsx(n,{index:1,xstyle:u.glimmerHeader})}),e[0]=t}else t=e[0];return t}l.default=c}),98);
__d("IGDComposerMsys.react",["CometPlaceholder.react","IGDComposerCommon.react","IGDMessageRequestComposerBannerLoading.react","LSMessagingThreadTypeUtil","MessengerWebUXLogger","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("deferredLoadComponent")(r("requireDeferredForDisplay")("IGDMessageRequestComposerBanner.react").__setRef("IGDComposerMsys.react"));function c(e){var t=o("react-compiler-runtime").c(15),n=e.afterSendMessage,a=e.thread,l=o("LSMessagingThreadTypeUtil").isIGDMessageRequest(a),c;t[0]!==a.threadKey||t[1]!==a.threadType?(c={eventName:"composer_rendered",threadKey:a.threadKey,threadType:a.threadType},t[0]=a.threadKey,t[1]=a.threadType,t[2]=c):c=t[2];var d=r("MessengerWebUXLogger").useImpressionLoggerRef(c);if(l){var m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(r("IGDMessageRequestComposerBannerLoading.react"),{}),t[3]=m):m=t[3];var p;t[4]!==a?(p=s.jsx(r("CometPlaceholder.react"),{fallback:m,name:i.id,children:s.jsx(u,{thread:a})}),t[4]=a,t[5]=p):p=t[5];var _;return t[6]!==d||t[7]!==p?(_=s.jsx("div",{ref:d,children:p}),t[6]=d,t[7]=p,t[8]=_):_=t[8],_}var f;t[9]!==n||t[10]!==a?(f=s.jsx(r("IGDComposerCommon.react"),{afterSendMessage:n,thread:a}),t[9]=n,t[10]=a,t[11]=f):f=t[11];var g;return t[12]!==d||t[13]!==f?(g=s.jsx("div",{ref:d,children:f}),t[12]=d,t[13]=f,t[14]=g):g=t[14],g}l.default=c}),98);
__d("IGDComposerRichContentTray_AvatarAvailableQuery$Parameters",["IGDComposerRichContentTray_AvatarAvailableQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("IGDComposerRichContentTray_AvatarAvailableQuery_instagramRelayOperation"),metadata:{},name:"IGDComposerRichContentTray_AvatarAvailableQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDComposerRichContentTray.entrypoint",["IGDComposerRichContentTray_AvatarAvailableQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.igid;return{queries:{avatarQueryRef:{parameters:r("IGDComposerRichContentTray_AvatarAvailableQuery$Parameters"),variables:{user_id:e}}}}},root:r("JSResourceForInteraction")("IGDComposerRichContentTray.react").__setRef("IGDComposerRichContentTray.entrypoint")};l.default=e}),98);
__d("IGDSStickerPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n,a,i,l,u;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M13.11 22H7.416A5.417 5.417 0 0 1 2 16.583V7.417A5.417 5.417 0 0 1 7.417 2h9.166A5.417 5.417 0 0 1 22 7.417v5.836a2.083 2.083 0 0 1-.626 1.488l-6.808 6.664A2.083 2.083 0 0 1 13.11 22Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),a=s.jsx("circle",{cx:"8.238",cy:"9.943",r:"1.335"}),i=s.jsx("circle",{cx:"15.762",cy:"9.943",r:"1.335"}),l=s.jsx("path",{d:"M15.174 15.23a4.887 4.887 0 0 1-6.937-.301",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),u=s.jsx("path",{d:"M22 10.833v1.629a1.25 1.25 0 0 1-1.25 1.25h-1.79a5.417 5.417 0 0 0-5.417 5.417v1.62a1.25 1.25 0 0 1-1.25 1.25H9.897",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=u):(n=t[0],a=t[1],i=t[2],l=t[3],u=t[4]);var c;return t[5]!==e?(c=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a,i,l,u]})),t[5]=e,t[6]=c):c=t[6],c}var c=s.memo(u);l.default=c}),98);
__d("IGDComposerRichContentButtonPopoverTrigger.react",["fbt","Actor","FDSPopoverLoadingState.react","IGDComposerRichContentTray.entrypoint","IGDSBox.react","IGDSEntryPointPopoverTrigger.react","IGDSIconButton.react","IGDSStickerPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","QuickPerformanceLogger","cr:9647","qpl","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d={button:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function m(t){var a=o("react-compiler-runtime").c(17),i=t.enableOffMsysComposer,l=t.threadFbid,u;a[0]===Symbol.for("react.memo_cache_sentinel")?(u=s._(/*BTDS*/"Choose a GIF or sticker").toString(),a[0]=u):u=a[0];var m=u,p=r("MessengerWebUXLogger").useInteractionLogger(),_=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),f=n("cr:9647")(),g=f.isReduceMotionSettingEnabled,h=o("Actor").useActor(),y=h[0],C;a[1]!==y?(C=y.toString(),a[1]=y,a[2]=C):C=a[2];var b=C,v;a[3]!==b?(v={igid:b},a[3]=b,a[4]=v):v=a[4];var S;a[5]===Symbol.for("react.memo_cache_sentinel")?(S=c.jsx(r("FDSPopoverLoadingState.react"),{withArrow:!0}),a[5]=S):S=a[5];var R;a[6]!==i||a[7]!==l?(R={enableOffMsysComposer:i,threadFbid:l},a[6]=i,a[7]=l,a[8]=R):R=a[8];var L;a[9]!==_||a[10]!==g||a[11]!==p?(L=function(n,o,a,i,l,s){return c.jsx(r("IGDSBox.react"),{children:c.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:n,onClick:function(){p==null||p({eventName:"composer_open_rich_content_picker",extraData:{isReduceMotionSettingEnabled:String(g)},flowInstanceId:_}),(e||(e=r("QuickPerformanceLogger"))).markerStart(r("qpl")._(364455228,"179")),o()},xstyle:d.button,children:c.jsx(r("IGDSStickerPanoOutline24Icon.react"),{alt:m,color:"ig-primary-text"})})})},a[9]=_,a[10]=g,a[11]=p,a[12]=L):L=a[12];var E;return a[13]!==v||a[14]!==R||a[15]!==L?(E=c.jsx(r("IGDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:v,fallback:S,otherProps:R,popoverEntryPoint:r("IGDComposerRichContentTray.entrypoint"),position:"above",preloadTrigger:"button",children:L}),a[13]=v,a[14]=R,a[15]=L,a[16]=E):E=a[16],E}l.default=m}),226);
__d("IGDGetHashtagRanges.react",["PolarisIGHashtagRegex","PolarisLinkBuilder"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)return[];var t=o("PolarisIGHashtagRegex").matchHashtags(e);return t.map(function(e){var t=e.endIndex,n=e.hashtag,r=e.startIndex;return{entity:{__typename:"Hashtag",uri:o("PolarisLinkBuilder").buildTagLink(n)},length:t-r,offset:r}})}l.getHashtagRanges=e}),98);
__d("IGDMessageRowIsRepliedContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(!1);function d(){return u(c)}l.IGDMessageRowIsRepliedContext=c,l.useIGDMessageRowIsRepliedContext=d}),98);
__d("IGDHiddenMessage.react",["fbt","IGDChatBubble.react","IGDMessageRowIsRepliedContext","IGDSBox.react","IgdHideReportedMessageFalcoEvent","MWXText.react","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={text:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(13),n=e.connectBottom,a=e.connectTop,i=e.precedesXMA,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={onImpressionStart:m},t[0]=l):l=t[0];var d=r("useSinglePartialViewImpression")(l),p=o("IGDMessageRowIsRepliedContext").useIGDMessageRowIsRepliedContext(),_;t[1]!==p?(_=p?s._(/*BTDS*/"You reported this message"):s._(/*BTDS*/"Hidden for you"),t[1]=p,t[2]=_):_=t[2];var f;t[3]!==_?(f=u.jsx(r("IGDSBox.react"),{xstyle:c.text,children:u.jsx(r("MWXText.react"),{color:"secondary",type:"body3",children:_})}),t[3]=_,t[4]=f):f=t[4];var g;t[5]!==n||t[6]!==a||t[7]!==i||t[8]!==f?(g=u.jsx(r("IGDChatBubble.react"),{connectBottom:n,connectTop:a,outgoing:!1,precedesXMA:i,children:f}),t[5]=n,t[6]=a,t[7]=i,t[8]=f,t[9]=g):g=t[9];var h;return t[10]!==d||t[11]!==g?(h=u.jsx(r("IGDSBox.react"),{containerRef:d,children:g}),t[10]=d,t[11]=g,t[12]=h):h=t[12],h}function m(){r("IgdHideReportedMessageFalcoEvent").log(p)}function p(){return{event_name:"user_hidden_message_impression"}}l.default=d}),226);
__d("IGDInboxGenAIStarIcon.react",["fbt","IGDSBox.react","IGDSGenAiPanoFilled24Icon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=u.jsx(r("IGDSBox.react"),{marginStart:1,children:u.jsx(r("IGDSGenAiPanoFilled24Icon.react"),{alt:s._(/*BTDS*/"Star shapped icon for AI characters"),color:"ig-secondary-icon",size:12})}),e[0]=t):t=e[0],t}l.default=c}),226);
__d("IGDMessageContainerWithHighlightBar.react",["IGDSBox.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={container_incoming:{paddingInlineStart:"x1g0dm76",$$css:!0},container_outgoing:{paddingInlineEnd:"xpdmqnj",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(9),n=e.children,a=e.outgoing,i=a?u.container_outgoing:u.container_incoming,l;t[0]!==a?(l=!a&&s.jsx("div",{className:"x19g9edo xr9e8f9 x1e4oeot x1ui04y5 x6en5u8 x5yr21d x10l6tqk x13vifvy x51ohtg x1o0tod"}),t[0]=a,t[1]=l):l=t[1];var c;t[2]!==a?(c=a&&s.jsx("div",{className:"x19g9edo xr9e8f9 x1e4oeot x1ui04y5 x6en5u8 x5yr21d x10l6tqk x13vifvy x51ohtg xtijo5x"}),t[2]=a,t[3]=c):c=t[3];var d;return t[4]!==n||t[5]!==i||t[6]!==l||t[7]!==c?(d=s.jsxs(r("IGDSBox.react"),{position:"relative",xstyle:i,children:[l,n,c]}),t[4]=n,t[5]=i,t[6]=l,t[7]=c,t[8]=d):d=t[8],d}l.default=c}),98);
__d("IGDMessageErrorBubble.react",["fbt","IGDChatBubble.react","IGDSBox.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(10),n=e.isOutgoing,a=n?"end":"start",i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={padding:"2px 4px"},t[0]=i):i=t[0];var l=n?"white":"primary",c;t[1]===Symbol.for("react.memo_cache_sentinel")?(c=s._(/*BTDS*/"Error displaying this message"),t[1]=c):c=t[1];var d;t[2]!==l?(d=u.jsx("div",{style:i,children:u.jsx(r("MWXText.react"),{color:l,type:"body3",children:c})}),t[2]=l,t[3]=d):d=t[3];var m;t[4]!==n||t[5]!==d?(m=u.jsx(r("IGDSBox.react"),{children:u.jsx(r("IGDChatBubble.react"),{connectBottom:!1,connectTop:!1,outgoing:n,precedesXMA:!1,children:d})}),t[4]=n,t[5]=d,t[6]=m):m=t[6];var p;return t[7]!==a||t[8]!==m?(p=u.jsx(r("IGDSBox.react"),{alignItems:a,margin:1,children:m}),t[7]=a,t[8]=m,t[9]=p):p=t[9],p}l.default=c}),226);
__d("IGDMessageListConstantsOffMsys",[],(function(t,n,r,o,a,i){"use strict";var e=20,l=157,s=384,u=192,c=340,d=.6,m=c*d,p=236,_=300,f=200,g=158,h=96;i.IGD_MESSAGE_LIST_PAGE_SIZE=e,i.DEFAULT_STICKER_SIZE=l,i.IGD_MEDIA_GRID_FULL_WIDTH=s,i.IGD_MEDIA_GRID_HALF_WIDTH=u,i.IGD_MEDIA_DEFAULT_MAX_HEIGHT=c,i.IGD_REPLIED_MEDIA_SCALE_FACTOR=d,i.IGD_MEDIA_DEFAULT_MAX_REPLY_HEIGHT=m,i.IGD_MEDIA_DEFAULT_MAX_WIDTH=p,i.IGD_MEDIA_STANDARD_XMA_MAX_WIDTH=_,i.IGD_MEDIA_XMA_PORTRAIT_PREVIEW_WIDTH=f,i.IGD_MEDIA_STORY_INTERACTION_XMA_WIDTH=g,i.IGD_ROW_ACTIONS_WIDTH=h}),66);
__d("IGDMessageListVideoPlayButton.react",["BaseImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("span",{className:"x91lo7 x1lliihq xqvfhly x2hswfz x1oxljau x1ok221b x47corl x10l6tqk xyd03xr xzuapc8 x1vjfegm",children:s.jsx(r("BaseImage.react"),{height:45,src:"/images/mercury/clients/igd/playButton.png?__d=www",width:45})}),e[0]=t):t=e[0],t}l.default=u}),98);
__d("IGDMsysMusicStickerConstants",[],(function(t,n,r,o,a,i){"use strict";var e=.82,l=245,s=160,u=156,c=16,d=85,m=42,p="LICENSED_MUSIC_";i.MUSIC_STICKER_SMALL_SCREEN_SIZE_RATIO=e,i.MUSIC_STICKER_WIDTH=l,i.MUSIC_ALBUM_SIZE=s,i.VINYL_SIZE=u,i.PLAY_PAUSE_BUTTON_SIZE=c,i.VINYL_ALBUM_SIZE=d,i.PNG_PADDING_OFFSET=m,i.TRACKING_TOKEN_PREFIX=p}),66);
__d("IGDMsysMusicStickerPlayPauseButton.react",["fbt","IGDMsysMusicStickerConstants","IGDSBox.react","IGDSPlayPanoFilledIcon.react","IGDSWebPauseFilledIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={iconShadow:{filter:"x1eimgdo",$$css:!0},topOverlay:{background:"xvgn5wp",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(2),n=e.isPlaying,a;return t[0]!==n?(a=u.jsx(r("IGDSBox.react"),{height:40,position:"absolute",width:o("IGDMsysMusicStickerConstants").MUSIC_ALBUM_SIZE,xstyle:c.topOverlay,children:u.jsx(r("IGDSBox.react"),{margin:3,children:u.jsx(r("IGDSBox.react"),{xstyle:c.iconShadow,children:n?u.jsx(r("IGDSWebPauseFilledIcon.react"),{alt:s._(/*BTDS*/"Pause button"),color:"web-always-white",size:o("IGDMsysMusicStickerConstants").PLAY_PAUSE_BUTTON_SIZE}):u.jsx(r("IGDSPlayPanoFilledIcon.react"),{alt:s._(/*BTDS*/"Play button"),color:"web-always-white",size:o("IGDMsysMusicStickerConstants").PLAY_PAUSE_BUTTON_SIZE})})})}),t[0]=n,t[1]=a):a=t[1],a}l.default=d}),226);
__d("IGDMsysMusicStickerText.react",["fbt","CometPressable.react","IGDMsysMusicStickerConstants","IGDSBox.react","IGDSTextVariants.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","PolarisUA","react","react-compiler-runtime","useIGDSToaster","useIsChatTabsDisplay","usePolarisShowToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={overlay:{background:"x1ooqjeo",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(24),n=e.attributionLink,a=e.isPreview,i=e.subtitle,l=e.title,d=a===void 0?!1:a,m=r("usePolarisShowToast")(),p=r("useIGDSToaster")(),_;t[0]!==n?(_=n!=null?{url:n}:void 0,t[0]=n,t[1]=_):_=t[1];var f=_,g;t[2]!==i?(g=s._(/*BTDS*/"Profile page of {name}",[s._param("name",i)]),t[2]=i,t[3]=g):g=t[3];var h=g,y=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),C=r("MessengerWebUXLogger").useInteractionLogger(),b;t[4]!==f||t[5]!==y||t[6]!==C||t[7]!==m||t[8]!==p?(b=function(){if(f==null){var e=s._(/*BTDS*/"No profile has been linked to this artist.");o("PolarisUA").isMobile()?p.add({message:e}):m({text:e})}C==null||C({eventName:"music_sticker_attribution_link_click",flowInstanceId:y})},t[4]=f,t[5]=y,t[6]=C,t[7]=m,t[8]=p,t[9]=b):b=t[9];var v=b,S;t[10]!==i?(S=u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"webAlwaysWhite",maxLines:1,zeroMargin:!1,children:i}),t[10]=i,t[11]=S):S=t[11];var R=S,L=r("useIsChatTabsDisplay")(),E=L||o("PolarisUA").isMobile()?o("IGDMsysMusicStickerConstants").MUSIC_STICKER_SMALL_SCREEN_SIZE_RATIO:1,k=o("IGDMsysMusicStickerConstants").MUSIC_ALBUM_SIZE*E,I;t[12]!==l?(I=u.jsx(r("IGDSBox.react"),{marginBottom:2,children:u.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"webAlwaysWhite",maxLines:1,zeroMargin:!1,children:l})}),t[12]=l,t[13]=I):I=t[13];var T;t[14]!==h||t[15]!==f||t[16]!==v||t[17]!==d||t[18]!==R?(T=u.jsx(r("IGDSBox.react"),{marginBottom:1,children:d?R:u.jsx(r("CometPressable.react"),{"aria-label":h,linkProps:f,onPress:v,overlayDisabled:!0,children:R})}),t[14]=h,t[15]=f,t[16]=v,t[17]=d,t[18]=R,t[19]=T):T=t[19];var D;return t[20]!==k||t[21]!==I||t[22]!==T?(D=u.jsxs(r("IGDSBox.react"),{bottom:!0,padding:3,position:"absolute",width:k,xstyle:c.overlay,children:[I,T]}),t[20]=k,t[21]=I,t[22]=T,t[23]=D):D=t[23],D}l.default=d}),226);
__d("IGDMsysMusicStickerVinyl.react",["CometImage.react","IGDMsysMusicStickerConstants","IGDSBox.react","PolarisUA","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={centerPreviewImage:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",position:"x10l6tqk",$$css:!0},vinylContainerOffsetInbox:{marginInlineStart:"x15myx19",$$css:!0},vinylContainerOffsetSmallScreen:{marginInlineStart:"x7r4r73",$$css:!0},vinylRotation:{animationDuration:"x18ebdri",animationIterationCount:"xa4qsjk",animationName:"x1ka1v4i",animationPlayState:"xorstpt",animationTimingFunction:"x1esw782",$$css:!0},vinylRotationPlaying:{animationPlayState:"xoj058f",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(15),n=e.isPlaying,a=e.previewUrl,i=r("useIsChatTabsDisplay")(),l=i||o("PolarisUA").isMobile(),c=i||o("PolarisUA").isMobile()?o("IGDMsysMusicStickerConstants").MUSIC_STICKER_SMALL_SCREEN_SIZE_RATIO:1,d=o("IGDMsysMusicStickerConstants").VINYL_SIZE*c,m=o("IGDMsysMusicStickerConstants").VINYL_ALBUM_SIZE*c,p=(o("IGDMsysMusicStickerConstants").VINYL_SIZE+o("IGDMsysMusicStickerConstants").PNG_PADDING_OFFSET)*c,_=l?u.vinylContainerOffsetSmallScreen:u.vinylContainerOffsetInbox,f=n&&u.vinylRotationPlaying,g;t[0]!==f?(g=[u.vinylRotation,f],t[0]=f,t[1]=g):g=t[1];var h;t[2]!==a||t[3]!==m?(h=a?s.jsx(r("CometImage.react"),{src:a,width:m,xstyle:u.centerPreviewImage}):s.jsx(r("IGDSBox.react"),{color:"highlightBackground",height:m,width:m,xstyle:u.centerPreviewImage}),t[2]=a,t[3]=m,t[4]=h):h=t[4];var y;t[5]!==p?(y=s.jsx(r("CometImage.react"),{height:p,src:"/images/instagram/music/music_sticker_vinyl.png",width:p}),t[5]=p,t[6]=y):y=t[6];var C;t[7]!==d||t[8]!==g||t[9]!==h||t[10]!==y?(C=s.jsxs(r("IGDSBox.react"),{alignItems:"center",height:d,justifyContent:"center",width:d,xstyle:g,children:[h,y]}),t[7]=d,t[8]=g,t[9]=h,t[10]=y,t[11]=C):C=t[11];var b;return t[12]!==_||t[13]!==C?(b=s.jsx(r("IGDSBox.react"),{overflow:"hidden",xstyle:_,children:C}),t[12]=_,t[13]=C,t[14]=b):b=t[14],b}l.default=c}),98);
__d("IGDMusicAttributionUtils",[],(function(t,n,r,o,a,i){"use strict";var e="https://www.instagram.com/_u";function l(t){return t==null?null:t.startsWith(e)?t.slice(e.length):null}i.getAttributionInternalLink=l}),66);
__d("IGDMusicStickerAudioStateManager.react",["react","react-compiler-runtime","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.use,m=u.useEffect,p=c.createContext();function _(){return r("useStable")(f)}function f(){var e=new Set;return{pauseOtherMusicStickers:function(n){e.forEach(function(e){if(e.messageId!==n){var t=e.controller.getCurrentState();t.paused||e.controller.pause("audio_manager_initiated")}})},registerMusicSticker:function(n,r){var t={controller:r,messageId:n};return e.add(t),function(){e.delete(t)}}}}function g(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=_(),a;return t[0]!==n||t[1]!==r?(a=c.jsx(p.Provider,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function h(){return d(p)}function y(e,t){var n=o("react-compiler-runtime").c(5),r=h(),a,i;n[0]!==t||n[1]!==e||n[2]!==r?(a=function(){if(!(e==null||t==null||r==null)){var n=r.registerMusicSticker(e,t);return(function(){n()})}},i=[e,t,r],n[0]=t,n[1]=e,n[2]=r,n[3]=a,n[4]=i):(a=n[3],i=n[4]),m(a,i)}l.IGDMusicStickerAudioStateContext=p,l.useIGDMusicStickerAudioStateManagerDefinition=_,l.IGDMusicStickerAudioStateManagerProvider=g,l.useIGDMusicStickerAudioStateManager=h,l.useIGDMusicStickerRegisterInAudioStateManager=y}),98);
__d("IGDSFillOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M9 14H2a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1Zm12.999-6H16V2a1 1 0 0 0-2 0v7a1 1 0 0 0 1 1h6.999a1 1 0 0 0 0-2Z"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("IGDNavigateBackToChatTabsButton.react",["fbt","IGDNavigation","IGDSFillOutline24Icon.react","IGDSIconButton.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime","useRoutePassthroughProps"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useCallback;function m(e){var t=o("react-compiler-runtime").c(16),n=e["data-testid"],a=e.source,i=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),l=r("MessengerWebUXLogger").useInteractionLogger(),u;t[0]!==a?(u={source:a},t[0]=a,t[1]=u):u=t[1];var d;t[2]!==i||t[3]!==u?(d={eventName:"igd_navigate_back_to_chat_tabs",extraData:u,flowInstanceId:i},t[2]=i,t[3]=u,t[4]=d):d=t[4];var m=r("MessengerWebUXLogger").useImpressionLoggerRef(d),p=r("useRoutePassthroughProps")(),_=o("IGDNavigation").useIGDNavigation(),f=p==null?void 0:p.entryPointUrl,g;t[5]!==f||t[6]!==i||t[7]!==l||t[8]!==_||t[9]!==a?(g=function(){l==null||l({eventName:"igd_navigate_back_to_chat_tabs_clicked",extraData:{source:a},flowInstanceId:i}),f!=null&&_.goToPageWithUrl(String(f))},t[5]=f,t[6]=i,t[7]=l,t[8]=_,t[9]=a,t[10]=g):g=t[10];var h=g,y;t[11]===Symbol.for("react.memo_cache_sentinel")?(y=c.jsx(r("IGDSFillOutline24Icon.react"),{alt:s._(/*BTDS*/"Go back"),color:"ig-primary-text"}),t[11]=y):y=t[11];var C;return t[12]!==m||t[13]!==h||t[14]!==n?(C=c.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:m,onClick:h,children:y}),t[12]=m,t[13]=h,t[14]=n,t[15]=C):C=t[15],C}l.default=m}),226);
__d("IGDNullStateGenAILearnMoreButton.react",["fbt","IGDSText.react","JSResourceForInteraction","PolarisFastLink.react","react","react-compiler-runtime","useIGDSLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={learnMore:{marginInlineStart:"xdwrcjd",$$css:!0}};function d(){var e=o("react-compiler-runtime").c(6),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("IGDThreadGenAIEducationalModal.react").__setRef("IGDNullStateGenAILearnMoreButton.react"),e[0]=t):t=e[0];var n=r("useIGDSLazyDialog")(t),a=n[0],i;e[1]!==a?(i=function(){return a({})},e[1]=a,e[2]=i):i=e[2];var l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx(r("IGDSText.react"),{color:"link",zeroMargin:!1,children:s._(/*BTDS*/"Learn more")}),e[3]=l):l=e[3];var d;return e[4]!==i?(d=u.jsx(r("PolarisFastLink.react"),{onClick:i,xstyle:c.learnMore,children:l}),e[4]=i,e[5]=d):d=e[5],d}l.default=d}),226);
__d("MWXAspectRatioContainer.react",["react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={position:"x1n2onr6",width:"xh8yej3",$$css:!0},c={child:{height:"x5yr21d",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},childInner:{maxHeight:"xmz0i5r",maxWidth:"x193iq5w",$$css:!0},flex:{display:"x78zum5",maxWidth:"x193iq5w",$$css:!0},inner:function(t){return[u,{paddingBottom:t!=null?"xjqpyvm":t,$$css:!0},{"--x-paddingBottom":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},outer:function(t,n,r){return[{maxHeight:r!=null?"x1jols5v":r,maxWidth:n!=null?"xf68679":n,width:t!=null?"x5lhr3w":t,$$css:!0},{"--x-maxHeight":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(r),"--x-maxWidth":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(n),"--x-width":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]}};function d(e){var t=e.children,n=e.height,r=e.maxHeight,a=e.maxWidth,i=e.width,l=i/n,u=a!=null&&r!=null?"min("+a+"px, "+r*l+"px)":r!=null?r*l+"px":a;return s.jsx(o("react-strict-dom").html.div,{style:[c.flex],children:s.jsx(o("react-strict-dom").html.div,{style:[c.outer(i,u!=null?u:"initial",r!=null?r:"initial")],children:s.jsx(o("react-strict-dom").html.div,{style:[c.inner(100/l+"%")],children:s.jsx(o("react-strict-dom").html.div,{style:[c.child],children:t==null?void 0:t(c.childInner)})})})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXMessageBubbleCornerStyles.react",[],(function(t,n,r,o,a,i,l){"use strict";var e={flatBottom:{borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",$$css:!0},flatTop:{borderStartEndRadius:"x1ga7v0g",borderStartStartRadius:"x15mokao",$$css:!0},rounded:{borderStartStartRadius:"xaymx6s",borderStartEndRadius:"x1lu5o8o",borderEndEndRadius:"x1ou5ly4",borderEndStartRadius:"xofb2d2",$$css:!0}},s={connectBottom:{borderEndStartRadius:"x1pczhz8",$$css:!0},connectTop:{borderStartStartRadius:"xjwep3j",$$css:!0}},u={connectBottom:{borderEndEndRadius:"x1wcsgtt",$$css:!0},connectTop:{borderStartEndRadius:"x1t39747",$$css:!0}};function c(t){var n,r,o,a,i,l=(n=t==null?void 0:t.align)!=null?n:"left",c=(r=t==null?void 0:t.connectBottom)!=null?r:!1,d=(o=t==null?void 0:t.connectTop)!=null?o:!1,m=(a=t==null?void 0:t.flatten)!=null?a:"none",p=(i=t==null?void 0:t.corners)!=null?i:"round",_=l==="right"?u:s;return[p==="round"&&e.rounded,d&&_.connectTop,c&&_.connectBottom,(m==="all"||m==="bottom")&&e.flatBottom,(m==="all"||m==="top")&&e.flatTop]}l.getMWXBubbleCornerStyles=c}),98);
__d("MWV2AttachmentLoadingPlaceholder.react",["InteractionTracingMetrics","MWXAspectRatioContainer.react","MWXGlimmer.react","MWXMessageBubbleCornerStyles.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect,c={glimmer:{display:"x1lliihq",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function d(e){var t=e.connectBottom,n=e.connectTop,a=e.descriptionForLogging,i=e.hasAppAttribution,l=e.hasCornerStyles,d=l===void 0?!0:l,m=e.height,p=e.maxHeight,_=p===void 0?200:p,f=e.maxWidth,g=f===void 0?480:f,h=e.mediaRenderQpl,y=e.outgoing,C=e.width,b=e.xstyle;if(u(function(){var e={string:{call_site:a}};return C!=null&&m!=null?h==null||h.addPoint("render-loading-placeholder",e):h==null||h.addPoint("render-loading-placeholder-null-dimensions",e),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-attachment-loading-placeholder","AppTiming",void 0,{call_site:a})}),function(){h==null||h.addPoint("unmount-loading-placeholder",e),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"unmount-attachment-loading-placeholder","AppTiming",void 0,{call_site:a})})}},[m,h,C,a]),C==null||m==null)return null;var v=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:y===!0?"right":"left",connectBottom:t,connectTop:n,flatten:i===!0?"bottom":"none"});return s.jsx("div",{"data-testid":void 0,children:s.jsx(r("MWXAspectRatioContainer.react"),{height:m,maxHeight:_,maxWidth:g,width:C,children:function(t){return s.jsx(r("MWXGlimmer.react"),{index:1,xstyle:[t,c.glimmer,d===!0&&v,b]})}})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXMessageImage.react",["BaseImage.react","FDSBlurredBackgroundImage.react","MWXAspectRatioContainer.react","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","height","maxHeight","maxWidth","renderImagePlaceholder","shouldBlur","width","xstyle"],s,u,c=u||(u=o("react")),d={container:function(t){return[{maxWidth:t!=null?"xf68679":t,$$css:!0},{"--x-maxWidth":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},image:{display:"x1lliihq",maxWidth:"x193iq5w",$$css:!0}};function m(t){var n,o=t.children,a=t.height,i=t.maxHeight,l=t.maxWidth,u=t.renderImagePlaceholder,m=t.shouldBlur,p=t.width,_=t.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(t,e),g=p==null||a==null?c.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(d.container(l)),{children:(n=u==null?void 0:u())!=null?n:c.jsx(r("BaseImage.react"),babelHelpers.extends({},f,{objectFit:"contain",style:{maxHeight:i+"px"},xstyle:d.image}))})):c.jsx(r("MWXAspectRatioContainer.react"),{height:a,maxHeight:i,maxWidth:l,width:p,children:function(t){var e;return(e=u==null?void 0:u())!=null?e:m!==!0?c.jsx(r("BaseImage.react"),babelHelpers.extends({height:a,width:p,xstyle:t},f)):c.jsx(r("FDSBlurredBackgroundImage.react"),babelHelpers.extends({xstyle:t},f))}});return c.jsxs("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(_),{children:[g,o]}))}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("appendParamToUrl",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=new URL(e);return r.searchParams.set(t,n),r.toString()}i.default=e}),66);
__d("useFetchAnimatedImageThumbnail",["FBLogger","MAWImageUtils","appendParamToUrl","asyncToGeneratorRuntime","justknobx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useState;function m(e,t,a,i,l){var s=o("react-compiler-runtime").c(15),u=d(null),m=u[0],p=u[1],_;s[0]!==l?(_=function(){l==null||l.endSuccessAfterDelay({bool:{thumbnail_generated_for_gif:!0}})},s[0]=l,s[1]=_):_=s[1];var f=_,g;s[2]!==l?(g=function(){l==null||l.endFailAfterDelay("gif-thumbnail-render-failed")},s[2]=l,s[3]=g):g=s[3];var h=g,y,C;s[4]!==t||s[5]!==a||s[6]!==l||s[7]!==e||s[8]!==i?(y=function(){var s=null,u=(function(){var u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){l==null||l.addPoint("gif-thumbnail-generation-started");var n;if(t==null&&e!=null?n=e:n=t==null?void 0:t.previewUrl,n==null)return null;r("justknobx")._("4526")&&(n=r("appendParamToUrl")(n,"not-from-cache-please",""));var u=yield o("MAWImageUtils").generateGIFThumbnail(n,a,i);if(l==null||l.addPoint("gif-thumbnail-generation-completed"),u!=null){l==null||l.addPoint("gif-thumbnail-generation-completed-successfully");var c=new Blob([u.jpegThumbnail]);s=URL.createObjectURL(c),p(s)}});function c(){return u.apply(this,arguments)}return c})();return u().catch(function(){l==null||l.endFailAfterDelay("gif-thumbnail-generation-failed"),r("FBLogger")("gif picker").mustfix("GIF thumbnail generation failed"),p(null)}),(function(){s!=null&&URL.revokeObjectURL(s)})},C=[t,a,l,e,i],s[4]=t,s[5]=a,s[6]=l,s[7]=e,s[8]=i,s[9]=y,s[10]=C):(y=s[9],C=s[10]),c(y,C);var b;return s[11]!==m||s[12]!==h||s[13]!==f?(b={gifThumbnail:m,onError:h,onLoad:f},s[11]=m,s[12]=h,s[13]=f,s[14]=b):b=s[14],b}l.default=m}),98);
__d("IGDPausableStickerThumbnailWithPlayButton.react",["fbt","CometPressable.react","MWV2AttachmentLoadingPlaceholder.react","MWVideoPlayerPlayButton.react","MWXMessageImage.react","react","react-compiler-runtime","useFetchAnimatedImageThumbnail"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(22),n=e.onPlay,a=e.alt,i=e.height,l=e.maxHeight,c=e.maxWidth,d=e.mediaRenderQpl,m=e.renderImagePlaceholder,p=e.src,_=e.width,f=r("useFetchAnimatedImageThumbnail")(p,null,i!=null?i:200,_!=null?_:200,d),g=f.gifThumbnail,h=f.onError,y=f.onLoad,C;t[0]!==a?(C=s._(/*BTDS*/"Tap to play GIF {gif_alt_text}",[s._param("gif_alt_text",a)]),t[0]=a,t[1]=C):C=t[1];var b=C;if(g==null){var v;return t[2]!==i||t[3]!==_?(v=u.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"IGDPausableStickerThumbnailWithPlayButton.NoGIFThumbnail",height:i,width:_}),t[2]=i,t[3]=_,t[4]=v):v=t[4],v}var S;t[5]!==b||t[6]!==n?(S=u.jsx(r("MWVideoPlayerPlayButton.react"),{alt:b,isVisible:!0,onClick:n,size:"LARGE"}),t[5]=b,t[6]=n,t[7]=S):S=t[7];var R;t[8]!==a||t[9]!==g||t[10]!==i||t[11]!==l||t[12]!==c||t[13]!==h||t[14]!==y||t[15]!==m||t[16]!==S||t[17]!==_?(R=u.jsx(r("MWXMessageImage.react"),{alt:a,height:i,maxHeight:l,maxWidth:c,onError:h,onLoad:y,renderImagePlaceholder:m,src:g,width:_,children:S}),t[8]=a,t[9]=g,t[10]=i,t[11]=l,t[12]=c,t[13]=h,t[14]=y,t[15]=m,t[16]=S,t[17]=_,t[18]=R):R=t[18];var L;return t[19]!==n||t[20]!==R?(L=u.jsx(r("CometPressable.react"),{onPress:n,overlayDisabled:!0,suppressFocusRing:!0,testid:void 0,children:R}),t[19]=n,t[20]=R,t[21]=L):L=t[21],L}l.default=c}),226);
__d("IGDPausableSticker.react",["CometPressable.react","IGDPausableStickerThumbnailWithPlayButton.react","MWXMessageImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["height","maxHeight","maxWidth","mediaRenderQpl","renderImagePlaceholder","width"],s,u=s||(s=o("react")),c=s.useState;function d(t){var n=o("react-compiler-runtime").c(29),a,i,l,s,d,m,p;n[0]!==t?(a=t.height,l=t.maxHeight,s=t.maxWidth,d=t.mediaRenderQpl,m=t.renderImagePlaceholder,p=t.width,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=d,n[6]=m,n[7]=p):(a=n[1],i=n[2],l=n[3],s=n[4],d=n[5],m=n[6],p=n[7]);var _=i,f=_.alt,g=_.src,h=c(!0),y=h[0],C=h[1];if(y){var b;n[8]===Symbol.for("react.memo_cache_sentinel")?(b=function(){return C(!1)},n[8]=b):b=n[8];var v;return n[9]!==f||n[10]!==a||n[11]!==l||n[12]!==s||n[13]!==d||n[14]!==m||n[15]!==g||n[16]!==p?(v=u.jsx(r("IGDPausableStickerThumbnailWithPlayButton.react"),{alt:f,height:a,maxHeight:l,maxWidth:s,mediaRenderQpl:d,onPlay:b,renderImagePlaceholder:m,src:g,width:p}),n[9]=f,n[10]=a,n[11]=l,n[12]=s,n[13]=d,n[14]=m,n[15]=g,n[16]=p,n[17]=v):v=n[17],v}var S;n[18]===Symbol.for("react.memo_cache_sentinel")?(S=function(){return C(!0)},n[18]=S):S=n[18];var R;return n[19]!==f||n[20]!==a||n[21]!==i.onError||n[22]!==i.onLoad||n[23]!==l||n[24]!==s||n[25]!==m||n[26]!==g||n[27]!==p?(R=u.jsx(r("CometPressable.react"),{onPress:S,overlayDisabled:!0,suppressFocusRing:!0,testid:void 0,children:u.jsx(r("MWXMessageImage.react"),{alt:f,height:a,maxHeight:l,maxWidth:s,onError:i.onError,onLoad:i.onLoad,renderImagePlaceholder:m,src:g,width:p})}),n[19]=f,n[20]=a,n[21]=i.onError,n[22]=i.onLoad,n[23]=l,n[24]=s,n[25]=m,n[26]=g,n[27]=p,n[28]=R):R=n[28],R}l.default=d}),98);
__d("IGDPlaceholderMessageBubble.react",["IGDMessageBubbleSelector.react","IGDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(14),n=e.connectBottom,a=e.connectTop,i=e.outgoing,l=e.subtitle,u=e.title,c=i?"right":"left",d,m;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"xw5ewwj x1y1aw1k xf159sx xwib8y2 xmzvs34"},m={className:"x1e56ztr"},t[0]=d,t[1]=m):(d=t[0],m=t[1]);var p;t[2]!==u?(p=s.jsx("div",babelHelpers.extends({},m,{children:s.jsx(r("IGDSText.react"),{zeroMargin:!1,children:u})})),t[2]=u,t[3]=p):p=t[3];var _;t[4]!==l?(_=s.jsx(r("IGDSText.react"),{color:"secondaryText",zeroMargin:!1,children:l}),t[4]=l,t[5]=_):_=t[5];var f;t[6]!==p||t[7]!==_?(f=s.jsxs("div",babelHelpers.extends({},d,{children:[p,_]})),t[6]=p,t[7]=_,t[8]=f):f=t[8];var g;return t[9]!==n||t[10]!==a||t[11]!==c||t[12]!==f?(g=s.jsx(r("IGDMessageBubbleSelector.react"),{align:c,color:"incoming",connectBottom:n,connectTop:a,children:f}),t[9]=n,t[10]=a,t[11]=c,t[12]=f,t[13]=g):g=t[13],g}l.default=u}),98);
__d("IGDPlaceholderMessage.react",["fbt","IGDPlaceholderMessageBubble.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=o("react-compiler-runtime").c(10),n=e.connectBottom,a=e.connectTop,i=e.mediaRenderQpl,l=e.outgoing,d=e.unsupportedType,m,p;t[0]!==i||t[1]!==d?(m=function(){i==null||i.addAnnotations({string:{unsupported_type:d!=null?d:"unknown"}}),i==null||i.endSuccessAfterDelay()},p=[i,d],t[0]=i,t[1]=d,t[2]=m,t[3]=p):(m=t[2],p=t[3]),c(m,p);var _,f;t[4]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"Use the Instagram mobile app to view this message."),f=s._(/*BTDS*/"Unsupported message"),t[4]=_,t[5]=f):(_=t[4],f=t[5]);var g;return t[6]!==n||t[7]!==a||t[8]!==l?(g=u.jsx(r("IGDPlaceholderMessageBubble.react"),{connectBottom:n,connectTop:a,outgoing:l,subtitle:_,title:f}),t[6]=n,t[7]=a,t[8]=l,t[9]=g):g=t[9],g}l.default=d}),226);
__d("IGDSReelsFilledIcon.react",["IGDSReelsPanoFilledIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=s.jsx(r("IGDSReelsPanoFilledIcon.react"),babelHelpers.extends({},e)),t[0]=e,t[1]=n):n=t[1],n}var c=s.memo(u);l.default=c}),98);
__d("IGDSViewOncePanoFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("polygon",{fill:"currentColor",points:"13.25 17 13.25 7 10.91895 7 8.19922 8.95996 8.19922 11.41406 10.75 9.7168 10.75 17 13.25 17"}),a=s.jsx("path",{d:"M2.97 12.137a1.5 1.5 0 0 0-1.5-1.482h-.02a1.5 1.5 0 0 0-1.48 1.519 11.96 11.96 0 0 0 .914 4.45 1.5 1.5 0 0 0 2.771-1.15 8.955 8.955 0 0 1-.685-3.337Zm8.02-9.064a9.066 9.066 0 0 1 3.4.279 1.5 1.5 0 0 0 .803-2.89A12.081 12.081 0 0 0 10.665.09a1.5 1.5 0 0 0-1.33 1.653 1.492 1.492 0 0 0 1.654 1.33Zm7.836 3.115a11.434 11.434 0 0 1 1.375 2.252 1.499 1.499 0 1 0 2.73-1.242 14.533 14.533 0 0 0-1.769-2.891c-.249-.297-.51-.58-.78-.845A1.5 1.5 0 0 0 18.278 5.6c.202.199.399.41.548.587ZM6.188 5.122c.194-.163.394-.317.598-.46A1.5 1.5 0 0 0 5.06 2.207a11.964 11.964 0 0 0-3.67 4.144A1.498 1.498 0 0 0 2.708 8.56c.534 0 1.052-.287 1.322-.791a8.987 8.987 0 0 1 2.157-2.648ZM9.4 20.682c-1.056-.335-2.069-.886-3.008-1.64a1.5 1.5 0 1 0-1.877 2.34c1.23.986 2.569 1.713 3.98 2.159a1.5 1.5 0 0 0 .904-2.86Zm13.213-9.196c-.811-.089-1.554.53-1.63 1.356A8.502 8.502 0 0 1 20 16.075a1.499 1.499 0 1 0 2.646 1.412 11.48 11.48 0 0 0 1.322-4.37 1.499 1.499 0 0 0-1.356-1.63Zm-5.649 7.96a9.284 9.284 0 0 1-3.129 1.394 1.5 1.5 0 1 0 .686 2.92 12.256 12.256 0 0 0 4.14-1.84 1.5 1.5 0 0 0-1.697-2.474Z",fill:"currentColor"}),t[0]=n,t[1]=a):(n=t[0],a=t[1]);var i;return t[2]!==e?(i=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a]})),t[2]=e,t[3]=i):i=t[3],i}var c=s.memo(u);l.default=c}),98);
__d("IGDXMAAttachmentReactionItem.react",["IGDChatEmoji.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={overlayReaction:{bottom:"x1ey2m1c",position:"x10l6tqk",$$css:!0},overlayReactionIncoming:{insetInlineEnd:"xorogi4",textAlign:"xp4054r",$$css:!0},overlayReactionOutgoing:{insetInlineStart:"xji1vaz",textAlign:"x1yc453h",$$css:!0},reactionIncoming:{paddingInlineStart:"x1g0dm76",textAlign:"x1yc453h",$$css:!0},reactionOutgoing:{paddingInlineEnd:"xpdmqnj",textAlign:"xp4054r",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(8),a=t.isOverlay,i=t.outgoing,l=t.reaction;if(l==null)return null;var s;n[0]!==a||n[1]!==i?(s=(e||(e=r("stylex"))).props(a?[c.overlayReaction,i?c.overlayReactionOutgoing:c.overlayReactionIncoming]:[i?c.reactionOutgoing:c.reactionIncoming]),n[0]=a,n[1]=i,n[2]=s):s=n[2];var d;n[3]!==l?(d=u.jsx(r("IGDChatEmoji.react"),{text:l}),n[3]=l,n[4]=d):d=n[4];var m;return n[5]!==s||n[6]!==d?(m=u.jsx("div",babelHelpers.extends({},s,{children:d})),n[5]=s,n[6]=d,n[7]=m):m=n[7],m}l.default=d}),98);
__d("LSMessagePointQueryStoredProcedure",["LSMessagePointQuery","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSMessagePointQuery"),a.threadKey,a.messageId,a.threadType,a.numContextMessages);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MWAttachmentTypeChecks",["I64","LSIntEnum","MessagingAttachmentType"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return(e||(e=o("I64"))).equal(t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA))?t.defaultCtaType==="xma_web_url":!1}function c(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))}function d(t){var n=(e||(e=o("I64"))).equal(t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE));return n||c(t.attachmentType)&&t.gifPlayback===!0}function m(t){return(e||(e=o("I64"))).equal(t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))}function p(e){return c(e.attachmentType)&&e.gifPlayback!==!0}function _(t){return(e||(e=o("I64"))).equal(t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER))}function f(t){return(e||(e=o("I64"))).equal(t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO))}l.isLink=u,l.isGif=d,l.isImage=m,l.isVideo=p,l.isSticker=_,l.isAudio=f}),98);
__d("MWChatTypingIndicator.react",["MessengerWebUXLogger","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u="x1h06q2e-B",c="x1yitzd3-B",d={dot:{alignItems:"x6s0dn4",animationDuration:"xmg6eyc",animationIterationCount:"xa4qsjk",animationName:"xwnhzmj",animationTimingFunction:"x4hg4is",backgroundColor:"x1iuwi03",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",display:"x78zum5",height:"xqu0tyb",marginInlineStart:"xm2jcoa",marginInlineEnd:"x1mpyi22",marginLeft:null,marginRight:null,width:"x51ohtg",$$css:!0},dot1:{animationDelay:"x1t83zlg",$$css:!0},dot1Opacity:{animationDelay:"x1uzojwf",$$css:!0},dot2:{animationDelay:"x1x1c4bx",$$css:!0},dot2Opacity:{animationDelay:"xfjzax6",$$css:!0},dot3:{animationDelay:"x1xwhvez",$$css:!0},dot3Opacity:{animationDelay:"x1la68h3",$$css:!0},dotOpacity:{animationDuration:"xmg6eyc",animationIterationCount:"xa4qsjk",animationName:"x1bcwpiy",animationTimingFunction:"x4hg4is",opacity:"x1hc1fzr",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1ta3ar0",$$css:!0}};function m(e){var t,n=e.threadType,a=r("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"show_typing_indicators",threadType:n});return s.jsxs((t=o("react-strict-dom")).html.div,{ref:a,style:d.root,children:[s.jsx(t.html.div,{style:[d.dotOpacity,d.dot1Opacity],children:s.jsx(t.html.div,{style:[d.dot,d.dot1]})}),s.jsx(t.html.div,{style:[d.dotOpacity,d.dot2Opacity],children:s.jsx(t.html.div,{style:[d.dot,d.dot2]})}),s.jsx(t.html.div,{style:[d.dotOpacity,d.dot3Opacity],children:s.jsx(t.html.div,{style:[d.dot,d.dot3]})})]})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWEBEntrypointsKillswitch.enum",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({JEWEL_THREADLIST:"jewel_threadlist",IN_THREAD_GAP_UI:"in_thread_gap_ui",IN_THREAD_SCROLL_BANNER:"in_thread_scroll_banner",IN_THREAD_SEARCH:"in_thread_search",INBOX_INTERSTITIAL:"inbox_interstitial",INBOX_ROOT:"inbox_root",INBOX_THREADLIST:"inbox_threadlist",INBOX_THREADLIST_UNIVERSAL_SEARCH:"inbox_threadlist_universal_search",MEDIA_GALLERY_RESTORE:"media_gallery_restore",EB_SETTINGS:"eb_settings",AUTO_RESTORE:"auto_restore",DYI:"dyi",IGD_NO_KILLSWITCH_APPLICABLE:"igd_no_killswitch_applicable",NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE:"not_an_entrypoint_no_killswitch_applicable",IN_DEVELOPMENT_ADD_A_TODO_COMMENT_WITH_A_TASK_ABOVE_THIS_TO_ADD_A_KILLSWITCH:"in_development_add_a_todo_comment_with_a_task_above_this_to_add_a_killswitch",PINNED_MESSAGES:"pinned_messages",BUMP_MESSAGES:"bump_messages",SIDEBAR_SETTINGS_PRIVACY_MENU:"sidebar_settings_privacy_menu",JEWEL_EVERGREEN_PIN_UPSELL:"jewel_evergreen_pin_upsell"}),l=e;i.default=l}),66);
__d("MWMessageTableFocusTable.react",["fbt","CometKeys","FocusTable.react","emptyFunction"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c="messages_table",d=function(t,n,r){return r.getAttribute("data-scope")===c},m=o("FocusTable.react").createFocusTable(d),p={key:(e=r("CometKeys")).UP},_={key:e.DOWN},f={key:e.LEFT},g={key:e.RIGHT},h=[{command:p,description:s._(/*BTDS*/"Previous item"),handler:u=r("emptyFunction")},{command:_,description:s._(/*BTDS*/"Next item"),handler:u},{command:f,description:s._(/*BTDS*/"Next item"),handler:u},{command:g,description:s._(/*BTDS*/"Previous item"),handler:u}];l.scopeID=c,l.scopeQuery=d,l.FocusTable=m,l.commandConfigs=h}),226);
__d("MWMessageCellFocusTable.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.react","MWMessageTableFocusTable.react","focusScopeQueries","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=o("FocusTable.react").createFocusTable(o("focusScopeQueries").tabbableScopeQuery),d={key:r("CometKeys").ESCAPE},m={key:r("CometKeys").ENTER},p={key:r("CometKeys").SPACE},_=s._(/*BTDS*/"Exit focus region"),f=s._(/*BTDS*/"Enter focus region");function g(e){var t=e.children,n=e.onEnter,a=e.onEscape,i=e.onSpace,l=[];return a!=null&&l.push({command:d,description:_,handler:a}),n!=null&&l.push({command:m,description:f,handler:n}),i!=null&&l.push({command:p,description:f,handler:i}),u.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:o("MWMessageTableFocusTable.react").commandConfigs.concat(l),xstyle:!1,children:t})}g.displayName=g.name+" [from "+i.id+"]";var h=g;l.FocusTable=c,l.keyCommands=h}),226);
__d("useAttachmentDataLS",["I64","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n,a=(s||(s=r("useReStore")))(),l=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(t.threadKey,t.messageId).map(function(e){var t=c(a,e);return{attachment:e,attachmentCTAs:t}})},[t,a],i.id+":41").toSorted(function(t,n){return(e||(e=o("I64"))).compare(t.attachment.attachmentIndex,n.attachment.attachmentIndex)}),u=(n=l[0])==null?void 0:n.attachment,d=o("ReQLSuspense").useArray(function(){return u==null?o("ReQL").empty():o("ReQL").fromTableAscending(a.tables.attachment_items).getKeyRange(u.attachmentFbid).map(function(e){var t=c(a,e);return{attachmentItem:e,attachmentItemCTAs:t}})},[u,a],i.id+":60").reduce(function(e,t){var n=t.attachmentItem,r=t.attachmentItemCTAs;return e[0].push(n),e[1].push(r),e},[[],[]]),m=d[0],p=d[1],_=[];l.map(function(e){_.push(e.attachment)});var f;if(m.length>0)f=p;else{var g,h=(g=l[0])==null?void 0:g.attachmentCTAs;f=h?[h]:[]}return{attachmentCTAs:f,attachmentItems:m,attachments:_}}function c(e,t){var n={},r=t.attachmentCta1Id,a=t.attachmentCta2Id,l=t.attachmentCta3Id,s=t.defaultCtaId;return n.defaultCta=s!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(s),i.id+":113"):void 0,n.attachmentCta1=r!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(r),i.id+":121"):void 0,n.attachmentCta2=a!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(a),i.id+":129"):void 0,n.attachmentCta3=l!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(l),i.id+":137"):void 0,n}l.useAttachmentDataLS=u}),98);
__d("fetchOpenMissingMessage",["FBLogger","I64","LSFactory","LSMessagePointQueryStoredProcedure","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,a){var l,s=(e||(e=o("I64"))).to_int32((l=n.syncGroup)!=null?l:(e||(e=o("I64"))).neg_one);if(s!==-1&&s===95){r("FBLogger")("messenger_web").mustfix("fetchMissingMessage: incorrect call to MPQ with secure mailbox");return}yield t.runInTransaction(function(e){return r("LSMessagePointQueryStoredProcedure")(r("LSFactory")(e),{messageId:a,threadKey:n.threadKey,threadType:n.threadType})},"readwrite",void 0,void 0,i.id+":38")}),u.apply(this,arguments)}l.default=s}),98);
__d("fetchSecureMissingMessage",["MAWBridgeSendAndReceive","MAWMiActOnActThreadReady","MAWMpsGating","MAWPutMessagesToDB","MpsMessageToLoadResponse","MpsOverBridge","MpsTypes","WAStanzaUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r,o){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r,a){var i=yield o("MAWMiActOnActThreadReady").waitForACTThreadReady(e.tables,t,a),l=i.chatJid;if(o("MAWMpsGating").isMpsMessageRendering()){var s=yield o("MpsOverBridge").mps().loadMessage({config:{strategy:"local-first"},debug:{purpose:"fetchSecureMissingMessageFullMps"},messageId:o("MpsTypes").toMessageId(n),threadId:o("MpsTypes").toThreadId(l)});if(s.value!=null){var c=babelHelpers.extends({},o("MpsMessageToLoadResponse").messageToLoadMsgsResponse([s.value]),{hasMoreAfter:!1,hasMoreBefore:!1});yield o("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(e,c)}return}var d=yield u({config:{admin:!0,editMsgHistory:!1,media:!0,polls:!0,reactions:!1,receiverFetch:!0,xma:!0},externalId:n});yield o("MAWPutMessagesToDB").insertMessageResponseIntoDatabaseByExternalId(e,d),!(d.msgs.length>0||!r)&&(yield o("MpsOverBridge").mps().copMps.loadMsgIntoMaw({config:{shouldFetchSupplementals:!0,shouldFetchTags:!1,strategy:"full-fetch"},debug:{purpose:"fetchSecureMissingMessageM3"},messageId:o("MpsTypes").toMessageId(n),threadId:o("MpsTypes").toThreadId(l)}))}),s.apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.config,n=e.externalId;return babelHelpers.extends({},yield o("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:t,externalId:o("WAStanzaUtils").toStanzaId(n)}))}),c.apply(this,arguments)}l.default=e}),98);
__d("useMWEBBackupStateQuery.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBBackupStateQuery",selections:[{kind:"RequiredField",field:e,action:"LOG",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBBackupStateQuery",selections:[e]},params:{cacheID:"780695c71d771c39c4d001bd676844c7",id:null,metadata:{},name:"useMWEBBackupStateQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("isMWEBEntrypointEnabled",["MWEBEntrypointsKillswitch.enum","justknobx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case r("MWEBEntrypointsKillswitch.enum").INBOX_INTERSTITIAL:return r("justknobx")._("2598");case r("MWEBEntrypointsKillswitch.enum").INBOX_ROOT:return r("justknobx")._("782");case r("MWEBEntrypointsKillswitch.enum").JEWEL_THREADLIST:return r("justknobx")._("2599");case r("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST:return r("justknobx")._("2600");case r("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI:return r("justknobx")._("2601");case r("MWEBEntrypointsKillswitch.enum").IN_THREAD_SCROLL_BANNER:return r("justknobx")._("2602");case r("MWEBEntrypointsKillswitch.enum").AUTO_RESTORE:return r("justknobx")._("2603");case r("MWEBEntrypointsKillswitch.enum").IN_THREAD_SEARCH:return r("justknobx")._("2604");case r("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST_UNIVERSAL_SEARCH:return r("justknobx")._("2768");case r("MWEBEntrypointsKillswitch.enum").MEDIA_GALLERY_RESTORE:return r("justknobx")._("2841");case r("MWEBEntrypointsKillswitch.enum").PINNED_MESSAGES:return r("justknobx")._("2937");case r("MWEBEntrypointsKillswitch.enum").BUMP_MESSAGES:return!0;case r("MWEBEntrypointsKillswitch.enum").SIDEBAR_SETTINGS_PRIVACY_MENU:return r("justknobx")._("4788");case r("MWEBEntrypointsKillswitch.enum").JEWEL_EVERGREEN_PIN_UPSELL:return r("justknobx")._("1878");case r("MWEBEntrypointsKillswitch.enum").DYI:case r("MWEBEntrypointsKillswitch.enum").EB_SETTINGS:case r("MWEBEntrypointsKillswitch.enum").IGD_NO_KILLSWITCH_APPLICABLE:case r("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE:case r("MWEBEntrypointsKillswitch.enum").IN_DEVELOPMENT_ADD_A_TODO_COMMENT_WITH_A_TASK_ABOVE_THIS_TO_ADD_A_KILLSWITCH:return!0}}l.default=e}),98);
__d("useMWEBBackupStateUtil",["isMWEBEntrypointEnabled"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return!r("isMWEBEntrypointEnabled")(e)||t?0:n!=null?n:1}l.default=e}),98);
__d("useMWEBBackupState",["CometRelay","useMWEBBackupStateQuery.graphql","useMWEBBackupStateUtil"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var a,i=t.entrypoint,l=o("CometRelay").useClientQuery(e!==void 0?e:e=n("useMWEBBackupStateQuery.graphql"),{});return r("useMWEBBackupStateUtil")(i,(l==null?void 0:l.viewer)==null,l==null||(a=l.viewer)==null?void 0:a.backup_state)}l.default=s}),98);
__d("useGetOriginalMsgFromBumpMsg",["FBLogger","LSMessagingThreadTypeUtil","MAWFetchExternalIdUsingCache","MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","fetchOpenMissingMessage","fetchSecureMissingMessage","isMWBumpMessage","promiseDone","useMWEBBackupState","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var l=r("isMWBumpMessage")(t),s=(e||(e=r("useReStore")))(),u=r("useMWEBBackupState")({entrypoint:r("MWEBEntrypointsKillswitch.enum").BUMP_MESSAGES}),c=o("ReQLSuspense").useFirst(function(){return a!=null?o("ReQL").fromTableAscending(s.tables.threads,["threadKey","threadType","syncGroup"]).getKeyRange(a):o("ReQL").empty()},[s,a],i.id+":40"),d=o("ReQLSuspense").useFirst(function(){return n!=null&&l?o("ReQL").fromTableDescending(s.tables.messages.index("messageId")).getKeyRange(n):o("ReQL").empty()},[s.tables.messages,n,l],i.id+":52");if(d==null&&c!=null&&n!=null&&l)if(o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType)){var m=u===3;r("promiseDone")(o("MAWFetchExternalIdUsingCache").fetchExternalIdUsingCache(n).then(function(e){e!=null?r("promiseDone")(r("fetchSecureMissingMessage")(s,c.threadKey,e,m,"MAWFetchBumpMessage")):r("FBLogger")("mw_bump_message").warn("[useGetOriginalMsgFromBumpMsg] failed fetch external id, invalid msgId %s",n)}))}else r("promiseDone")(r("fetchOpenMissingMessage")(s,c,n));return d}l.default=s}),98);
__d("useAttachmentData",["useAttachmentDataLS","useGetOriginalMsgFromBumpMsg"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=r("useGetOriginalMsgFromBumpMsg")(e.replyType,e.replySourceId,e.threadKey),a=n!=null?n:e,i=o("useAttachmentDataLS").useAttachmentDataLS(a),l=i.attachmentCTAs,s=i.attachmentItems,u=i.attachments;return{attachmentCTAs:l,attachmentItems:s,attachments:u}}l.useAttachmentData=e}),98);
__d("MWPAttachmentDataContext",["FBLogger","I64","ReQL","ReQLSuspense","react","useAttachmentData","useAttachmentDataLS","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.createContext,p=d.useContext,_=m({attachmentCTAs:[],attachmentItems:[],attachments:[]});function f(e){var t=e.children,n=e.isSecureMessage,r=e.message,a=o("useAttachmentData").useAttachmentData(r,n);return c.jsx(_.Provider,{value:a,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=e.attachmentData,n=e.children;return c.jsx(_.Provider,{value:t,children:n})}g.displayName=g.name+" [from "+i.id+"]";function h(e){var t=e.children,n=e.message,r=o("useAttachmentDataLS").useAttachmentDataLS(n);return c.jsx(_.Provider,{value:r,children:t})}h.displayName=h.name+" [from "+i.id+"]";function y(e){var t=p(_).attachments,n=C(e);return t.length===0&&n.length>0?(r("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachments from context, instead retrieved attachments directly from LSDB"),n):t}function C(t){var n=(e||(e=r("useReStore")))();return o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(t.threadKey,t.messageId)},[n,t.messageId,t.threadKey],i.id+":98").toSorted(function(e,t){return(s||(s=o("I64"))).compare(e.attachmentIndex,t.attachmentIndex)})}function b(e){var t,n,a,i=(s||(s=o("I64"))).to_int32(e.attachmentIndex),l=(t=p(_).attachmentCTAs[i])!=null?t:{},u=v(e),c=(l==null?void 0:l.defaultCta)==null&&(u==null?void 0:u.defaultCta)!=null||(l==null?void 0:l.attachmentCta1)==null&&(u==null?void 0:u.attachmentCta1)!=null;if(u!=null&&(n=u.attachmentCta1)!=null&&(n=n.type_)!=null&&n.includes("poll")||l!=null&&(a=l.attachmentCta1)!=null&&(a=a.type_)!=null&&a.includes("poll")){var d,m,f={attachmentIndex:i,contextCta1Type:(l==null||(d=l.attachmentCta1)==null?void 0:d.type_)||"null",contextHasCta1:(l==null?void 0:l.attachmentCta1)!=null,contextHasDefaultCta:(l==null?void 0:l.defaultCta)!=null,lsCta1Type:(u==null||(m=u.attachmentCta1)==null?void 0:m.type_)||"null",lsHasCta1:(u==null?void 0:u.attachmentCta1)!=null,lsHasDefaultCta:(u==null?void 0:u.defaultCta)!=null,messageId:e.messageId||"null",shouldUseFallback:c};r("FBLogger")("messenger_web_media","poll_cta_debug").info("Poll CTA debug: %s",JSON.stringify(f))}return c?(r("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachmentCTAs from context, instead retrieved attachmentCTAs directly from LSDB"),u):l}function v(t){var n=(e||(e=r("useReStore")))(),o={};return o.defaultCta=S(n,t==null?void 0:t.defaultCtaId),o.attachmentCta1=S(n,t==null?void 0:t.attachmentCta1Id),o.attachmentCta2=S(n,t==null?void 0:t.attachmentCta2Id),o.attachmentCta3=S(n,t==null?void 0:t.attachmentCta3Id),o}function S(e,t){return o("ReQLSuspense").useFirst(function(){return t!=null?o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(t):o("ReQL").empty()},[e,t],i.id+":175")}function R(e){var t,n=(t=p(_).attachmentItems)!=null?t:[],o=L(e);return n.length===0&&o.length>0?(r("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachmentItems from context, instead retrieved attachmentItems directly from LSDB"),o):n}function L(t){var n=(e||(e=r("useReStore")))();return o("ReQLSuspense").useArray(function(){var e=t.attachmentFbid;return o("ReQL").fromTableAscending(n.tables.attachment_items).getKeyRange(e)},[t,n],i.id+":205")}l.MWPAttachmentDataContext=_,l.MWPAttachmentDataContextProvider=f,l.MWPAttachmentDataContextProviderMAW=g,l.MWPAttachmentDataContextProviderLS=h,l.useMWPGetAttachments=y,l.useMWPGetAttachmentCTAs=b,l.useMWPGetAttachmentItems=R}),98);
__d("MWPAudioWaveformUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){if(e.length>t){for(var n=e.length/t,r=[],o=0;o<t;o++){for(var a=o*n,i=(o+1)*n,l=0,s=0,u=Math.ceil(a);u<Math.floor(i);u++)u<e.length&&(s++,l+=e[u]);s+=a-Math.floor(a),l+=(a-Math.floor(a))*e[Math.floor(a)],Math.ceil(i)<e.length&&(s+=Math.ceil(i)-i,l+=(Math.ceil(i)-i)*e[Math.ceil(i)]),s>0&&r.push(l/s)}return r}else return e}function l(e){for(var t=1,n=0,r=0;r<e.length;r++)t=Math.min(e[r],t),n=Math.max(e[r],n);return t===n?e:e.map(function(e){return-t/(n-t)+1/(n-t)*e})}i.getReducedAudioWaveformDimensions=e,i.getLinearlyInterpolatedValues=l}),66);
__d("MWPForwardedContent",["fbt","MWAttachmentTypeChecks","MWPMessageAuthor.react","ReQL","ReQLSuspense","mwpMessageHasAttachment","react","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(u||(u=o("react"))).useMemo;function d(t,n,a){var l=(e||(e=r("useReStore")))(),u=t.messageId,d=t.threadKey,m=r("mwpMessageHasAttachment")(t),p=o("ReQLSuspense").useFirst(function(){return m?o("ReQL").fromTableAscending(l.tables.attachments).getKeyRange(d,u):o("ReQL").empty()},[l,u,d,m],i.id+":32");return c(function(){return n?p!=null?o("MWAttachmentTypeChecks").isLink(p)?s._(/*BTDS*/"You forwarded a link"):o("MWAttachmentTypeChecks").isGif(p)?s._(/*BTDS*/"You forwarded a GIF"):o("MWAttachmentTypeChecks").isImage(p)?s._(/*BTDS*/"You forwarded an image"):o("MWAttachmentTypeChecks").isVideo(p)?s._(/*BTDS*/"You forwarded a video"):s._(/*BTDS*/"You forwarded a message"):s._(/*BTDS*/"You forwarded a message"):p!=null?a!=null?o("MWAttachmentTypeChecks").isLink(p)?s._(/*BTDS*/"{name} forwarded a link",[s._param("name",a)]):o("MWAttachmentTypeChecks").isGif(p)?s._(/*BTDS*/"{name} forwarded a GIF",[s._param("name",a)]):o("MWAttachmentTypeChecks").isImage(p)?s._(/*BTDS*/"{name} forwarded an image",[s._param("name",a)]):o("MWAttachmentTypeChecks").isVideo(p)?s._(/*BTDS*/"{name} forwarded a video",[s._param("name",a)]):s._(/*BTDS*/"{name} forwarded a message",[s._param("name",a)]):o("MWAttachmentTypeChecks").isLink(p)?s._(/*BTDS*/"Forwarded a link"):o("MWAttachmentTypeChecks").isGif(p)?s._(/*BTDS*/"Forwarded a GIF"):o("MWAttachmentTypeChecks").isImage(p)?s._(/*BTDS*/"Forwarded an image"):o("MWAttachmentTypeChecks").isVideo(p)?s._(/*BTDS*/"Forwarded a video"):s._(/*BTDS*/"Forwarded a message"):a!=null?s._(/*BTDS*/"{name} forwarded a message",[s._param("name",a)]):s._(/*BTDS*/"Forwarded a message")},[n,p,a])}function m(e,t){var n=o("MWPMessageAuthor.react").useAuthorName(),r=n[0];return d(e,t,r)}l.useTitle=m}),226);
__d("MWPIsContextBannerDisabled",["LSThreadBitOffset"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("LSThreadBitOffset").has(47,e)}l.isContextBannerDisabled=e}),98);
__d("MWPMessageFooter.react",["react","stylex","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.Children,d={container:{backgroundColor:"x1eb86dx",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function m(t){var n=t.children,o=t.itemsXstyle,a=t.outgoing,i=t.xstyle;r("vulture")("06NtbAMV9Tnw9f72uciGxoi1zzc=");var l=c.toArray(n).filter(Boolean);return l.length===0?null:u.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(d.container,i),{role:"none",children:[l.map(function(t,n){return u.createElement("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(d.items,o),{key:""+n,role:"none"}),t)}),a?null:u.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"})]}))}m.displayName=m.name+" [from "+i.id+"]",l.MWPMessageFooter=m}),98);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=2,c={gridImage:{bottom:"x1ey2m1c",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0}};function d(e){var t=e.urls;return s.jsx("ul",{className:"x78zum5 x1a02dak xe9ewy2 x1kgmq87",children:t.map(function(e){return s.jsx("li",{className:"x1yu6fn4",children:s.jsx("div",{className:"xqtp20y xwklpps xr9ek0c x1vrad04 x1n2onr6",children:s.jsx(r("BaseImage.react"),{src:e,xstyle:c.gridImage})})},e)})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWPThreadContextBanner.react",["LSThreadTitle.react","MWPIsContextBannerDisabled","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,n=e.renderNullStateDescription,a=e.renderThreadPicture,i=e.renderThreadTitle,l=e.thread,u=l.nullstateDescriptionText1,c=l.nullstateDescriptionText2,d=l.nullstateDescriptionText3,m=l.nullstateDescriptionType1,p=l.nullstateDescriptionType2,_=l.nullstateDescriptionType3;return o("MWPIsContextBannerDisabled").isContextBannerDisabled(l)?null:s.jsxs(s.Fragment,{children:[a==null?void 0:a(l),i==null?void 0:i(s.jsx(r("LSThreadTitle.react"),{thread:l})),u!=null&&m!=null&&(t=n==null?void 0:n(u,m))!=null?t:null,c!=null&&p!=null?n==null?void 0:n(c,p):null,d!=null&&_!=null?n==null?void 0:n(d,_):null]})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWXIcon_DEPRECATED.react",["cr:2058","cr:6570","getMDSIconColorCometFallback","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["backgroundEnabled","color"],u,c=u||(u=o("react"));function d(t){var r=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.backgroundEnabled,l=a.color,u=babelHelpers.objectWithoutPropertiesLoose(a,s);return n("cr:6570")!=null?c.jsx(n("cr:6570"),babelHelpers.extends({color:o("getMDSIconColorCometFallback").getMDSIconColorCometFallback(l),ref:r},u)):n("cr:2058")!=null?c.jsx(n("cr:2058"),babelHelpers.extends({backgroundEnabled:i,color:l,ref:r},u)):null}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXMessageBaseMessageListText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function c(e){var t=e.outgoing,n=e.ref,a=e.text,i=e.xstyle,l=e.ranges,c=e.renderers,d=e.transforms;return a==null?null:s.jsx(r("MWXText.react"),{color:t?"white":"primary",type:"body3",children:s.jsx(o("react-strict-dom").html.div,{dir:"auto",ref:n,style:[u.regular,t?u.outgoing:u.incoming,i],children:s.jsx(r("MWXMessageTextWithEntities.react"),{ranges:l,renderers:c,text:a,transforms:d!=null?d:o("MWChatTextTransform").textTransforms,withParagraphs:!1})})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("calculateIGDStickerDimensions",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=e!=null?e:void 0,o=t!=null?t:void 0;if(r==null||o==null)return[r,o];var a=o>r?n/o:n/r;return[r*a,o*a]}i.default=e}),66);
__d("generateIGDXMAMediaData",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return{carousel_share_child_media_id:"",client_context:"",code:t,id:e,media_type:1,organic_tracking_token:"",original_height:1,original_width:1,preview:"",taken_at:0,upcoming_event:null,user:""}}i.default=e}),66);
__d("getIGDCannesLeaveGroupStorageKey",[],(function(t,n,r,o,a,i){"use strict";function e(e){return"__IGDCannesLeaveGroupStorageKey."+e+"__"}i.default=e}),66);
__d("getIGDShortCodeFromMediaDeeplinkUrl",["ConstUriUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)return null;var t=o("ConstUriUtils").getUri(e),n=t==null?void 0:t.getQueryParam("shortcode");if(n!=null)return typeof n=="string"?n:JSON.stringify(n);var r,a=t==null||(r=t.stripTrailingSlash())==null?void 0:r.getPath().split("/");return a!=null&&a.length>1?a[a.length-1]:null}l.default=e}),98);
__d("getInstagramRelativeUrl",[],(function(t,n,r,o,a,i){"use strict";function e(e){if(e==null)return"";var t=e.getPath()||"",n=e.getQueryString()||"";return t!==""?t+"?"+n:""}i.default=e}),66);
__d("getMAWLinkEntityRenderer.react",["E2EEMessagingLinkContext.react","MWMessageCellFocusTable.react","MWXLink.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.encryptedLink,n=e.target,a=e.testid,i=e.xstyle;return function(e,a){return s.jsx(o("MWMessageCellFocusTable.react").FocusTable[2],{children:s.jsx("span",{role:"gridcell",children:s.jsx(o("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{inThread:!0,isSecure:t,children:s.jsx(r("MWXLink.react"),{encryptedLink:t,href:a.uri,target:n,testid:void 0,xstyle_DEPRECATED:i,children:e})})})})}}l.default=u}),98);
__d("isCTAHrefValid",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.startsWith("http")||e.startsWith("/")}i.default=e}),66);
__d("useIGDComposerBlockType_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIGDComposerBlockType_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"system_folder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"instamadillo_cutover",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reachability_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"input_mode",storageKey:null},{alias:null,args:null,concreteType:"XFBIGDirectClientPayloadDMSettings",kind:"LinkedField",name:"dm_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBIGDChannelCreatorBroadcastThreadData",kind:"LinkedField",name:"creator_broadcast_thread_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_channel_paused",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBIGDHiddenChatInfoType",kind:"LinkedField",name:"hidden_chat_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null}],storageKey:null}],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("useIGDComposerBlockType.react",["CometRelay","MessagingThreadSubtype","getJSEnumSafe","gkx","isIGDChannelThreadSubtype","isIGDMessageRequest","useIGDComposerBlockType_XFBIGDirectViewerThread.graphql","useReadOnlyFeatureLimitsOffMsys"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a){var i,l=o("CometRelay").useFragment(e!==void 0?e:e=n("useIGDComposerBlockType_XFBIGDirectViewerThread.graphql"),t),s=r("useReadOnlyFeatureLimitsOffMsys")(a).length>0;if(s)return"read_only_feature_limited";if(l==null)return null;var u=l.creator_broadcast_thread_data,c=l.dm_settings,d=l.input_mode,m=l.instamadillo_cutover,p=l.is_group,_=l.reachability_status,f=l.system_folder,g=l.thread_subtype,h=l.users,y=l.viewer_id;if(m!=null&&m!=="DEFAULT")return(c==null?void 0:c.mode)===!0?"instamadillo_dm_block":"instamadillo_tlc_block";if(p===!0){if(d===1)return"input_mode_disabled_for_group_thread"}else{var C;if(_==="UNREACHABLE_R_ACCOUNT_TEEN_INTERACTION")return"cannes_composer_block";if(r("gkx")("8574")===!0&&_==="UNREACHABLE_INVITE_MODEL_BLOCK_COMPOSER")return"1on1_unreachable_invite_model";var b=h.find(function(e){return e.id!==y});if((b==null||(C=b.friendship_status)==null?void 0:C.is_restricted)===!0)return"1on1_restricted_user";var v;if((b==null||(v=b.friendship_status)==null?void 0:v.blocking)===!0)return"1on1_blocked_user"}if(r("isIGDMessageRequest")(f))return"message_request";if(d===4)return"input_mode_partnership_thread_disabled_for_creator";if(r("isIGDChannelThreadSubtype")(g)&&(u==null?void 0:u.is_channel_paused)===!0)return"broadcast_channel_ended";if(p===!0&&l.system_folder==="SPAM"&&((i=l.hidden_chat_info)==null?void 0:i.status)==="HIDDEN")return"hidden_group_chat_in_spam_folder";var S=r("getJSEnumSafe")(r("MessagingThreadSubtype"),g);return S===r("MessagingThreadSubtype").IG_SUPPORT_MESSAGING_THREAD?"support_thread_composer_block":d!=null&&d!==0?"fallback":null}l.default=s}),98);
__d("useIGDRelativeTimeStamp",["fbt","ServerTime","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=6e4,u=e*60;function c(e,t){return e+t>=o("ServerTime").getMillis()}function d(e,t){var n=new Date(o("ServerTime").getMillis());n.setDate(n.getDate()-t);var r=new Date(e);return n.getDay()===r.getDay()&&n.getMonth()===r.getMonth()?n.getFullYear()===r.getFullYear():!1}function m(t){var n=o("react-compiler-runtime").c(7);if(c(t,e)){var r;return n[0]===Symbol.for("react.memo_cache_sentinel")?(r=s._(/*BTDS*/"just now"),n[0]=r):r=n[0],r}else if(c(t,e*59)){var a;return n[1]!==t?(a=s._(/*BTDS*/"{mins}m ago",[s._param("mins",Math.floor((o("ServerTime").getMillis()-t)/e).toString())]),n[1]=t,n[2]=a):a=n[2],a}else if(c(t,u*23)){var i;return n[3]!==t?(i=s._(/*BTDS*/"{hours}h ago",[s._param("hours",Math.floor((o("ServerTime").getMillis()-t)/u).toString())]),n[3]=t,n[4]=i):i=n[4],i}else if(d(t,0)){var l;return n[5]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"today"),n[5]=l):l=n[5],l}else if(d(t,1)){var m;return n[6]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"yesterday"),n[6]=m):m=n[6],m}else return}l.default=m}),226);
__d("useIGDShowCannesLeaveGroupDialog_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIGDShowCannesLeaveGroupDialog_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_cannes",storageKey:null}],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("useIGDShowCannesLeaveGroupDialog.react",["CometRelay","JSResourceForInteraction","PolarisWebStorage","getIGDCannesLeaveGroupStorageKey","react","react-compiler-runtime","useIGDSLazyDialog","useIGDShowCannesLeaveGroupDialog_XFBIGDirectViewerThread.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useState;function c(t){var a=o("react-compiler-runtime").c(1),i=u(!1),l=i[0],s=i[1],c;a[0]===Symbol.for("react.memo_cache_sentinel")?(c=r("JSResourceForInteraction")("IGDCannesLeaveGroupDialog.react").__setRef("useIGDShowCannesLeaveGroupDialog.react"),a[0]=c):c=a[0];var m=r("useIGDSLazyDialog")(c),p=m[0],_=o("CometRelay").useFragment(e!==void 0?e:e=n("useIGDShowCannesLeaveGroupDialog_XFBIGDirectViewerThread.graphql"),t);if(!(_==null||_.is_group===!1||_.thread_fbid==null)){var f=_.thread_fbid,g=r("PolarisWebStorage").getLocalStorage(),h=r("getIGDCannesLeaveGroupStorageKey")(f),y=(g==null?void 0:g.getItem(h))==="true",C=function(){g==null||g.setItem(h,"true")};_.users.some(d)&&l===!1&&y===!1&&(p({threadFbid:f},C),s(!0))}}function d(e){return e.is_cannes===!0}l.default=c}),98);
__d("useMWPCombineTextRenderers",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t={};return e.forEach(function(e){if(e!=null){var n=e[0],r=e[1],o=t[n];t[n]=o!=null?o.concat([r]):[r]}}),t}i.default=e}),66);
__d("useMWPLinkRendererFactory",["MWPThreadCapabilitiesContext","getMAWLinkEntityRenderer.react","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),n=t.disableLinks;return function(t,o,a,i){return r("gkx")("24165")&&n?void 0:[a,r("getMAWLinkEntityRenderer.react")({encryptedLink:e,target:i,testid:o,xstyle:t})]}}l.default=e}),98);
__d("useIGDTextRenderers",["MWChatTextFormatting","MWMessageCellFocusTable.react","PolarisUA","react","react-compiler-runtime","useMWPCombineTextRenderers","useMWPLinkRendererFactory"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c={bold:{fontWeight:"x1s688f",$$css:!0},link:{color:"x7l2uk3",textDecoration:"x1bvjpef",":visited_color":"x17kgsl5",$$css:!0},regularIncoming:{color:"xzsf02u",":visited_color":"x17kgsl5",$$css:!0},regularOutgoing:{color:"x14ctfv",":visited_color":"x17kgsl5",$$css:!0},textPrecedesXMA:{color:"x5n08af",":visited_color":"x17kgsl5",$$css:!0}},d=["Ai",function(e){return s.jsx(o("MWMessageCellFocusTable.react").FocusTable[2],{children:s.jsx("span",{className:"x1s688f",role:"gridcell",children:e})})}],m=["Command",function(e){return s.jsx(o("MWMessageCellFocusTable.react").FocusTable[2],{children:s.jsx("span",{className:"x1s688f",role:"gridcell",children:e})})}];function p(e,t,n,a){var i=o("react-compiler-runtime").c(18),l=r("useMWPLinkRendererFactory")(t),s=n&&a?c.textPrecedesXMA:n?c.regularOutgoing:c.regularIncoming,u=o("PolarisUA").isMobile()?"_self":"_blank",p;i[0]!==l?(p=l([c.link],"ig_chat_message_regular_link","Link",u),i[0]=l,i[1]=p):p=i[1];var _;i[2]!==l||i[3]!==s?(_=l([c.bold,s],"ig_profile_link","Profile",u),i[2]=l,i[3]=s,i[4]=_):_=i[4];var f;i[5]!==l||i[6]!==s?(f=l([c.bold,s],"ig_chat_message_regular_hashtag","Hashtag",u),i[5]=l,i[6]=s,i[7]=f):f=i[7];var g;i[8]!==p||i[9]!==_||i[10]!==f?(g=[p,_,f,d,m],i[8]=p,i[9]=_,i[10]=f,i[11]=g):g=i[11];var h=r("useMWPCombineTextRenderers")(g),y;if(i[12]!==e||i[13]!==h||i[14]!==n){if(y=babelHelpers.extends({},h),e===!0){var C=n?o("MWChatTextFormatting").messageRenderer:o("MWChatTextFormatting").messageIncomingRenderer,b;i[16]!==C?(b=[C],i[16]=C,i[17]=b):b=i[17],y.MessengerTextFormatting=b}i[12]=e,i[13]=h,i[14]=n,i[15]=y}else y=i[15];return y}l.default=p}),98);
__d("xmaLayouts",[],(function(t,n,r,o,a,i){"use strict";var e={DEFAULT:"default",UNIFIED_LAYOUT:"unifiedLayout"};i.XMA_LAYOUTS=e}),66);
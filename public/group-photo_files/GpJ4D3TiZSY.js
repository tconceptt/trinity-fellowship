;/*FB_PKG_DELIM*/

__d("AudioClipsBrowserBlockMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("73"),s=o("FalcoLoggerInternal").create("audio_clips_browser_block_mic_access",e),u=s;l.default=u}),98);
__d("AudioClipsCancelledByUserFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("39"),s=o("FalcoLoggerInternal").create("audio_clips_cancelled_by_user",e),u=s;l.default=u}),98);
__d("AudioClipsDialogNotnowMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("74"),s=o("FalcoLoggerInternal").create("audio_clips_dialog_notnow_mic_access",e),u=s;l.default=u}),98);
__d("AudioClipsDialogOkMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("75"),s=o("FalcoLoggerInternal").create("audio_clips_dialog_ok_mic_access",e),u=s;l.default=u}),98);
__d("AudioClipsMicAccessCheckFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("76"),s=o("FalcoLoggerInternal").create("audio_clips_mic_access_check_failed",e),u=s;l.default=u}),98);
__d("AudioClipsPlaybackPauseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("44"),s=o("FalcoLoggerInternal").create("audio_clips_playback_pause",e),u=s;l.default=u}),98);
__d("AudioClipsPlaybackResumeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("45"),s=o("FalcoLoggerInternal").create("audio_clips_playback_resume",e),u=s;l.default=u}),98);
__d("AudioClipsPlaybackStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("47"),s=o("FalcoLoggerInternal").create("audio_clips_playback_start",e),u=s;l.default=u}),98);
__d("AudioClipsStartRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("51"),s=o("FalcoLoggerInternal").create("audio_clips_start_recording_click",e),u=s;l.default=u}),98);
__d("AudioClipsStopRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("52"),s=o("FalcoLoggerInternal").create("audio_clips_stop_recording_click",e),u=s;l.default=u}),98);
__d("AudioClipsTranscriptionButtonClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1004"),s=o("FalcoLoggerInternal").create("audio_clips_transcription_button_click",e),u=s;l.default=u}),98);
__d("AudioClipsTranscriptionCompleteFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1097"),s=o("FalcoLoggerInternal").create("audio_clips_transcription_complete",e),u=s;l.default=u}),98);
__d("AudioClipsTranscriptionExpandClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1098"),s=o("FalcoLoggerInternal").create("audio_clips_transcription_expand_click",e),u=s;l.default=u}),98);
__d("AudioClipsTranscriptionFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1279"),s=o("FalcoLoggerInternal").create("audio_clips_transcription_failure",e),u=s;l.default=u}),98);
__d("C4gEngagementFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1922200"),s=o("FalcoLoggerInternal").create("c4g_engagement",e),u=s;l.default=u}),98);
__d("MWChatAppendMentionsNodeToReply",["I64","LSContactTypeExact","LSIntEnum","Lexical","LexicalText","MWChatComposerTypeaheadUtil","MWPReplyContext.react","MessengerLexicalActorNode","ReQL","ReQLSuspense","cometMentionsDataEntryText","react","usePrevious","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=d.useContext,p=d.useEffect;function _(e,t){e.update(function(){var n=o("Lexical").$getSelection();if(!(!o("Lexical").$isRangeSelection(n)||!n.isCollapsed())){var a=n.anchor,i=a.getNode(),l=r("cometMentionsDataEntryText")(t),s=o("Lexical").$getRoot().getAllTextNodes().some(function(e){return o("MessengerLexicalActorNode").$isMessengerLexicalActorNode(e)&&e.getTextContent().includes(l)});if(s!==!0){var u=o("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:t.key,text:l}),c=o("LexicalText").$isRootTextContentEmpty(e.isComposing());c?n.insertNodes([u]):i.insertBefore(u),u.selectNext(0,0)}}})}function f(t,n,a){var l=m(o("MWPReplyContext.react").MWPReplyContext),c=l.reply,d=r("usePrevious")(c),f=(e||(e=r("useReStore")))(),g=o("ReQLSuspense").useFirst(function(){return c!=null?o("ReQL").fromTableAscending(f.tables.messages).getKeyRange(n,c.timestampMs,c.messageId):o("ReQL").empty()},[c,n,f],i.id+":91"),h=o("ReQLSuspense").useFirst(function(){return g!=null?o("ReQL").fromTableAscending(f.tables.contacts).getKeyRange(g.senderId):o("ReQL").empty()},[f,g],i.id+":102"),y=h!=null?(s||(s=o("I64"))).equal(h.contactTypeExact,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").GENERATIVE_AI_BOT)):!1,C=y&&(g==null?void 0:g.botResponseId)!=null;p(function(){var e=d==null&&c!=null;e&&C&&a===!0&&_(t,o("MWChatComposerTypeaheadUtil").aiBotMentionsEntry)},[t,c,d,C,a])}l.insertMentionNodeToFront=_,l.useMWChatAppendMentionsNodeToReply=f}),98);
__d("MWChatComposerMentionsViewItem.react",["CometImageFromIXValue.react","CometSearchMentionsBaseViewItem.react","FDSIcon.react","FDSProfilePhoto.react","FDSTextPairing.react","MWXSvgIcon","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["entry"],s,u=s||(s=o("react"));function c(t){var n=t.entry,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=n.handle,l=n.key,s=n.label,c=n.rawData,d=c.icon,m=c.image,p=c.photoURI,_=c.subtitle,f;return p!=null?f=u.jsx(r("FDSProfilePhoto.react"),{size:28,source:{uri:p}}):d!=null?f=d instanceof o("MWXSvgIcon").MWXSvgIcon?u.jsx(r("FDSIcon.react"),{color:"primary",disabled:!1,icon:d.originalComponent,size:28}):u.jsx(r("FDSIcon.react"),{color:"primary",disabled:!1,icon:d}):m!=null&&(f=u.jsx(r("CometImageFromIXValue.react"),{source:m})),u.jsx(r("CometSearchMentionsBaseViewItem.react"),babelHelpers.extends({},a,{entry:n,itemStartContent:f,testid:void 0,children:u.jsx(r("FDSTextPairing.react"),{body:s,bodyLineLimit:1,level:3,meta:_,metaLineLimit:1})}))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("messengerMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(t,n,r,o,a,i,l){"use strict";var e=r("cometBaseMentionsLexicalCreateNodeStrategy")(function(e){return o("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:e.key,text:r("cometMentionsDataEntryText")(e)})}),s=e;l.default=s}),98);
__d("MWChatComposerMentionsTypeaheadDataSource",["CurrentUser","MWChatComposerTypeaheadUtil","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=6,u=(function(){function t(e,t,n,o,a,i){this.$1=[],this.$1=Array.from(e.values()).filter(function(e){return e.contactId!==r("CurrentUser").getID()}),this.$2=t,this.$3=n!=null?n:null,this.$4=o,this.$5=a,this.$6=i}var a=t.prototype;return a.bootstrap=function(){},a.fetchCache=function(t){return o("MWChatComposerTypeaheadUtil").fetchCacheComposerMentionsTypeahead(t,this.$1,this.$2,this.$3,this.$4,this.$5,s,this.$6)},a.fetchNetwork=function(r){return(e||(e=n("Promise"))).resolve(this.fetchCache(r))},t})();l.default=u}),98);
__d("useMWChatMentionsDataSourceResolverConfig",["I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatComposerMentionsTypeaheadDataSource","MWLSThread","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","useCometMentionsDataSourceResolverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useMemo;function c(e){var t=e.isAiBotMentionsEnabled,n=e.participants,a=e.threadFBID,i=e.triggerParticipantsSearch,l=o("MWLSThread").useThreadExn((s||(s=o("I64"))).of_string(a)),c=l.threadType,d=o("LSMessagingThreadTypeUtil").isGroup(l.threadType)&&o("LSThreadBitOffset").has(43,l),m=u(function(){return[{dataSource:new(r("MWChatComposerMentionsTypeaheadDataSource"))(n,a,i,t,d,c),matchStrategy:r("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[d,t,n,a,i,c]);return r("useCometMentionsDataSourceResolverConfig")(m,!0)}l.default=c}),98);
__d("MWWorkForeignEntityTypeUtils",["I64","LSContactWorkForeignEntityType","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactWorkForeignEntityType").NOT_FOREIGN))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN))?"NOT_FOREIGN":(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactWorkForeignEntityType").NOT_FOREIGN_LIMITED))?"LIMITED":"FOREIGN"}l.getWorkForeignEntityType=u}),98);
__d("useParticipantsExcludingViewer",["I64","MAWSubscribeToContactNames","MWLSContactTypeExactUtils","MWPActor.react","MWWorkForeignEntityTypeUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useMemo;function d(t){var n=t.threadKey,a=o("MWPActor.react").useActor(),l=(e||(e=r("useReStore")))(),u=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(n).map(function(e){return[o("ReQLSuspense").first(o("ReQL").fromTableAscending(l.tables.contacts).getKeyRange(e.contactId),i.id+":43"),e]})},[l,n],i.id+":37"),d=c(function(){return u.reduce(function(e,t){var n=t[0],r=t[1];if(n!=null&&!(s||(s=o("I64"))).equal(n.id,a)){var i;return e.concat([[babelHelpers.extends({},n,{name:(i=n.name)!=null?i:o("MAWSubscribeToContactNames").getUnknownUser()}),r]])}return e},[])},[u,a]);return c(function(){return new Map(d.map(function(e){var t,n=e[1],a=e[0];return[(s||(s=o("I64"))).to_string(a.id),{actualName:a.name,blockedByViewerStatus:a.blockedByViewerStatus,contactId:s.to_string(a.id),isAdmin:(t=n.isAdmin)!=null?t:!1,isContact:!0,jobTitle:a.workJobTitle,name:a.name,nickname:n.nickname,profilePictureUrl:r("getLSMediaContactProfilePictureUrl")(a),secondaryName:o("MWLSContactTypeExactUtils").isIgContact(a.contactTypeExact)?a.secondaryName:void 0,workForeignEntityInfo:o("MWWorkForeignEntityTypeUtils").getWorkForeignEntityType(a.workForeignEntityType)}]}))},[d])}l.default=d}),98);
__d("IGDMentionsPluginForLexical.react",["CometMentionsForLexical.react","I64","IGDMentionsLayoutStrategy.react","IGDThreadListNewMessageLoggingDataContext","Lexical","MWChatAppendMentionsNodeToReply","MWChatComposerMentionsViewItem.react","MessengerWebUXLogger","messengerMentionsLexicalCreateNodeStrategy","react","react-compiler-runtime","useCometMentionsViewListStrategy","useMWChatMentionsDataSourceResolverConfig","useParticipantsExcludingViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo,p={root:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",marginTop:"xdj266r",marginBottom:"xat24cr",minWidth:"x1jzhcrs",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(18),n=e.editor,a=e.isAiBotMentionsEnabled,i=e.threadKey,l;t[0]!==i?(l={threadKey:i},t[0]=i,t[1]=l):l=t[1];var c=r("useParticipantsExcludingViewer")(l),d;t[2]!==i?(d=(s||(s=o("I64"))).to_string(i),t[2]=i,t[3]=d):d=t[3];var m=d,p;t[4]!==a||t[5]!==c||t[6]!==m?(p={isAiBotMentionsEnabled:a,participants:c,threadFBID:m},t[4]=a,t[5]=c,t[6]=m,t[7]=p):p=t[7];var _=p,h=r("useMWChatMentionsDataSourceResolverConfig")(_),y;t[8]===Symbol.for("react.memo_cache_sentinel")?(y={viewItemStrategyRenderer:g},t[8]=y):y=t[8];var C=r("useCometMentionsViewListStrategy")(y);o("MWChatAppendMentionsNodeToReply").useMWChatAppendMentionsNodeToReply(n,i,a);var b=r("MessengerWebUXLogger").useInteractionLogger(),v=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),S;t[9]!==n||t[10]!==v||t[11]!==b?(S=function(){b==null||b({eventName:"mentions_recipient_selected",flowInstanceId:v}),n.update(f)},t[9]=n,t[10]=v,t[11]=b,t[12]=S):S=t[12];var R=S,L;return t[13]!==h||t[14]!==n||t[15]!==R||t[16]!==C?(L=u.jsx(r("CometMentionsForLexical.react"),{createNodeStrategy:r("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:h,editor:n,layoutStrategyRenderer:r("IGDMentionsLayoutStrategy.react"),onMentionsEntrySelected:R,position:"above",viewStrategyRenderer:C}),t[13]=h,t[14]=n,t[15]=R,t[16]=C,t[17]=L):L=t[17],L}function f(){var e=o("Lexical").$getSelection();o("Lexical").$isRangeSelection(e)&&e.insertText(" ")}function g(e){return u.jsx(r("MWChatComposerMentionsViewItem.react"),babelHelpers.extends({},e,{xstyle:p.root}))}g.displayName=g.name+" [from "+i.id+"]",l.default=_}),98);
__d("Ls1lcFeatureOpenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("153"),s=o("FalcoLoggerInternal").create("ls_1lc_feature_open",e),u=s;l.default=u}),98);
__d("LsDidTapCallToActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743852"),s=o("FalcoLoggerInternal").create("ls_did_tap_call_to_action",e),u=s;l.default=u}),98);
__d("LsMessageClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743853"),s=o("FalcoLoggerInternal").create("ls_message_click",e),u=s;l.default=u}),98);
__d("MLCHealthLoggerEvent",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({COMMIT_CREATE:"commit_create",COMMIT_EDIT:"commit_edit",DAILY_INTERACTION_WITH_SURFACE:"daily_interaction_with_surface"}),l=e;i.default=l}),66);
__d("MlcHealthBizappEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2646"),s=o("FalcoLoggerInternal").create("mlc_health_bizapp_event",e),u=s;l.default=u}),98);
__d("MlcHealthFacebookAndWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2647"),s=o("FalcoLoggerInternal").create("mlc_health_facebook_and_workplace_event",e),u=s;l.default=u}),98);
__d("MlcHealthFacebookEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2648"),s=o("FalcoLoggerInternal").create("mlc_health_facebook_event",e),u=s;l.default=u}),98);
__d("MlcHealthInstagramEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3766"),s=o("FalcoLoggerInternal").create("mlc_health_instagram_event",e),u=s;l.default=u}),98);
__d("MlcHealthInternalToolsEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2649"),s=o("FalcoLoggerInternal").create("mlc_health_internal_tools_event",e),u=s;l.default=u}),98);
__d("MlcHealthMessagingLightswitchEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2650"),s=o("FalcoLoggerInternal").create("mlc_health_messaging_lightswitch_event",e),u=s;l.default=u}),98);
__d("MlcHealthWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2651"),s=o("FalcoLoggerInternal").create("mlc_health_workplace_event",e),u=s;l.default=u}),98);
__d("MLCHealthInstrumentationPlugin__INTERNAL.react",["Lexical","LexicalComposerContext","LexicalUtils","MLCInstrumentationCommands","MlcHealthBizappEventFalcoEvent","MlcHealthFacebookAndWorkplaceEventFalcoEvent","MlcHealthFacebookEventFalcoEvent","MlcHealthInstagramEventFalcoEvent","MlcHealthInternalToolsEventFalcoEvent","MlcHealthMessagingLightswitchEventFalcoEvent","MlcHealthWorkplaceEventFalcoEvent","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect,u=new Set;function c(e){switch(e){case"facebook":return r("MlcHealthFacebookEventFalcoEvent");case"workplace":return r("MlcHealthWorkplaceEventFalcoEvent");case"facebook_and_workplace":return r("MlcHealthFacebookAndWorkplaceEventFalcoEvent");case"internal_tools":return r("MlcHealthInternalToolsEventFalcoEvent");case"messaging_lightswitch":return r("MlcHealthMessagingLightswitchEventFalcoEvent");case"bizapp":return r("MlcHealthBizappEventFalcoEvent");case"instagram":return r("MlcHealthInstagramEventFalcoEvent");default:return null}}function d(e,t,n){var r;(r=c(e))==null||r.log(function(){return{event:n,surface:t}})}function m(e){var t=e.policyProduct,n=e.surface,r=o("LexicalComposerContext").useLexicalComposerContext(),a=r[0];return s(function(){var e=function(){};return u.has(n)||(e=a.registerUpdateListener(function(r){var o=r.dirtyLeaves,i=r.tags;if(u.has(n)){e();return}o.size===0||i.has("history-merge")||!a.isEditable()||(u.add(n),d(t,n,"daily_interaction_with_surface"),e())})),o("LexicalUtils").mergeRegister(e,a.registerCommand(o("MLCInstrumentationCommands").COMMIT_COMMAND,function(e){return e==="create"?d(t,n,"commit_create"):d(t,n,"commit_edit"),!1},o("Lexical").COMMAND_PRIORITY_CRITICAL))},[a,t,n]),null}l.default=m}),98);
__d("MLCInteractionInstrumentationPlugin__INTERNAL.react",["cr:3286","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return n("cr:3286")&&s.jsx(n("cr:3286"),babelHelpers.extends({},e))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MLCTextLengthBucket",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["S","M","L","XL"]);function l(t){return t<=500?e.S:t<=1e3?e.M:t<=2500?e.L:e.XL}i.TextLengthBucketEnum=e,i.getTextLengthBucket=l}),66);
__d("mlcInternBootstrapTypingPerformance__INTERNAL",["OneTraceQPLLogger","one-trace","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=!1;function s(e){switch(e.traceType){case"TYPING":return r("qpl")._(406397789,"516")}return null}function u(){e||(e=!0,r("one-trace").subscribe("trace-start",function(e){o("OneTraceQPLLogger").initQPL(s(e),e)}),r("one-trace").subscribe("trace-end",function(e){o("OneTraceQPLLogger").logQPL(s(e),e)}))}l.default=u}),98);
__d("MLCTypingPerformancePlugin__INTERNAL.react",["LexicalComposerContext","LexicalText","MLCTextLengthBucket","mlcInternBootstrapTypingPerformance__INTERNAL","one-trace","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useLayoutEffect,c=new RegExp("[^,;\\s]{200,}"),d=new RegExp("[^,;\\s]{100,199}"),m=new RegExp("[^,;\\s]{50,99}");function p(e){return e===""?0:c.test(e)?200:d.test(e)?100:m.test(e)?50:0}function _(e){return r("mlcInternBootstrapTypingPerformance__INTERNAL")(),s.jsx(f,babelHelpers.extends({},e))}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t=e.format__DEPRECATED,n=e.surface,a=e.typingPerformanceID,i=a===void 0?"":a,l=o("LexicalComposerContext").useLexicalComposerContext(),s=l[0];return u(function(){var e=babelHelpers.extends({largeWord:p(s.getEditorState().read(o("LexicalText").$rootTextContent)),textLengthBucket:o("MLCTextLengthBucket").getTextLengthBucket(s.getEditorState().read(o("LexicalText").$rootTextContent).length)},n==="FeedComposerCometStatusArea"?{autolinkFastPath:String(!0)}:null),a;l();function l(){a==null||a();var o=null,l=s.registerRootListener(function(a){a!==o&&(o!==null&&r("one-trace").unregisterTypingPerf(o),a!==null&&r("one-trace").trackTypingPerf(a,n,o,babelHelpers.extends({},e,{editor:"LexicalEditor",format:t!=null?t:"",typingPerformanceID:i})),o=a)});a=function(){l(),o!==null&&r("one-trace").unregisterTypingPerf(o)}}var u=s.registerTextContentListener(function(t){var n=p(t);n!==e.largeWord&&(e.largeWord=n,l())}),c=s.registerTextContentListener(function(t){var n=o("MLCTextLengthBucket").getTextLengthBucket(t.length);n!==e.textLengthBucket&&(e.textLengthBucket=n,l())});return function(){a==null||a(),u==null||u(),c==null||c()}},[i,s,t,n]),null}f.displayName=f.name+" [from "+i.id+"]",l.default=_}),98);
__d("MLCInstrumentationPlugin__INTERNAL.react",["MLCHealthInstrumentationPlugin__INTERNAL.react","MLCInteractionInstrumentationPlugin__INTERNAL.react","MLCTypingPerformancePlugin__INTERNAL.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u="facebook",c=u;function d(e){return s.jsxs(s.Fragment,{children:[s.jsx(r("MLCTypingPerformancePlugin__INTERNAL.react"),babelHelpers.extends({},e)),s.jsx(r("MLCHealthInstrumentationPlugin__INTERNAL.react"),babelHelpers.extends({},e)),s.jsx(r("MLCInteractionInstrumentationPlugin__INTERNAL.react"),babelHelpers.extends({},e))]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWChatAudioLog",["AudioClipsBrowserBlockMicAccessFalcoEvent","AudioClipsCancelledByUserFalcoEvent","AudioClipsDialogNotnowMicAccessFalcoEvent","AudioClipsDialogOkMicAccessFalcoEvent","AudioClipsMicAccessCheckFailedFalcoEvent","AudioClipsPlaybackPauseFalcoEvent","AudioClipsPlaybackResumeFalcoEvent","AudioClipsPlaybackStartFalcoEvent","AudioClipsStartRecordingClickFalcoEvent","AudioClipsStopRecordingClickFalcoEvent","I64","Ls1lcFeatureOpenFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){r("AudioClipsStopRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(e||(e=o("I64"))).to_string(e.of_float(t)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:"true",position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function u(){r("AudioClipsStartRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}}),r("Ls1lcFeatureOpenFalcoEvent").log(function(){return{extra:void 0,feature:13,feature_sessionid:void 0,screen_orientation:void 0,stage:7,thread:void 0}})}function c(){r("AudioClipsCancelledByUserFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function d(){r("AudioClipsBrowserBlockMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function m(t){r("AudioClipsPlaybackStartFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(e||(e=o("I64"))).to_string(e.of_float(t)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function p(t,n){r("AudioClipsPlaybackPauseFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(e||(e=o("I64"))).to_string(e.of_float(t)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:e.to_string(e.of_float(n)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function _(t,n){r("AudioClipsPlaybackResumeFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(e||(e=o("I64"))).to_string(e.of_float(t)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:e.to_string(e.of_float(n)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function f(){r("AudioClipsDialogOkMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function g(){r("AudioClipsDialogNotnowMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function h(){r("AudioClipsMicAccessCheckFailedFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}l.logClickStopRecording=s,l.logClickStartRecording=u,l.logDeleteRecording=c,l.logBrowserDenyAccess=d,l.logPlaybackStart=m,l.logPlaybackPause=p,l.logPlaybackResume=_,l.logDialogOk=f,l.logDialogNotNow=g,l.logMicAccessCheckFailed=h}),98);
__d("MWChatTabSharedQPLAnnotations",["I64","MAWCurrentUser","MAWMIC","MAWOfflineQueueStatus","MWChatMessagesOnChatTabLoadTracker","MultipleTabsLogger","promiseDone","requireDeferred","waitForMAWMIC"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("MAWThreadCutover").__setRef("MWChatTabSharedQPLAnnotations");function u(e){return e===15||e===16}function c(t,n,a){var i=(e||(e=o("I64"))).to_string(a),l=n!=null?u(n):!1;t.addAnnotation("thread_id",i),t.addAnnotation("thread_type",n?n.toString():""),t.addAnnotationBoolean("is_secure",l),o("MultipleTabsLogger").addAnnotationWithInteractionUuid(t.getTraceId()),t.addAnnotationInt("is_tlc_public_user",o("MAWCurrentUser").isTlcPublicUser()?1:0),t.setTracePolicy("comet.messenger.chat_tab."+(u(n)?"secure":"open"));var c=o("MAWOfflineQueueStatus").getAllThreadsWithOfflineQueueIncomplete().length>0;t.addAnnotationBoolean("has_pending_or_inprogress_oq_threads",c),o("MAWMIC").duringMIC()?(t.addAnnotationInt("startedDuringMIC",1),t.addMarkerPoint("MIC_dependency_start","AppTiming"),r("promiseDone")(o("waitForMAWMIC").promise,function(){t.addMarkerPoint("MIC_dependency_end","AppTiming"),t.addAnnotation("endReasonMIC",o("MAWMIC").endReasonMIC())})):t.addAnnotation("endReasonMIC",o("MAWMIC").endReasonMIC()),s.onReady(function(e){r("promiseDone")(e.isCutoverThreadKey(a).then(function(e){t.addAnnotationInt("is_cutover",e?1:0)}))}),t.onComplete(function(){var e=o("MWChatMessagesOnChatTabLoadTracker").getMessageSendsCountFor(i),n=o("MWChatMessagesOnChatTabLoadTracker").getMessageReceivesCountFor(i);t.addAnnotationInt("messagesSent",e),t.addAnnotationInt("messagesReceived",n),t.addAnnotationInt("totalMessages",n+e),o("MWChatMessagesOnChatTabLoadTracker").clearMessageCountsFor(i)})}l.isSecure=u,l.addSharedAnnotations=c}),98);
__d("MessageRequestsBulkActionConfirmedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("256"),s=o("FalcoLoggerInternal").create("message_requests_bulk_action_confirmed",e),u=s;l.default=u}),98);
__d("MessageRequestsBulkActionEditFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2614"),s=o("FalcoLoggerInternal").create("message_requests_bulk_action_edit",e),u=s;l.default=u}),98);
__d("MessageRequestsBulkActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("257"),s=o("FalcoLoggerInternal").create("message_requests_bulk_action_tapped",e),u=s;l.default=u}),98);
__d("MessageRequestsInfoBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("258"),s=o("FalcoLoggerInternal").create("message_requests_info_banner_shown",e),u=s;l.default=u}),98);
__d("MessageRequestsThreadActionConfirmedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("259"),s=o("FalcoLoggerInternal").create("message_requests_thread_action_confirmed",e),u=s;l.default=u}),98);
__d("MessageRequestsThreadActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("260"),s=o("FalcoLoggerInternal").create("message_requests_thread_action_tapped",e),u=s;l.default=u}),98);
__d("MessageRequestsThreadDenialOptionsTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("261"),s=o("FalcoLoggerInternal").create("message_requests_thread_denial_options_tapped",e),u=s;l.default=u}),98);
__d("MessageRequestsViewThreadlistFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("263"),s=o("FalcoLoggerInternal").create("message_requests_view_threadlist",e),u=s;l.default=u}),98);
__d("MessageThreadEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5034"),s=o("FalcoLoggerInternal").create("message_thread_events",e),u=s;l.default=u}),98);
__d("MwbCmInformTreatmentEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6736"),s=o("FalcoLoggerInternal").create("mwb_cm_inform_treatment_event",e),u=s;l.default=u}),98);
__d("MwbInformTreatmentShownImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6735"),s=o("FalcoLoggerInternal").create("mwb_inform_treatment_shown_impression",e),u=s;l.default=u}),98);
__d("PolarisDirectMediaHelpers",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.map(function(e){var t=e.height,n=e.url,r=e.width;return{configHeight:t,configWidth:r,src:n}})}function l(e){var t=e.carousel_media;return t==null?-1:t.findIndex(function(t){return t.id===e.carousel_share_child_media_id})}i.getSrcSet=e,i.getSharedCarouselChildIdxIfAny=l}),66);
__d("PolarisDirectMessagePostModal.react",["PolarisDirectMediaHelpers","PolarisLinkBuilder","PolarisPost.react","PolarisPostModal.react","PolarisPostVariants","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(18),n=e.media,a=e.modalEntryPath,i=e.onClose,l=e.onOpen,u;t[0]!==n.id?(u=n.id.split("_"),t[0]=n.id,t[1]=u):u=t[1];var c=u[0],d=n.code,m;t[2]!==n.original_height||t[3]!==n.original_width?(m={height:n.original_height,width:n.original_width},t[2]=n.original_height,t[3]=n.original_width,t[4]=m):m=t[4];var p=m,_;t[5]!==n?(_=o("PolarisDirectMediaHelpers").getSharedCarouselChildIdxIfAny(n),t[5]=n,t[6]=_):_=t[6];var f=_,g;t[7]!==f||t[8]!==c?(g=s.jsx(r("PolarisPost.react"),{analyticsContext:"directThreadPageModal",autoplay:!0,id:c,initialCarouselIndex:f,isVisible:!0,variant:o("PolarisPostVariants").VARIANTS.flexible,visiblePosition:0}),t[7]=f,t[8]=c,t[9]=g):g=t[9];var h;return t[10]!==p||t[11]!==a||t[12]!==i||t[13]!==l||t[14]!==d||t[15]!==c||t[16]!==g?(h=s.jsx(r("PolarisPostModal.react"),{analyticsContext:"DirectThreadPage",dimensions:p,mediaLinkBuilder:o("PolarisLinkBuilder").buildMediaLink,modalEntryPath:a,onClose:i,onOpen:l,postCode:d,postId:c,children:g}),t[10]=p,t[11]=a,t[12]=i,t[13]=l,t[14]=d,t[15]=c,t[16]=g,t[17]=h):h=t[17],h}l.default=u}),98);
__d("ZenonUserActionLoggerCommon",["ZenonUserActionLogger"],(function(t,n,r,o,a,i,l){"use strict";l.logClick=r("ZenonUserActionLogger").logClick,l.logImpression=r("ZenonUserActionLogger").logImpression}),98);
__d("logXMACtaClicked",["I64","LsDidTapCallToActionFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.cta,a=t.loggingDetails,i=t.source;if(a!=null){var l=n.actionContentBlob,s=l!=null?u(l):"",_=l!=null?d(l):"",f=l!=null?c(l):"",g=l!=null?m(l):"",h=l!=null?p(l):"",y=a[1],C=a[0];r("LsDidTapCallToActionFalcoEvent").log(function(){return{action:{cta_type_unique_id:_,id:(e||(e=o("I64"))).to_string(n.ctaId),name:"",source:i,type:y},message:{campaign_id:f,id:n.messageId,marketing_message_impression_token:g,marketing_message_surface:h,notification_token:s},page:{id:C},target:{id:C},thread:{id:C}}})}}function u(e){try{var t=JSON.parse(e),n=t.notification_message_token;return n!=null?n:""}catch(e){return""}}function c(e){try{var t=JSON.parse(e),n=t.mbs_mm_campaign_id;return n!=null?n:""}catch(e){return""}}function d(e){try{var t=JSON.parse(e),n=t.mm_cta_unique_id;return n!=null?n:""}catch(e){return""}}function m(e){try{var t=JSON.parse(e),n=t.mm_impression_token;return n!=null?n:""}catch(e){return""}}function p(e){try{var t=JSON.parse(e),n=t.mm_surface;return n!=null?n:""}catch(e){return""}}l.logXMACtaClicked=s}),98);
;/*FB_PKG_DELIM*/

__d("GetAttachmentTypeFromFile",["asyncToGeneratorRuntime","cometIsMimeTypeForMedia","genIsNonAnimatedWebPFile"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return e.type==="image/gif"?"animated_media":e.type==="image/webp"?(yield r("genIsNonAnimatedWebPFile")(e))?"image":"video":u(e)}),s.apply(this,arguments)}function u(e){var t=e.type;return o("cometIsMimeTypeForMedia").isMimeTypeForPhoto(t)?"image":o("cometIsMimeTypeForMedia").isMimeTypeForVideo(t)?"video":t==="audio/wav"?"audio":"file"}l.getAttachmenTypeFromFile=e}),98);
__d("IGDComposerAttachmentButtonOffMsys.react",["fbt","BaseFileSelector.react","IGDSIconButton.react","IGDSPhotoOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){var t=Array.from(n);if(t.length>0)return e(t)},t[0]=e,t[1]=n):n=t[1],n}function m(e){var t=o("react-compiler-runtime").c(7),n=e.onAttachmentsAdded,a=e.supportedFileTypes,i=d(n),l=r("MessengerWebUXLogger").useInteractionLogger(),c=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),m;t[0]!==c||t[1]!==l?(m=function(t){return u.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,onClick:function(){l==null||l({eventName:"composer_open_file_picker",flowInstanceId:c}),t()},children:u.jsx(r("IGDSPhotoOutlineIcon.react"),{alt:s._(/*BTDS*/"Add Photo or Video"),color:"ig-primary-text"})})},t[0]=c,t[1]=l,t[2]=m):m=t[2];var p;return t[3]!==i||t[4]!==a||t[5]!==m?(p=u.jsx(r("BaseFileSelector.react"),{accept:a,multiple:!0,onFilesSelected:i,children:m}),t[3]=i,t[4]=a,t[5]=m,t[6]=p):p=t[6],p}l.default=m}),226);
__d("IGDComposerForCannes_Slide.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__IGDEnableOffMsysComposerQErelayprovider"}],kind:"Fragment",metadata:null,name:"IGDComposerForCannes_Slide",selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useIGDComposerBlockType_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"IGDComposerBlockForThreadOffMsys_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"useIGDShowCannesLeaveGroupDialog_XFBIGDirectViewerThread"},{condition:"__relay_internal__pv__IGDEnableOffMsysComposerQErelayprovider",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDOffMsysComposer_XFBIGDirectViewerThread"}],type:"XFBIGDirectViewerThread",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"viewer_thread_for_composer"}]}],storageKey:null}],type:"SlideThread",abstractKey:null};a.exports=e}),null);
__d("IGDOffMsysComposerInner_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDOffMsysComposerInner_XFBIGDirectViewerThread",selections:[{args:null,kind:"FragmentSpread",name:"IGDOffMsysComposerView_XFBIGDirectViewerThread"}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("IGDMediaStagingConstants",[],(function(t,n,r,o,a,i){"use strict";var e="IGDOffMsysComposer",l="igd",s=25;i.IGD_COMPOSER_OFF_MSYS_HANDLE_FILE_SELECT_ENTRYPOINT=e,i.IGD_HANDLE_FILE_SELECT_PLATFORM=l,i.IGD_DEFAULT_MAX_ATTACHMENT_SIZE_MB=s}),66);
__d("WmiHandleFileSelect",["GetAttachmentTypeFromFile","GetPreviewDimension","MWChatFileUploadErrorDialog.react","MWPAttachmentUploadQplFlow","Promise","WAResolvable","WmiMediaStagingTypes","WmiMediaUpload","asyncToGeneratorRuntime","emptyFunction","promiseDone","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a,i,l){return(e||(e=n("Promise"))).all(t.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e,n=r("uuidv4")(),s=yield o("GetAttachmentTypeFromFile").getAttachmenTypeFromFile(t),u=URL.createObjectURL(t),c=yield t.type.includes("video/")?o("GetPreviewDimension").getVideoPreviewDimensions(u):o("GetPreviewDimension").getPreviewDimensions(u),d={attachmentType:s,fbidResolvable:new(o("WAResolvable")).Resolvable,filename:o("WmiMediaStagingTypes").toFileName(t.name),filesize:t.size,isSent:!1,mimeType:t.type,offlineAttachmentId:o("WmiMediaStagingTypes").toOfflineAttachmentFbid(n),previewHeight:c==null?void 0:c.previewHeight,previewUrl:u,previewWidth:c==null?void 0:c.previewWidth,progress:0,threadFbid:a,uploadQplFlow:o("MWPAttachmentUploadQplFlow").startAttachmentUploadQplFlow({attachmentType:s,entryPoint:i,fileSize:t.size,platform:l})};return d});return function(t){return e.apply(this,arguments)}})()))}function u(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.size>t*1024*1024)return t}return null}function c(e,t,n,a,i,l,c,d,m,p){var _=m.onInvalidFileTypeCallback,f=m.onUploadFailureCallback,g=e.some(function(e){return e.type==="application/zip"||e.type==="application/x-zip-compressed"});if(g){_();return}if(p!=null){var h=p.maxFileSize,y=p.showErrorDialog,C=u(e,h);if(C!=null&&y!=null){y(o("MWChatFileUploadErrorDialog.react").maxFileSizeExceeded(C),r("emptyFunction"));return}}r("promiseDone")(s(e,t,c,d),function(t){return n(t),o("WmiMediaUpload").wmiUploadStagedMedia({files:e,getMediaStaging:i,mediaStagings:t,onUploadFailureCallback:f,removeMediaStaging:l,updatedMediaStaging:a})})}l.wmiHandleFileSelect=c}),98);
__d("useMediaStagingErrorCallbacks",["fbt","react-compiler-runtime","useIGDMediaMangerUploadFailedToast"],(function(t,n,r,o,a,i,l,s){"use strict";function e(){var e=o("react-compiler-runtime").c(2),t=r("useIGDMediaMangerUploadFailedToast")(),n;return e[0]!==t?(n={onInvalidFileTypeCallback:function(){t(s._(/*BTDS*/"_j[\"Invalid file format\",\"f90fb65f92ad8ac33f140b8be3c9eed1\",1]"),s._(/*BTDS*/"The file you have selected is not a valid format."))},onUploadFailureCallback:u},e[0]=t,e[1]=n):n=e[1],n}function u(){}l.useMediaStagingErrorCallbacks=e}),226);
__d("useMediaStagingForThread",["IGDMediaStagingContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useSyncExternalStore,m=[];function p(e){var t=o("react-compiler-runtime").c(6),n=c(o("IGDMediaStagingContext").IGDMediaStagingClientContext),r;t[0]!==n||t[1]!==e?(r=function(r){return n?n.subscribe(e,r):f},t[0]=n,t[1]=e,t[2]=r):r=t[2];var a=r,i;t[3]!==n||t[4]!==e?(i=function(){if(!n)return m;var t=n.getMediaStagingsForThread(e);return t.length===0?m:t},t[3]=n,t[4]=e,t[5]=i):i=t[5];var l=i;return d(a,l,_)}function _(){return m}function f(){}l.useMediaStagingForThread=p}),98);
__d("useMediaStagingManagerClient",["IGDMediaStagingContext","WmiMediaStagingTypes","react","react-compiler-runtime","useMediaStagingForThread"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useMemo;function d(e){var t=o("react-compiler-runtime").c(7),n=u(o("IGDMediaStagingContext").IGDMediaStagingClientContext),r=o("useMediaStagingForThread").useMediaStagingForThread(e),a;e:{if(!n){var i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={getMediaStaging:f,removeMediaStaging:_,setMediaStaging:p,updateMediaStaging:m},t[0]=i):i=t[0],a=i;break e}var l;t[1]!==n||t[2]!==e?(l={getMediaStaging:function(r){var t=o("WmiMediaStagingTypes").toOfflineAttachmentFbid(r);return n.getMediaStaging(e,t)},removeMediaStaging:function(r){var t=o("WmiMediaStagingTypes").toOfflineAttachmentFbid(r);n.removeMediaStaging(e,t)},setMediaStaging:function(r){n.setMediaStaging(e,r)},updateMediaStaging:function(r,o){n.updateMediaStaging(e,r,o)}},t[1]=n,t[2]=e,t[3]=l):l=t[3],a=l}var s=a,c;return t[4]!==s||t[5]!==r?(c=babelHelpers.extends({mediaStagings:r},s),t[4]=s,t[5]=r,t[6]=c):c=t[6],c}function m(){}function p(){}function _(){}function f(){return null}l.useMediaStagingManagerClient=d}),98);
__d("IGDComposerMediaStagingOffMsys.react",["fbt","BaseFileSelector.react","CometImage.react","FDSImageCover.react","IGDMediaStagingConstants","IGDSIconButton.react","IGDSMediaOutlineIcon.react","IGDSPhotoOutlineIcon.react","IGDSText.react","IGDSTooltip.react","IGDSXPanoFilledIcon.react","WmiHandleFileSelect","react","react-compiler-runtime","useCurrentDisplayMode","useMWXAlertDialog","useMediaStagingErrorCallbacks","useMediaStagingManagerClient"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useEffect,p=c.useState,_={stackingUploadButton:{height:"x1peatla",width:"x1fu8urw",$$css:!0},uploadButton:{backgroundColor:"x1a4onnt",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",height:"xnxb3zj",position:"x1n2onr6",width:"xo5x3gg",$$css:!0}},f=s._(/*BTDS*/"Remove attachment"),g=s._(/*BTDS*/"Upload another photo\/video"),h=s._(/*BTDS*/"Image cover for attached media"),y=s._(/*BTDS*/"File Icon for non photo\/video file");function C(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){var t=Array.from(n);t.length>0&&e(t)},t[0]=e,t[1]=n):n=t[1],n}function b(e){var t=o("react-compiler-runtime").c(16),n=e.isStacking,a=e.multiple,i=e.onAttachmentsAdded,l=e.supportedFileTypes,s=a===void 0?!0:a,c=C(i),d=p(!1),m=d[0],f=d[1],h=r("useCurrentDisplayMode")()==="dark",y;t[0]!==n?(y={0:{className:"x6s0dn4 x78zum5 xnxb3zj xl56j7k xr9ek0c x1sa5p1d xzueoph x7phf20 xo5x3gg"},1:{className:"x6s0dn4 x78zum5 xl56j7k x4465f1 x2x2exm x1gslohp x2fvf9 xat24cr x1lziwak x1wfjk5t"}}[(n===!0)<<0],t[0]=n,t[1]=y):y=t[1];var b=h?"primary":"black",v;t[2]!==n?(v=function(t){return u.jsx(r("IGDSIconButton.react"),{label:g,onClick:t,onHoverEnd:function(){return f(!1)},onHoverStart:function(){return f(!0)},xstyle:[_.uploadButton,n===!0&&_.stackingUploadButton],children:u.jsx(r("IGDSPhotoOutlineIcon.react"),{alt:g,color:"ig-primary-text"})})},t[2]=n,t[3]=v):v=t[3];var S;t[4]!==s||t[5]!==c||t[6]!==l||t[7]!==v?(S=u.jsx(r("BaseFileSelector.react"),{accept:l,multiple:s,onFilesSelected:c,children:v}),t[4]=s,t[5]=c,t[6]=l,t[7]=v,t[8]=S):S=t[8];var R;t[9]!==b||t[10]!==S||t[11]!==m?(R=u.jsx(r("IGDSTooltip.react"),{align:"middle",color:b,isVisible:m,position:"above",tooltip:g,children:S}),t[9]=b,t[10]=S,t[11]=m,t[12]=R):R=t[12];var L;return t[13]!==y||t[14]!==R?(L=u.jsx("div",babelHelpers.extends({},y,{children:R})),t[13]=y,t[14]=R,t[15]=L):L=t[15],L}function v(e){var t=o("react-compiler-runtime").c(17),n=e.isStacking,a=e.mediaStagingItem,i=e.onPress,l=r("useCurrentDisplayMode")()==="dark",c=p(!1),d=c[0],m=c[1],_;t[0]!==n?(_={0:{className:"x1euzuty x10l6tqk xtu2xtp"},1:{className:"x10l6tqk xtijo5x x13vifvy"}}[(n===!0)<<0],t[0]=n,t[1]=_):_=t[1];var g=l?"primary":"black",h;t[2]!==a.filename?(h=s._(/*BTDS*/"Remove attachment: {file-name}",[s._param("file-name",a.filename)]),t[2]=a.filename,t[3]=h):h=t[3];var y,C;t[4]===Symbol.for("react.memo_cache_sentinel")?(y=function(){return m(!1)},C=function(){return m(!0)},t[4]=y,t[5]=C):(y=t[4],C=t[5]);var b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b=u.jsx("div",{className:"x6s0dn4 xnz67gz x6zrd4h x1f58dfg x903dn5 xis42z1 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 x1qx5ct2 xl56j7k xw4jnvo x9ro6w8",children:u.jsx(r("IGDSXPanoFilledIcon.react"),{alt:f,size:9})}),t[6]=b):b=t[6];var v;t[7]!==i||t[8]!==h?(v=u.jsx(r("IGDSIconButton.react"),{label:h,onClick:i,onHoverEnd:y,onHoverStart:C,padding:0,children:b}),t[7]=i,t[8]=h,t[9]=v):v=t[9];var S;t[10]!==g||t[11]!==v||t[12]!==d?(S=u.jsx(r("IGDSTooltip.react"),{align:"middle",color:g,isVisible:d,position:"above",tooltip:f,children:v}),t[10]=g,t[11]=v,t[12]=d,t[13]=S):S=t[13];var R;return t[14]!==_||t[15]!==S?(R=u.jsx("div",babelHelpers.extends({},_,{children:S})),t[14]=_,t[15]=S,t[16]=R):R=t[16],R}var S=function(t){return t.mimeType==="image/gif"||t.mimeType==="image/webp"};function R(e){var t=o("react-compiler-runtime").c(17),n=e.mediaStagingItem,a=n.attachmentType,i=n.previewUrl,l=null,s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=[null],t[0]=s):s=t[0],m(k,s);var c=E,d=L;if(S(n)){if(i!=null){var p;return t[1]!==i?(p=u.jsx(r("FDSImageCover.react"),{alt:h,src:i}),t[1]=i,t[2]=p):p=t[2],p}}else if(a==="video"){if(i!=null){var _;t[3]===Symbol.for("react.memo_cache_sentinel")?(_={className:"xl1xv1r"},t[3]=_):_=t[3];var f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=function(t){return c("load-video-error",{string:{video_error_name:t.type}})},t[4]=f):f=t[4];var g;t[5]===Symbol.for("react.memo_cache_sentinel")?(g=u.jsx("track",{kind:"captions"}),t[5]=g):g=t[5];var y;t[6]!==i?(y=u.jsx("video",babelHelpers.extends({},_,{height:"70",onError:f,onLoadedData:d,src:i,width:"70",children:g})),t[6]=i,t[7]=y):y=t[7];var C;t[8]===Symbol.for("react.memo_cache_sentinel")?(C=u.jsx("div",{className:"xbudbmw x18xomjl x7wgvq7 x10l6tqk xwa60dl",children:u.jsx(r("CometImage.react"),{src:"/images/video/play_24dp.png"})}),t[8]=C):C=t[8];var b;return t[9]!==y?(b=u.jsxs(u.Fragment,{children:[y,C]}),t[9]=y,t[10]=b):b=t[10],b}}else if(a==="image"&&i!=null){var v;t[11]===Symbol.for("react.memo_cache_sentinel")?(v=function(){return c("load-image-error")},t[11]=v):v=t[11];var R;t[12]===Symbol.for("react.memo_cache_sentinel")?(R={userSelect:"none"},t[12]=R):R=t[12];var I;return t[13]!==i?(I=u.jsx(r("FDSImageCover.react"),{alt:"",onError:v,onLoad:d,src:i,style:R}),t[13]=i,t[14]=I):I=t[14],I}var D;return t[15]!==n?(D=u.jsx(T,{mediaRenderQpl:null,mediaStagingItem:n}),t[15]=n,t[16]=D):D=t[16],D}function L(){var e;(e=null)==null||e.endSuccessAfterDelay()}function E(e,t){var n;(n=null)==null||n.endFailAfterDelay(e,t)}function k(){var e;(e=null)==null||e.addPoint("staging-item-render")}function I(e){var t=o("react-compiler-runtime").c(24),n=e.isStacking,r=e.mediaStagingItem,a=e.onAttachmentRemoved,i;t[0]!==r.offlineAttachmentId||t[1]!==a?(i=function(){a(r.offlineAttachmentId)},t[0]=r.offlineAttachmentId,t[1]=a,t[2]=i):i=t[2];var l=i,s;t[3]!==r?(s=r.attachmentType!=="video"&&r.attachmentType!=="image"&&!S(r),t[3]=r,t[4]=s):s=t[4];var c=s,d;t[5]!==c||t[6]!==n?(d={0:{className:"x1c4vz4f x2lah0s xnxb3zj xr9ek0c x1sa5p1d xzueoph x7phf20 x1n2onr6 xo5x3gg"},2:{className:"x1c4vz4f x2lah0s xnxb3zj xr9ek0c x1sa5p1d xzueoph x7phf20 x1n2onr6 x2pejg6"},1:{className:"x1c4vz4f x2lah0s x1n2onr6 x4465f1 x2x2exm xr9ek0c xnnr8r xjpr12u xwklpps x1wfjk5t"},3:{className:"x1c4vz4f x2lah0s x1n2onr6 x4465f1 x2x2exm xr9ek0c xnnr8r xjpr12u xwklpps x1wfjk5t"}}[!!c<<1|(n===!0)<<0],t[5]=c,t[6]=n,t[7]=d):d=t[7];var m;t[8]!==c||t[9]!==n?(m={0:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xnxb3zj x6ikm8r x10wlt62 x1n2onr6 xo5x3gg"},2:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xnxb3zj x6ikm8r x10wlt62 x1n2onr6 x1ybostu x2pejg6"},1:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x1n2onr6 x1peatla x1fu8urw"},3:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x1n2onr6 x1ybostu x1peatla x1fu8urw"}}[!!c<<1|(n===!0)<<0],t[8]=c,t[9]=n,t[10]=m):m=t[10];var p;t[11]!==r?(p=u.jsx(R,{mediaStagingItem:r}),t[11]=r,t[12]=p):p=t[12];var _;t[13]!==m||t[14]!==p?(_=u.jsx("div",babelHelpers.extends({},m,{children:p})),t[13]=m,t[14]=p,t[15]=_):_=t[15];var f;t[16]!==n||t[17]!==r||t[18]!==l?(f=u.jsx(v,{isStacking:n,mediaStagingItem:r,onPress:l}),t[16]=n,t[17]=r,t[18]=l,t[19]=f):f=t[19];var g;return t[20]!==d||t[21]!==_||t[22]!==f?(g=u.jsxs("div",babelHelpers.extends({},d,{children:[_,f]})),t[20]=d,t[21]=_,t[22]=f,t[23]=g):g=t[23],g}function T(e){var t=o("react-compiler-runtime").c(8),n=e.mediaRenderQpl,a=e.mediaStagingItem,i,l;t[0]!==n?(i=function(){n==null||n.endSuccessAfterDelay()},l=[n],t[0]=n,t[1]=i,t[2]=l):(i=t[1],l=t[2]),m(i,l);var s,c,d;t[3]===Symbol.for("react.memo_cache_sentinel")?(s={className:"x6s0dn4 x78zum5 x1iorvi4 xjkvuk6 xmzvs34 xf159sx x87ps6o"},c=u.jsx(r("IGDSMediaOutlineIcon.react"),{alt:y}),d={className:"x1iyjqo2"},t[3]=s,t[4]=c,t[5]=d):(s=t[3],c=t[4],d=t[5]);var p;return t[6]!==a.filename?(p=u.jsxs("div",babelHelpers.extends({},s,{children:[c,u.jsx("div",babelHelpers.extends({},d,{children:u.jsxs(r("IGDSText.react"),{maxLines:2,weight:"light",zeroMargin:!1,children:[" ",a.filename," "]})}))]})),t[6]=a.filename,t[7]=p):p=t[7],p}function D(e){var t=o("react-compiler-runtime").c(25),n=e.hideUploadPlaceholder,a=e.isStacking,i=e.multiple,l=e.supportedFileTypes,s=e.threadId,c=n===void 0?!1:n,d=i===void 0?!0:i,m=o("useMediaStagingManagerClient").useMediaStagingManagerClient(s),p=m.getMediaStaging,_=m.mediaStagings,f=m.removeMediaStaging,g=m.setMediaStaging,h=m.updateMediaStaging,y;t[0]!==g?(y=function(t){for(var e of t)g(e)},t[0]=g,t[1]=y):y=t[1];var C=y,v;t[2]!==h?(v=function(t,n){h(t,n)},t[2]=h,t[3]=v):v=t[3];var S=v,R=_.filter(x),L=r("useMWXAlertDialog")(),E=o("useMediaStagingErrorCallbacks").useMediaStagingErrorCallbacks();if(R.length===0)return null;var k;t[4]!==a?(k={0:{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xpdmqnj x1g0dm76 x18d9i69 xh8yej3"},1:{className:"x6s0dn4 x9f619 x78zum5 x1nhvcw1 xw2csxc x18d9i69 x1a02dak xzueoph xoo30xy xyri2b x1c1uobl x1iorvi4 x1mk2rj3"}}[(a===!0)<<0],t[4]=a,t[5]=k):k=t[5];var T;t[6]!==C||t[7]!==E||t[8]!==p||t[9]!==c||t[10]!==a||t[11]!==d||t[12]!==f||t[13]!==L||t[14]!==l||t[15]!==s||t[16]!==S?(T=c?null:u.jsx(b,{isStacking:a,multiple:d,onAttachmentsAdded:function(t){o("WmiHandleFileSelect").wmiHandleFileSelect(t,s,C,S,p,f,o("IGDMediaStagingConstants").IGD_COMPOSER_OFF_MSYS_HANDLE_FILE_SELECT_ENTRYPOINT,o("IGDMediaStagingConstants").IGD_HANDLE_FILE_SELECT_PLATFORM,E,{maxFileSize:o("IGDMediaStagingConstants").IGD_DEFAULT_MAX_ATTACHMENT_SIZE_MB,showErrorDialog:L})},supportedFileTypes:l}),t[6]=C,t[7]=E,t[8]=p,t[9]=c,t[10]=a,t[11]=d,t[12]=f,t[13]=L,t[14]=l,t[15]=s,t[16]=S,t[17]=T):T=t[17];var D;t[18]!==a||t[19]!==f?(D=function(t){return u.jsx(I,{isStacking:a,mediaStagingItem:t,onAttachmentRemoved:f},t.offlineAttachmentId)},t[18]=a,t[19]=f,t[20]=D):D=t[20];var $=R.map(D),P;return t[21]!==k||t[22]!==T||t[23]!==$?(P=u.jsxs("div",babelHelpers.extends({},k,{children:[T,$]})),t[21]=k,t[22]=T,t[23]=$,t[24]=P):P=t[24],P}function x(e){return!e.isSent}l.default=D}),226);
__d("IGDComposerVoiceClipButton.react",["IGDSIconButton.react","IGDSMicrophonePanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","PolarisDirectStrings","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c={voiceClip:{paddingInlineEnd:"x1icxu4v",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(10),n=e.voiceRecorder,a=r("MessengerWebUXLogger").useInteractionLogger(),i=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),l;t[0]!==i?(l={eventName:"composer_audio_button_rendered",flowInstanceId:i},t[0]=i,t[1]=l):l=t[1];var u=r("MessengerWebUXLogger").useImpressionLoggerRef(l),d;t[2]!==i||t[3]!==a||t[4]!==n?(d=function(){navigator.mediaDevices&&r("promiseDone")(navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(e){n.start(e)})),a==null||a({eventName:"composer_record_audio",flowInstanceId:i})},t[2]=i,t[3]=a,t[4]=n,t[5]=d):d=t[5];var m=d,p;t[6]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(r("IGDSMicrophonePanoOutline24Icon.react"),{alt:o("PolarisDirectStrings").VOICE_CLIP_RECORDER_ICON_ALT_TEXT,color:"ig-primary-text",size:24}),t[6]=p):p=t[6];var _;return t[7]!==u||t[8]!==m?(_=s.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:u,onClick:m,xstyle:c.voiceClip,children:p}),t[7]=u,t[8]=m,t[9]=_):_=t[9],_}l.default=d}),98);
__d("IGDOffMsysComposerRichContentButton.react",["IGDComposerRichContentButtonPopoverTrigger.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.threadFbid,a;return t[0]!==n?(a=s.jsx(r("IGDComposerRichContentButtonPopoverTrigger.react"),{enableOffMsysComposer:!0,threadFbid:n}),t[0]=n,t[1]=a):a=t[1],a}l.default=u}),98);
__d("IGDOffMsysComposerView_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDOffMsysComposerView_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},{args:null,kind:"FragmentSpread",name:"IGDOffMsysMentionsPluginForLexical_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"useComposerFeatures_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"usePublishTypingIndicator_XFBIGDirectViewerThread"}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("IGDSUsersPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n,a,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M12.931 4.132a3.5 3.5 0 1 1 2.575 5.871h-.06M22 17.546v-.688A3.858 3.858 0 0 0 18.143 13h-3.64",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),a=s.jsx("path",{d:"M12.004 9.502a3.5 3.5 0 1 1-3.501-3.5 3.501 3.501 0 0 1 3.5 3.5Z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2"}),i=s.jsx("path",{d:"M14.997 20.546v-.687A3.858 3.858 0 0 0 11.139 16H5.858A3.858 3.858 0 0 0 2 19.859v.687",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),t[0]=n,t[1]=a,t[2]=i):(n=t[0],a=t[1],i=t[2]);var l;return t[3]!==e?(l=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a,i]})),t[3]=e,t[4]=l):l=t[4],l}var c=s.memo(u);l.default=c}),98);
__d("IGDComposerOffMsysMentionsViewItem.react",["fbt","CometSearchMentionsBaseViewItem.react","IGDSAvatar.react","IGDSBox.react","IGDSTextVariants.react","IGDSUsersPanoOutline24Icon.react","MWVerticalRhythm","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["entry"],u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(19),a,i;n[0]!==t?(a=t.entry,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=a,u=l.handle,d=l.label,m=l.rawData,p=m.profilePictureUrl,_=m.source,f=m.subtitle,g;n[3]!==p||n[4]!==_?(g=_==="all"?c.jsx(r("IGDSBox.react"),{alignItems:"center",height:44,justifyContent:"center",width:44,children:c.jsx(r("IGDSUsersPanoOutline24Icon.react"),{alt:s._(/*BTDS*/"Mention everyone")})}):c.jsx(r("IGDSAvatar.react"),{alt:s._(/*BTDS*/"Instagram Avatar Profile Picture"),size:"medium",src:p!=null?p:""}),n[3]=p,n[4]=_,n[5]=g):g=n[5];var h=g,y=_==="all"?f:d,C=y!=null&&y!==""&&y!==u,b;n[6]!==u?(b=c.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"primaryText",maxLines:1,zeroMargin:!1,children:u}),n[6]=u,n[7]=b):b=n[7];var v;n[8]!==y||n[9]!==C?(v=C&&c.jsxs(c.Fragment,{children:[c.jsx(r("MWVerticalRhythm"),{height:8}),c.jsx(o("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",maxLines:1,zeroMargin:!1,children:y})]}),n[8]=y,n[9]=C,n[10]=v):v=n[10];var S;n[11]!==b||n[12]!==v?(S=c.jsxs(r("IGDSBox.react"),{direction:"column",children:[b,v]}),n[11]=b,n[12]=v,n[13]=S):S=n[13];var R;return n[14]!==h||n[15]!==a||n[16]!==i||n[17]!==S?(R=c.jsx(r("CometSearchMentionsBaseViewItem.react"),babelHelpers.extends({},i,{entry:a,itemStartContent:h,children:S})),n[14]=h,n[15]=a,n[16]=i,n[17]=S,n[18]=R):R=n[18],R}l.default=d}),226);
__d("IGDMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(t,n,r,o,a,i,l){"use strict";var e=r("cometBaseMentionsLexicalCreateNodeStrategy")(function(e){return o("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:e.key,text:r("cometMentionsDataEntryText")(e)})}),s=e;l.default=s}),98);
__d("IGDOffMsysMentionsPluginForLexical_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"IGDOffMsysMentionsPluginForLexical_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{args:null,kind:"FragmentSpread",name:"useIGDOffMsysMentionCandidates_XFBIGDirectViewerThread"}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("IGDComposerTypeaheadUtil",["fbt","MWChatComposerMentionsUtils"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"everyone").toString();function u(t,n,r,a,i){var l=t.query,u=[],c=[];if(n.forEach(function(e){var t=e.id,n=e.isBlockedByViewer,r=e.nickname,a=e.primaryName,i=e.profilePictureUrl,s=e.secondaryName;if(!n){var c=null;if(s!=null&&o("MWChatComposerMentionsUtils").doesParticipantNameMatch(s,l)?c="secondaryName":o("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,l)?c="name":r!=null&&o("MWChatComposerMentionsUtils").doesParticipantNameMatch(r,l)&&(c="nickname"),c!=null&&i!=null){var d=s;d==null&&(d=s!=null?s:c==="nickname"&&r!=null?r:a),u.push({decorType:"regular",handle:d,key:t+" "+c,label:a,rawData:{profilePictureUrl:i,source:c,subtitle:s!=null?s:r},type:"entry"})}}}),o("MWChatComposerMentionsUtils").doesParticipantNameMatch(e,l)){var d=s._(/*BTDS*/"Mention everyone in this chat").toString();c.push({decorType:"regular",handle:e,key:""+r,label:e,rawData:{source:"all",subtitle:d},type:"entry"})}var m=[].concat(u.slice(0,i),c);return m.length<i&&a&&a(l,i-m.length),{entries:m,params:t}}l.fetchCacheComposerMentionsTypeahead=u}),226);
__d("IGDOffMsysComposerMentionsTypeaheadDataSource",["IGDComposerTypeaheadUtil","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=6,u=(function(){function t(e,t,n){this.$1=[],this.$1=e,this.$2=t,this.$3=n!=null?n:null}var r=t.prototype;return r.bootstrap=function(){},r.fetchCache=function(t){return o("IGDComposerTypeaheadUtil").fetchCacheComposerMentionsTypeahead(t,this.$1,this.$2,this.$3,s)},r.fetchNetwork=function(r){return(e||(e=n("Promise"))).resolve(this.fetchCache(r))},t})();l.default=u}),98);
__d("useIGDMentionsDataSourceResolverConfig",["IGDOffMsysComposerMentionsTypeaheadDataSource","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","react-compiler-runtime","useCometMentionsDataSourceResolverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e){var t=o("react-compiler-runtime").c(7),n=e.participants,a=e.threadFBID,i=e.triggerParticipantsSearch,l;t[0]!==n||t[1]!==a||t[2]!==i?(l=new(r("IGDOffMsysComposerMentionsTypeaheadDataSource"))(n,a,i),t[0]=n,t[1]=a,t[2]=i,t[3]=l):l=t[3];var s;t[4]===Symbol.for("react.memo_cache_sentinel")?(s=r("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0}),t[4]=s):s=t[4];var u;t[5]!==l?(u=[{dataSource:l,matchStrategy:s}],t[5]=l,t[6]=u):u=t[6];var c=u;return r("useCometMentionsDataSourceResolverConfig")(c,!0)}l.default=u}),98);
__d("useIGDOffMsysMentionCandidates_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIGDOffMsysMentionCandidates_XFBIGDirectViewerThread",selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useViewerThreadNicknames_XFBIGDirectViewerThread"}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("useViewerThreadNicknames_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"useViewerThreadNicknames_XFBIGDirectViewerThread",selections:[{alias:null,args:null,concreteType:"XFBIGDirectPostProcessorNickname",kind:"LinkedField",name:"nicknames",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"eimu_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null}],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("useViewerThreadNicknames",["CometRelay","react","react-compiler-runtime","useViewerThreadNicknames_XFBIGDirectViewerThread.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useMemo;function c(t){var r=o("react-compiler-runtime").c(2),a=o("CometRelay").useFragment(e!==void 0?e:e=n("useViewerThreadNicknames_XFBIGDirectViewerThread.graphql"),t),i=a==null?void 0:a.nicknames,l;if(r[0]!==i){if(l=new Map,i!=null)for(var s of i)(s==null?void 0:s.eimu_id)!=null&&(s==null?void 0:s.nickname)!=null&&l.set(s.eimu_id,s.nickname);r[0]=i,r[1]=l}else l=r[1];var u=l;return u}l.default=c}),98);
__d("useIGDOffMsysMentionCandidates",["CometRelay","react-compiler-runtime","useIGDOffMsysMentionCandidates_XFBIGDirectViewerThread.graphql","useViewerThreadNicknames"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var a=o("react-compiler-runtime").c(5),i=o("CometRelay").useFragment(e!==void 0?e:e=n("useIGDOffMsysMentionCandidates_XFBIGDirectViewerThread.graphql"),t),l=r("useViewerThreadNicknames")(i),s;if(a[0]!==i.users){var u;s=(u=i.users)!=null?u:[],a[0]=i.users,a[1]=s}else s=a[1];var c=s,d;a[2]!==l||a[3]!==c?(d=c.map(function(e){var t,n,r,o,a,i=l.get(e.id);return{id:e.interop_messaging_user_fbid,isBlockedByViewer:(t=(n=e.friendship_status)==null?void 0:n.blocking)!=null?t:!1,nickname:i,primaryName:(r=e.full_name)!=null?r:"",profilePictureUrl:(o=e.profile_pic_url)!=null?o:"",secondaryName:(a=e.username)!=null?a:""}}),a[2]=l,a[3]=c,a[4]=d):d=a[4];var m=d;return m}l.default=s}),98);
__d("IGDOffMsysMentionsPluginForLexical.react",["CometMentionsForLexical.react","CometRelay","IGDComposerOffMsysMentionsViewItem.react","IGDMentionsLayoutStrategy.react","IGDMentionsLexicalCreateNodeStrategy","IGDOffMsysMentionsPluginForLexical_XFBIGDirectViewerThread.graphql","IGDThreadListNewMessageLoggingDataContext","Lexical","MessengerWebUXLogger","react","react-compiler-runtime","useCometMentionsViewListStrategy","useIGDMentionsDataSourceResolverConfig","useIGDOffMsysMentionCandidates"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useMemo,p={root:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",marginTop:"xdj266r",marginBottom:"xat24cr",minWidth:"x1jzhcrs",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function _(t){var a=o("react-compiler-runtime").c(13),i=t.editor,l=t.viewerThreadData,s=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDOffMsysMentionsPluginForLexical_XFBIGDirectViewerThread.graphql"),l),c=s.thread_fbid,d=r("useIGDOffMsysMentionCandidates")(s),m;a[0]!==d||a[1]!==c?(m={participants:d,threadFBID:c},a[0]=d,a[1]=c,a[2]=m):m=a[2];var p=m,_=r("useIGDMentionsDataSourceResolverConfig")(p),h;a[3]===Symbol.for("react.memo_cache_sentinel")?(h={viewItemStrategyRenderer:g},a[3]=h):h=a[3];var y=r("useCometMentionsViewListStrategy")(h),C=r("MessengerWebUXLogger").useInteractionLogger(),b=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),v;a[4]!==i||a[5]!==b||a[6]!==C?(v=function(){C==null||C({eventName:"mentions_recipient_selected",flowInstanceId:b}),i.update(f)},a[4]=i,a[5]=b,a[6]=C,a[7]=v):v=a[7];var S=v,R;return a[8]!==_||a[9]!==i||a[10]!==S||a[11]!==y?(R=u.jsx(r("CometMentionsForLexical.react"),{createNodeStrategy:r("IGDMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:_,editor:i,layoutStrategyRenderer:r("IGDMentionsLayoutStrategy.react"),onMentionsEntrySelected:S,position:"above",viewStrategyRenderer:y}),a[8]=_,a[9]=i,a[10]=S,a[11]=y,a[12]=R):R=a[12],R}function f(){var e=o("Lexical").$getSelection();o("Lexical").$isRangeSelection(e)&&e.insertText(" ")}function g(e){return u.jsx(r("IGDComposerOffMsysMentionsViewItem.react"),babelHelpers.extends({},e,{xstyle:p.root}))}g.displayName=g.name+" [from "+i.id+"]",l.default=_}),98);
__d("useComposerFeatures_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"useComposerFeatures_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},{alias:null,args:null,concreteType:"XFBIGThreadCapabilitiesBitVector",kind:"LinkedField",name:"ig_thread_capabilities",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"capabilities_0",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"capabilities_1",storageKey:null}],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("useComposerFeatures",["CometRelay","IGDThreadCapabilitiesUtils","PolarisUA","qex","react-compiler-runtime","useComposerFeatures_XFBIGDirectViewerThread.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return e>=o("IGDThreadCapabilitiesUtils").MAX_SUPPORTED_THREAD_CAPABILITY_OFFSET?(o("IGDThreadCapabilitiesUtils").reportOutOfBoundBitOffset(o("IGDThreadCapabilitiesUtils").MAX_SUPPORTED_THREAD_CAPABILITY_OFFSET,e),!1):e>=64?o("IGDThreadCapabilitiesUtils").checkCapability1(e,n):o("IGDThreadCapabilitiesUtils").checkCapability0(e,t)}function u(t,a){var i=o("react-compiler-runtime").c(34),l=o("CometRelay").useFragment(e!==void 0?e:e=n("useComposerFeatures_XFBIGDirectViewerThread.graphql"),a),u;i[0]===Symbol.for("react.memo_cache_sentinel")?(u=o("PolarisUA").isMobile(),i[0]=u):u=i[0];var c=u,d=l.is_group,m=l.ig_thread_capabilities.capabilities_0,p=l.ig_thread_capabilities.capabilities_1,_=t==="IG_AI_BOT_ONE_TO_ONE",f;i[1]!==m||i[2]!==p?(f=(!c||r("qex")._("443")===!0)&&s(56,m,p),i[1]=m,i[2]=p,i[3]=f):f=i[3];var g=f,h;i[4]!==m||i[5]!==p?(h=s(55,m,p),i[4]=m,i[5]=p,i[6]=h):h=i[6];var y=h,C;i[7]!==m||i[8]!==p?(C=s(60,m,p),i[7]=m,i[8]=p,i[9]=C):C=i[9];var b=C,v;i[10]!==b?(v=b&&r("qex")._("4")===!0,i[10]=b,i[11]=v):v=i[11];var S=v,R;i[12]===Symbol.for("react.memo_cache_sentinel")?(R=r("qex")._("499"),i[12]=R):R=i[12];var L=R===!0,E;i[13]!==m||i[14]!==p?(E=s(57,m,p),i[13]=m,i[14]=p,i[15]=E):E=i[15];var k=E,I;i[16]!==m||i[17]!==p?(I=s(58,m,p),i[16]=m,i[17]=p,i[18]=I):I=i[18];var T=I,D=k&&T&&!_,x=d,$;i[19]!==m||i[20]!==p?($=s(42,m,p),i[19]=m,i[20]=p,i[21]=$):$=i[21];var P=$,N=!_&&!c,M;if(i[22]===Symbol.for("react.memo_cache_sentinel")){var w;M=!c&&((w=r("qex")._("1358"))!=null?w:!1),i[22]=M}else M=i[22];var A=M,F;return i[23]!==N||i[24]!==g||i[25]!==y||i[26]!==P||i[27]!==_||i[28]!==d||i[29]!==b||i[30]!==x||i[31]!==S||i[32]!==D?(F={crossAppSavesEnabled:L,emojisSupported:N,enableVoiceClip:g,filePickerEnabled:y,hotlikeStickerEnabled:P,isAiThread:_,isGroupThread:d,mediaPickerEnabled:b,mentionsEnabled:x,metaMediaCloudEnabled:S,pollCreationEnabled:!1,richContentEnabled:D,savedReplyEnabled:A},i[23]=N,i[24]=g,i[25]=y,i[26]=P,i[27]=_,i[28]=d,i[29]=b,i[30]=x,i[31]=S,i[32]=D,i[33]=F):F=i[33],F}l.default=u}),98);
__d("IGDMessageState",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1=new Map}var t=e.prototype;return t.addMessageDraftStateForThread=function(t,n){var e={text:n};this.$1.set(t,e)},t.maybeGetMessageDraftForThread=function(t){return this.$1.get(t)},t.removeMessageDraftStateForThread=function(t){this.$1.delete(t)},e})(),l;function s(){return l==null&&(l=new e),l}i.getOrInitMessageStateHandler=s}),66);
__d("MAWSecureComposerText",["Lexical","LexicalText","MAWJids","MessengerLexicalActorNode","MessengerLexicalEntityTextNode"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.read(function(){var e=o("Lexical").$getRoot().getFirstChild();return e instanceof o("Lexical").ElementNode?e.getChildren().reduce(function(e,t){var n=o("MessengerLexicalActorNode").$isMessengerLexicalActorNode(t)&&t.getRangeType()==="t";if(o("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(t)&&!n){var r=t.getEntity();return e+("@"+o("MAWJids").toUserJid(r.id))}return e+t.getTextContent()},""):o("LexicalText").$rootTextContent()})}l.getTextFromEditorState=e}),98);
__d("useIGDDraftMessages",["IGDMAPIInterfaceTypes","IGDMessageState","Lexical","MAWSecureComposerText","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e,t){var n=o("react-compiler-runtime").c(4),r,a;n[0]!==t||n[1]!==e?(r=function(){var n=o("IGDMessageState").getOrInitMessageStateHandler(),r=n.maybeGetMessageDraftForThread(e);if(r!=null&&r.text!=null){var a=r.text;n.removeMessageDraftStateForThread(e),t.focus(function(){t.update(function(){var e=o("Lexical").$createTextNode(a);o("Lexical").$insertNodes([e])})})}return(function(){var r=t.getEditorState(),a=o("MAWSecureComposerText").getTextFromEditorState(r);n.addMessageDraftStateForThread(e,o("IGDMAPIInterfaceTypes").toMessage(a))})},a=[e,t],n[0]=t,n[1]=e,n[2]=r,n[3]=a):(r=n[2],a=n[3]),s(r,a)}l.useIGDDraftMessage=u}),98);
__d("useIGDOffMsysComposerAutoFocus",["IGDReplyContext.react","IGDThreadlineContext","MWPReplyContext.react","deepEquals","react","react-compiler-runtime","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect;function d(e){return e.focus(function(){})}function m(e){var t=o("react-compiler-runtime").c(15),n=e.editor,a=e.hasUnsentAttachments,i=a===void 0?!1:a,l=o("IGDReplyContext.react").useIGDReplyContext(),s=r("usePrevious")(l),m=u(o("MWPReplyContext.react").MWPReplyContext),p=m.reply,_=r("usePrevious")(p),f=u(o("IGDThreadlineContext").ThreadlineShouldShowContext),g=f.shouldShowThreadline,h,y;t[0]!==n||t[1]!==p||t[2]!==_||t[3]!==s||t[4]!==l||t[5]!==g?(h=function(){if(!g){var e=s==null?l!=null:!r("deepEquals")(s,l),t=_==null?p!=null:!r("deepEquals")(_,p);(e||t)&&d(n)}},y=[n,l,s,p,_,g],t[0]=n,t[1]=p,t[2]=_,t[3]=s,t[4]=l,t[5]=g,t[6]=h,t[7]=y):(h=t[6],y=t[7]),c(h,y);var C,b;t[8]!==n||t[9]!==i?(C=function(){i&&d(n)},b=[n,i],t[8]=n,t[9]=i,t[10]=C,t[11]=b):(C=t[10],b=t[11]),c(C,b);var v,S;t[12]!==n?(v=function(){d(n)},S=[n],t[12]=n,t[13]=v,t[14]=S):(v=t[13],S=t[14]),c(v,S)}l.default=m}),98);
__d("IGDCreateOptimisticLSAttachment",["I64","LSAuthorityLevel","LSIntEnum","MNLSXMALayoutType","MNLSXMATemplateType","MessagingAttachmentType"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=t.attachmentSubtitle,a=t.attachmentTitle,i=t.attachmentType,l=t.attachmentUrl,u=t.height,c=t.isSticker,d=t.offlineThreadingId,m=t.stickerType,p=t.threadKey,_=t.timestamp,f=t.width,g=(e||(e=o("I64"))).of_float(_),h=d,y={attachmentFbid:h,attachmentIndex:e.zero,attachmentType:(s||(s=o("LSIntEnum"))).ofNumber(i),authorityLevel:s.ofNumber(r("LSAuthorityLevel").OPTIMISTIC),hasMedia:!1,hasXma:!1,imageUrl:l,isSharable:!1,messageId:h,playableUrl:l,previewHeight:u,previewUrl:l,previewUrlFallback:l,previewWidth:f,threadKey:p,timestampMs:g,transportKey:"FBBroker"};switch(m){case"cutout_sticker":return babelHelpers.extends({},y,{hasXma:!0,stickerType:"cutout_sticker",xmaLayoutType:(s||(s=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").SINGLE),xmasTemplateType:(s||(s=o("LSIntEnum"))).ofNumber(r("MNLSXMATemplateType").GENERIC_SHARE)});case"first_party_sticker":return babelHelpers.extends({},y,{hasMedia:!0});case"avatar_sticker":return babelHelpers.extends({},y,{hasXma:!0,stickerType:"avatar_sticker",xmaLayoutType:(s||(s=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").SINGLE),xmasTemplateType:(s||(s=o("LSIntEnum"))).ofNumber(r("MNLSXMATemplateType").GENERIC_SHARE)});case"third_party":return babelHelpers.extends({},y,{hasMedia:!1,playableUrlMimeType:c===!0?"image/gif":"image/jpeg"});case"music_sticker":return babelHelpers.extends({},y,{hasXma:!0,stickerType:"music_sticker",subtitleText:n,titleText:a,xmaLayoutType:(s||(s=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").SINGLE),xmasTemplateType:(s||(s=o("LSIntEnum"))).ofNumber(r("MNLSXMATemplateType").GENERIC_SHARE)})}}function c(t){var n,a=t.duration,i=t.offlineAttachmentId,l=t.offlineThreadingId,u=t.threadKey,c=t.timestamp,d=t.voiceClipWaveformData;return{attachmentFbid:i,attachmentIndex:(e||(e=o("I64"))).zero,attachmentType:e.of_int32(r("MessagingAttachmentType").AUDIO),authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),hasMedia:!0,hasXma:!1,isSharable:!1,messageId:l,offlineAttachmentId:i,playableDurationMs:a!=null?(e||(e=o("I64"))).of_float(a*1e3):void 0,samplingFrequencyHz:d!=null?(e||(e=o("I64"))).of_float(d==null?void 0:d.sampling_freq):void 0,threadKey:u,timestampMs:e.of_float(c),waveformData:(n=d==null?void 0:d.amplitudes.join(","))!=null?n:void 0}}function d(t){var n,a,i,l=t.duration,u=t.mediaStaging,c=t.offlineThreadingId,d=t.threadKey,m=t.timestamp;return{attachmentFbid:u.offlineAttachmentId,attachmentIndex:(e||(e=o("I64"))).zero,attachmentType:u.attachmentType==="image"?(e||(e=o("I64"))).of_int32(r("MessagingAttachmentType").IMAGE):(e||(e=o("I64"))).of_int32(r("MessagingAttachmentType").VIDEO),authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),hasMedia:!0,hasXma:!1,isSharable:!1,messageId:c,offlineAttachmentId:u.offlineAttachmentId,playableDurationMs:l!=null?(e||(e=o("I64"))).of_float(l*1e3):void 0,playableUrl:(n=u==null?void 0:u.previewUrl)!=null?n:void 0,previewHeight:(u==null?void 0:u.previewHeight)!=null?(e||(e=o("I64"))).of_int32(u.previewHeight):void 0,previewUrl:(a=u==null?void 0:u.previewUrl)!=null?a:void 0,previewUrlMimeType:(i=u==null?void 0:u.mimeType)!=null?i:void 0,previewWidth:(u==null?void 0:u.previewWidth)!=null?(e||(e=o("I64"))).of_int32(u.previewWidth):void 0,threadKey:d,timestampMs:e.of_float(m)}}l.createLSOptimisticXMAAttachment=u,l.createLSOptimisticVoiceClipAttachment=c,l.createLSOptimisticMediaAttachment=d}),98);
__d("IGDSetSlideMessageErrorStatus",["IGDGetSlideMessage"],(function(t,n,r,o,a,i,l){"use strict";function e(e){e.environment.commitUpdate(function(t){var n="mid.$"+e.offlineThreadingId,r=t.get(o("IGDGetSlideMessage").GetSlideMessageDataID(n));r==null||r.setValue("ERROR","client__send_status")})}l.default=e}),98);
__d("IGDWriteOptimisticLSErrorMessage",["I64","LSDatabaseSingleton","LSIntEnum","LSMessageSendStatus","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t,n){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,l){var c=yield(e||(e=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue(),d=(s||(s=o("I64"))).of_float(l),m=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(c.tables.messages).getKeyRange(a,d,t));if(m!=null){var p=babelHelpers.extends({},m,{sendStatus:(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSendStatus").NON_RETRIABLE_ERROR),sendStatusV2:u.ofNumber(4)});return c.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield e.messages.put(p)});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":51")}}),d.apply(this,arguments)}l.default=c}),98);
__d("IGDCreateOptimisticLSMessage",["fbt","EntMessageReplyType","I64","LSAuthorityLevel","LSIntEnum","LSMessageHiddenState","LSMessageRenderingType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessageSendStatus","LSQuickReplyType","LSReplyMessageStatus","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u;function c(e){return s._(/*BTDS*/"You replied to {username}",[s._param("username",e)])}function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.db,l=t.displayedContentType,d=t.offlineThreadingId,m=t.reply,p=t.senderId,_=t.text,f=t.threadKey,g=t.timestampMs,h={authorityLevel:(e||(e=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),displayedContentTypes:l,hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageHiddenState:e.ofNumber(r("LSMessageHiddenState").NOT_HIDDEN),messageId:d,messageRenderingType:e.ofNumber(r("LSMessageRenderingType").DEFAULT),offlineThreadingId:d,primarySortKey:g,quickReplyType:e.ofNumber(r("LSQuickReplyType").NONE),replyMessageHiddenState:e.ofNumber(r("LSMessageHiddenState").NOT_HIDDEN),senderId:p,sendStatus:e.ofNumber(r("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:e.ofNumber(1),text:_,textHasLinks:!1,threadKey:f,timestampMs:g,transportKey:"FBBroker",viewFlags:e.ofNumber(0)};if(m!=null){var y=yield a.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("messageId")).getKeyRange(m.messageId)),n=t!=null?yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(t==null?void 0:t.senderId)):null;return{recipientName:n!=null&&(u||(u=o("I64"))).equal(n==null?void 0:n.id,p)?"yourself":n==null?void 0:n.name,replyMessageText:t==null?void 0:t.text}});return function(t){return e.apply(this,arguments)}})(),"readonly",void 0,void 0,i.id+":84"),C=y.recipientName,b=y.replyMessageText;h=babelHelpers.extends({},h,{replyMessageText:b,replySnippet:C!=null?c(C).toString():s._(/*BTDS*/"You replied to Instagram User").toString(),replySourceId:m.messageId,replySourceType:(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE),replySourceTypeV2:e.ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE),replyStatus:e.ofNumber(r("LSReplyMessageStatus").VALID),replyToUserId:f,replyType:e.ofNumber(r("EntMessageReplyType").REGULAR)})}return h}),m.apply(this,arguments)}l.createOptimisticLSMessage=d}),226);
__d("IGDWriteOptimisticLSMessage",["I64","IGDCreateOptimisticLSMessage","LSDatabaseSingleton","LSIntEnum","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=t.attachment,a=t.messageArgs,l=yield(e||(e=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue(),c=a.message,d=a.offlineThreadingId,m=a.reply,p=a.senderId,_=a.threadKey,f=a.timestampMs,g=a.type,h=(s||(s=o("LSIntEnum"))).ofNumber(g),y=c!=null?c:void 0,C=yield o("IGDCreateOptimisticLSMessage").createOptimisticLSMessage({db:l,displayedContentType:h,offlineThreadingId:d,reply:m,senderId:p,text:y,threadKey:_,timestampMs:(u||(u=o("I64"))).of_float(f)});return l.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield e.messages.put(C),r!=null&&(yield e.attachments.put(r))});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":64")}),d.apply(this,arguments)}l.writeOptimisticLSMessageWithAttachments=c}),98);
__d("IGDMAPISendMediaMessage",["IGDCreateOptimisticLSAttachment","IGDMAPIQPLPoints","IGDMessageSendService","IGDSetSlideMessageErrorStatus","IGDWriteOptimisticLSErrorMessage","IGDWriteOptimisticLSMessage","IGDWriteOptimisticRelayMessage","QPLFlow","WAMediaQplHelper","asyncToGeneratorRuntime","createIGDMessageSendContext","createOptimisticImageSlideMessage","createOptimisticVideoSlideMessage","getSafeQplErrorMessage","qex","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=r("createIGDMessageSendContext")(e),i=o("QPLFlow").startQPLFlow(r("qpl")._(354954279,"1622"),{annotations:{int:{file_size:t.mediaStaging.filesize},string:{attachment_type:t.mediaStaging.attachmentType,file_size_bucket:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(t.mediaStaging.filesize),mimeType:t.mediaStaging.mimeType,type:o("IGDMAPIQPLPoints").IGDMAPIQPLSendType.MEDIA}},instanceKey:a.instanceKey}),l=t.repliedMessageContent,s=l!=null?l.messageId:null;i.addAnnotations({bool:{hasReply:s!=null}});try{if(r("qex")._("2197")){var u,c,d;i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.OPTIMISTIC_WRITE_START);var m={offlineThreadingId:a.offlineThreadingId,optimisticMessageId:a.optimisticMessageId,repliedToMessageId:s,senderFbid:t.senderId,threadFbid:t.threadId,timestampMs:a.timestamp.toString()},p={height:(u=t.mediaStaging.previewHeight)!=null?u:0,url:(c=t.mediaStaging.previewUrl)!=null?c:"",width:(d=t.mediaStaging.previewWidth)!=null?d:0},_=t.mediaStaging.attachmentType==="video"?r("createOptimisticVideoSlideMessage")(babelHelpers.extends({},m,{video:p})):r("createOptimisticImageSlideMessage")(babelHelpers.extends({},m,{image:p}));r("IGDWriteOptimisticRelayMessage")(e,_),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.OPTIMISTIC_WRITE_END)}else if(n!=null){i.addAnnotations({bool:{hasLSOptimisticMessage:!0}}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_START);var f=o("IGDCreateOptimisticLSAttachment").createLSOptimisticMediaAttachment({mediaStaging:t.mediaStaging,offlineThreadingId:a.offlineThreadingId,senderId:n==null?void 0:n.senderId,threadKey:n.threadKey,timestamp:a.timestamp});yield o("IGDWriteOptimisticLSMessage").writeOptimisticLSMessageWithAttachments({attachment:f,messageArgs:babelHelpers.extends({offlineThreadingId:a.offlineThreadingId},n,{timestampMs:a.timestamp,type:2})}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_END)}i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_START);var g=o("IGDMessageSendService").makeMessagePublishService();i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_END),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_START);var h={attachment_fbid:null,offline_threading_id:a.offlineThreadingId,reply_to_message_id:s,thread_id:t.threadId},y={variables:h};yield g.publish({commitMutationConfig:y,mediaStaging:t.mediaStaging,type:"media"},a,i),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_END),i.endSuccess()}catch(e){r("IGDSetSlideMessageErrorStatus")(a),n!=null&&(i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_START),yield r("IGDWriteOptimisticLSErrorMessage")(a.offlineThreadingId,n.threadKey,a.timestamp),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_END)),i.endFail("runtime-error",{string:{error:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})}}),s.apply(this,arguments)}l.IGDMAPISendMediaMessage=e}),98);
__d("IGDMAPISendTextMessage",["IGDMAPIQPLPoints","IGDMessageSendService","IGDSetSlideMessageErrorStatus","IGDWriteOptimisticLSErrorMessage","IGDWriteOptimisticLSMessage","IGDWriteOptimisticRelayMessage","QPLFlow","asyncToGeneratorRuntime","createIGDMessageSendContext","createOptimisticTextSlideMessage","getSafeQplErrorMessage","qex","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){var i,l,s=r("createIGDMessageSendContext")(e),u=(i=a==null?void 0:a.instanceKey)!=null?i:s.instanceKey,c=o("QPLFlow").startQPLFlow(r("qpl")._(354954279,"1622"),babelHelpers.extends({},a,{annotations:babelHelpers.extends({},a==null?void 0:a.annotations,{string:babelHelpers.extends({},a==null||(l=a.annotations)==null?void 0:l.string,{type:o("IGDMAPIQPLPoints").IGDMAPIQPLSendType.TEXT})}),instanceKey:u})),d=o("QPLFlow").startQPLFlow(r("qpl")._(25313175,"1551"),{annotations:{bool:{off_msys_composer:!0},string:{attachment_type:"none",entrypoint:"MESSENGER_INBOX_IN_THREAD",message_type:"text",type:o("IGDMAPIQPLPoints").IGDMAPIQPLSendType.TEXT}},instanceKey:s.s2sInstanceKey}),m=babelHelpers.extends({},s,{s2sFlow:d});try{var p=t.repliedMessageContent,_=p!=null?p.messageId:null;c.addAnnotations({bool:{hasCommands:t.commands!=null,hasMentions:t.mentions!=null,hasReply:_!=null}}),d.addAnnotations({bool:{hasCommands:t.commands!=null,hasMentions:t.mentions!=null,hasReply:_!=null}});var f={commands:t.commands,ig_thread_igid:t.threadId,mentioned_user_ids:t.mentionedUserIds,mentions:t.mentions,offline_threading_id:m.offlineThreadingId,replied_to_item_id:t.repliedToItemId!=null?t.repliedToItemId:null,reply_to_message_id:_,text:{sensitive_string_value:t.text}},g={variables:f};if(r("qex")._("2197")){var h,y;c.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.OPTIMISTIC_WRITE_START),d.addPoint("create_igd_relay_optimistic_message");var C=r("createOptimisticTextSlideMessage")({offlineThreadingId:m.offlineThreadingId,optimisticMessageId:m.optimisticMessageId,repliedToMessageId:((h=t.repliedMessageContent)==null?void 0:h.messageId)!=null?(y=t.repliedMessageContent)==null?void 0:y.messageId:null,senderFbid:t.senderId,text:t.text,threadFbid:t.threadId,timestampMs:m.timestamp.toString()});r("IGDWriteOptimisticRelayMessage")(e,C),c.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.OPTIMISTIC_WRITE_END)}else n!=null&&(d.addPoint("create_optimistic_message_start"),c.addAnnotations({bool:{hasLSOptimisticMessage:!0}}),c.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_START),yield o("IGDWriteOptimisticLSMessage").writeOptimisticLSMessageWithAttachments({attachment:void 0,messageArgs:babelHelpers.extends({message:t.text,offlineThreadingId:m.offlineThreadingId},n,{timestampMs:m.timestamp,type:1})}),c.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_END),d.addPoint("create_optimistic_message_end"));c.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_START);var b=o("IGDMessageSendService").makeMessagePublishService();c.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_END),c.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_START),yield b.publish({commitMutationConfig:g,type:"text"},m,c),c.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_END),c.endSuccess(),d.endSuccess()}catch(e){r("IGDSetSlideMessageErrorStatus")(m),n!=null&&(c.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_START),d.addPoint("create_optimistic_message_fail"),yield r("IGDWriteOptimisticLSErrorMessage")(m.offlineThreadingId,n.threadKey,m.timestamp),c.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_END)),c.endFail("runtime-error",{string:{error:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}}),d.endFail("runtime-failure",{string:{error:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})}}),s.apply(this,arguments)}l.IGDMAPISendTextMessage=e}),98);
__d("IGDMAPISendVoiceClip",["IGDCreateOptimisticLSAttachment","IGDMAPIQPLPoints","IGDMessageSendService","IGDSetSlideMessageErrorStatus","IGDWriteOptimisticLSErrorMessage","IGDWriteOptimisticLSMessage","IGDWriteOptimisticRelayMessage","QPLFlow","WAMediaQplHelper","asyncToGeneratorRuntime","createIGDMessageSendContext","createOptimisticAudioSlideMessage","getSafeQplErrorMessage","qex","qpl","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=r("createIGDMessageSendContext")(e),i=o("QPLFlow").startQPLFlow(r("qpl")._(354954279,"1622"),{annotations:{int:{file_size:t.file.size},string:{attachment_type:"audio",file_size_bucket:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(t.file.size),mimeType:t.file.type,type:o("IGDMAPIQPLPoints").IGDMAPIQPLSendType.AUDIO}},instanceKey:a.instanceKey});try{var l;if(r("qex")._("2197")){var s,u;i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.OPTIMISTIC_WRITE_START);var c=r("createOptimisticAudioSlideMessage")({audioAttachment:{file:t.file,playableDurationMs:t.duration*1e3,waveformData:[].concat(t.amplitudes)},offlineThreadingId:a.offlineThreadingId,optimisticMessageId:a.optimisticMessageId,repliedToMessageId:((s=t.repliedMessageContent)==null?void 0:s.messageId)!=null?(u=t.repliedMessageContent)==null?void 0:u.messageId:null,senderFbid:t.senderId,threadFbid:t.threadId,timestampMs:a.timestamp.toString()});r("IGDWriteOptimisticRelayMessage")(e,c),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.OPTIMISTIC_WRITE_END)}else if(n!=null){i.addAnnotations({bool:{hasLSOptimisticMessage:!0}}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_START);var d=o("IGDCreateOptimisticLSAttachment").createLSOptimisticVoiceClipAttachment({duration:t.duration,offlineAttachmentId:r("uuidv4")(),offlineThreadingId:a.offlineThreadingId,senderId:n==null?void 0:n.senderId,threadKey:n.threadKey,timestamp:a.timestamp,voiceClipWaveformData:{amplitudes:t.amplitudes,sampling_freq:t.sampling_freq}});yield o("IGDWriteOptimisticLSMessage").writeOptimisticLSMessageWithAttachments({attachment:d,messageArgs:babelHelpers.extends({offlineThreadingId:a.offlineThreadingId},n,{timestampMs:a.timestamp,type:4})}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_END)}i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_START);var m=o("IGDMessageSendService").makeMessagePublishService();i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_END),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_START);var p={attachment_fbid:null,offline_threading_id:a.offlineThreadingId,reply_to_message_id:(l=t.repliedMessageContent)==null?void 0:l.messageId,thread_id:t.threadId},_={variables:p};yield m.publish({amplitudes:t.amplitudes,commitMutationConfig:_,file:t.file,sampling_freq:t.sampling_freq,type:"audio"},a,i),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_END),i.endSuccess()}catch(e){r("IGDSetSlideMessageErrorStatus")(a),n!=null&&(i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_START),yield r("IGDWriteOptimisticLSErrorMessage")(a.offlineThreadingId,n.threadKey,a.timestamp),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_END)),i.endFail("runtime-error",{string:{error:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})}}),s.apply(this,arguments)}l.IGDMAPISendVoiceClip=e}),98);
__d("IGDTransformReplyContext",["IGDMAPIInterfaceTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e!=null)return{isReported:e.isReported||!1,messageId:o("IGDMAPIInterfaceTypes").toMessageId(e.messageId),textBody:e.text!=null?o("IGDMAPIInterfaceTypes").toMessage(e.text):null}}l.transformLSRepliedMessageContent=e}),98);
__d("IGDRepliedMessageContext",["IGDTransformReplyContext"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){if(e!=null)return e;if(t!=null)return o("IGDTransformReplyContext").transformLSRepliedMessageContent(t)}l.getRepliedMessageContent=e}),98);
__d("useIGDOffMsysComposerSend",["IGDMAPIInterfaceTypes","IGDMAPISendMediaMessage","IGDMAPISendTextMessage","IGDMAPISendVoiceClip","IGDRepliedMessageContext","LexicalText","MWV2ChatComposerGetViewContent","Promise","promiseDone","react-compiler-runtime","useMWXComposerClearAndSendOnEnter"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a){var i=o("react-compiler-runtime").c(32),l=t.afterSendMessage,s=t.clearReply,m=t.editor,p=t.environment,_=t.isVoiceRecorderOpen,f=t.mediaStagings,g=t.removeMediaStaging,h=t.reply,y=t.senderId,C=t.threadFbid,b=t.threadId,v=t.threadSubtype,S=t.unsentMediaStagings,R=t.updateMediaStaging,L=t.voiceRecorder,E=a.actor,k=a.lsClearReply,I=a.lsReply,T=a.threadKey,D;if(i[0]!==I||i[1]!==h||i[2]!==C){var x,$,P,N=(h==null?void 0:h.message)!=null&&C===h.message.thread_fbid?{isReported:(x=h.message.is_reported)!=null?x:!1,messageId:o("IGDMAPIInterfaceTypes").toMessageId(h.message.message_id),textBody:(($=h.message.content)==null?void 0:$.text_body)!=null?o("IGDMAPIInterfaceTypes").toMessage((P=h.message.content)==null?void 0:P.text_body):null}:null;D=o("IGDRepliedMessageContext").getRepliedMessageContent(N,I),i[0]=I,i[1]=h,i[2]=C,i[3]=D}else D=i[3];var M=D,w;i[4]!==s||i[5]!==k||i[6]!==T?(w=function(){s(),k(T,!1)},i[4]=s,i[5]=k,i[6]=T,i[7]=w):w=i[7];var A;i[8]!==E||i[9]!==l||i[10]!==m||i[11]!==p||i[12]!==_||i[13]!==I||i[14]!==f||i[15]!==g||i[16]!==M||i[17]!==y||i[18]!==C||i[19]!==b||i[20]!==T||i[21]!==v||i[22]!==S||i[23]!==R||i[24]!==L?(A=function(){var t=[],a=u(m.getEditorState()),i=r("MWV2ChatComposerGetViewContent").getRanges(m);if(a!=null&&a!==""){var s,h=d(C,i),k=h.commands,D=h.mentionedUserIds,x=h.mentions;t.push(o("IGDMAPISendTextMessage").IGDMAPISendTextMessage(p,{commands:k,forwardedFromThreadId:null,mentionedUserIds:D,mentions:x,repliedMessageContent:M,repliedToItemId:null,senderId:o("IGDMAPIInterfaceTypes").toSenderId(y),text:o("IGDMAPIInterfaceTypes").toMessage(a),threadId:b},{reply:I,senderId:E,threadKey:T},{annotations:{int:{message_text_length:(s=a==null?void 0:a.length)!=null?s:0},string:{threadType:v}}}))}return f.length>0&&(t=t.concat(c({environment:p,removeMediaStaging:g,senderId:y,threadId:b,unsentMediaStagings:S,updateMediaStaging:R},{actor:E,lsReply:I,threadKey:T},M))),_&&(t=t.concat([L.getVoiceClip().then(function(e){return L.reset(),o("IGDMAPISendVoiceClip").IGDMAPISendVoiceClip(p,babelHelpers.extends({duration:e.duration,file:e.file,repliedMessageContent:M,senderId:o("IGDMAPIInterfaceTypes").toSenderId(y),threadId:b,type:"audio"},e.waveformData),{reply:I,senderId:E,threadKey:T})})])),r("promiseDone")((e||(e=n("Promise"))).allSettled(t).then(function(){l()})),t.length>0},i[8]=E,i[9]=l,i[10]=m,i[11]=p,i[12]=_,i[13]=I,i[14]=f,i[15]=g,i[16]=M,i[17]=y,i[18]=C,i[19]=b,i[20]=T,i[21]=v,i[22]=S,i[23]=R,i[24]=L,i[25]=A):A=i[25];var F;i[26]!==m||i[27]!==w||i[28]!==A?(F={clearReplyState:w,editor:m,onSend:A},i[26]=m,i[27]=w,i[28]=A,i[29]=F):F=i[29];var O=r("useMWXComposerClearAndSendOnEnter")(F),B=O.onSend,W;return i[30]!==B?(W={onSend:B},i[30]=B,i[31]=W):W=i[31],W}function u(e){return e.read(function(){return o("LexicalText").$rootTextContent()})}function c(e,t,n){var r=e.environment,a=e.removeMediaStaging,i=e.senderId,l=e.threadId,s=e.unsentMediaStagings,u=e.updateMediaStaging,c=t.actor,d=t.lsReply,m=t.threadKey;return s.map(function(e){return u(e.offlineAttachmentId,{isSent:!0}),o("IGDMAPISendMediaMessage").IGDMAPISendMediaMessage(r,{mediaStaging:e,repliedMessageContent:n,senderId:o("IGDMAPIInterfaceTypes").toSenderId(i),threadId:l,type:"media"},{reply:d,senderId:c,threadKey:m}).then(function(){a(e.offlineAttachmentId)})})}function d(e,t){if(t.length===0)return{commands:null,mentionedUserIds:[],mentions:[]};var n=t.filter(function(e){return e.type==="t"||e.type==="a"}),r="EVERYONE",a=n.length>0?n.map(function(t){return{length:t.length,offset:t.offset,type:r,user_or_thread_fbid:e}}):null,i=t.filter(function(e){return e.type==="p"}),l=i.map(function(e){return o("IGDMAPIInterfaceTypes").toUserId(e.id)}),s=i.map(function(e){return{fbid:e.id,length:e.length,offset:e.offset}});return{commands:a,mentionedUserIds:l,mentions:s}}l.default=s}),98);
__d("IGDMAPISendTypingIndicator",["MqttBypassDGWClient","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=Object.freeze({OFF:0,TEXT:1,VISUAL:2});function s(e,t){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var o=r("MqttBypassDGWClient").getInstance(),a=n===!0?e.TEXT:e.OFF,i={action:"indicate_activity",activity_status:a,client_context:"",thread_id:t},l=new TextEncoder().encode(JSON.stringify(i));yield o.send("/ig_send_message",l,!1)}),u.apply(this,arguments)}l.default=s}),98);
__d("usePublishTypingIndicator_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePublishTypingIndicator_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null}],storageKey:null}],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("usePublishTypingIndicator",["CometRelay","FBLogger","IGDMAPISendTypingIndicator","getErrorSafe","react","usePublishTypingIndicator_XFBIGDirectViewerThread.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback;function d(e,t,n){return!(t===!0||e===!0||n===!0)}function m(t,a){var i,l,u,m=o("CometRelay").useFragment(e!==void 0?e:e=n("usePublishTypingIndicator_XFBIGDirectViewerThread.graphql"),a),p=(i=m.is_group)!=null?i:!1,_=!p&&((l=m.users)==null?void 0:l.length)===1?m.users[0]:null,f=_!=null?_.interop_messaging_user_fbid===m.viewer_id:!1,g=_!=null?((u=_.friendship_status)==null?void 0:u.blocking)===!0:!1;return c(function(e){d(p,g,f)&&r("IGDMAPISendTypingIndicator")(t,e).catch(function(e){var t=r("getErrorSafe")(e);r("FBLogger")("igd_web_on_msgr").tags(["OffMSYSComposer"]).WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Failed to publish typing indicator: ",""])),t.message)})},[g,p,f,t])}l.default=m}),98);
__d("IGDOffMsysComposerView.react",["fbt","BaseTheme.react","CometMessengerHandlePastedFileComposerPlugin","CometRelay","CurrentUser","IGDAudioRecorderSelector.react","IGDComposerAttachmentButtonOffMsys.react","IGDComposerConstants","IGDComposerEmojiButton.react","IGDComposerMediaStagingOffMsys.react","IGDComposerSavedReplyButton.react","IGDComposerSavedReplySuggestionTray.react","IGDComposerThemeConfigOverride","IGDComposerViewSendButton.react","IGDComposerVoiceClipButton.react","IGDMAPIInterfaceTypes","IGDMediaStagingConstants","IGDOffMsysComposerRichContentButton.react","IGDOffMsysComposerView_XFBIGDirectViewerThread.graphql","IGDOffMsysMentionsPluginForLexical.react","IGDReplyContext.react","IGDSBox.react","IGDSIconButton.react","IGDSupportedFileTypes","MWChatComposerIcons","MWPActor.react","MWPReplyContext.react","MWPUseVoiceRecorderV2","MWVoiceRecordQpl","MWXComposer.react","MessengerWebUXLogger","PolarisDirectStrings","PolarisUA","RelayHooks","WmiHandleFileSelect","cr:213","cr:599","react","react-compiler-runtime","useComposerFeatures","useIGDDraftMessages","useIGDMessageLengthExceededToast","useIGDOffMsysComposerAutoFocus","useIGDOffMsysComposerSend","useIsChatTabsDisplay","useMWV2FileDropzoneRegisterHandler","useMWXAlertDialog","useMWXLexicalEditor","useMWXLexicalHasText","useMWXLexicalMaxLength","useMWXLexicalOnTypingChanged","useMediaStagingErrorCallbacks","useMediaStagingManagerClient","usePublishTypingIndicator","useShouldShowTextOnlyComposerForInvite"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useContext,m={composer:{alignItems:"x6s0dn4",backgroundColor:"xvbhtw8",borderStartStartRadius:"x1ua1ujl",borderStartEndRadius:"xksyday",borderEndEndRadius:"xshg46c",borderEndStartRadius:"xlej2ay",display:"x78zum5",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",minHeight:"x1gg8mnh",paddingInlineStart:"x1iwz3mf",$$css:!0},composerClose:{paddingInlineEnd:"x1kukv79",$$css:!0},composerContainer:{paddingTop:"xyamay9",paddingInlineEnd:"xv54qhq",paddingBottom:"x1l90r2v",paddingInlineStart:"xf7dkkf",$$css:!0},composerSend:{paddingInlineEnd:"x11lfxj5",$$css:!0},emojiButton:{paddingTop:"x1nn3v0j",$$css:!0},iconButtonRow:{marginBottom:"xjpr12u",$$css:!0},iconButtonRowHasIcons:{marginInlineEnd:"x1lxpwgx",$$css:!0},inputAreaRow:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},root:{alignItems:"x1qjc9v5",borderTopColor:"x1yvgwvq",borderInlineEndColor:"xjd31um",borderBottomColor:"x1ixjvfu",borderInlineStartColor:"xwt6s21",borderStartStartRadius:"x1ua1ujl",borderStartEndRadius:"xksyday",borderEndEndRadius:"xshg46c",borderEndStartRadius:"xlej2ay",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}};function p(t){var a,i=o("react-compiler-runtime").c(94),l=t.afterSendMessage,u=t.thread,p=t.threadFbid,f=t.threadSubtype,g=t.viewerThreadRef,h=o("RelayHooks").useRelayEnvironment(),y;i[0]===Symbol.for("react.memo_cache_sentinel")?(y=r("CurrentUser").getEIMU(),i[0]=y):y=i[0];var C=y,b;i[1]!==p?(b=o("IGDMAPIInterfaceTypes").toThreadId(p),i[1]=p,i[2]=b):b=i[2];var v=b,S=o("MWPActor.react").useActor(),R=o("IGDReplyContext.react").useIGDReplyContext(),L=o("IGDReplyContext.react").useIGDReplySetterContext(),E=L.clearReply,k=d(o("MWPReplyContext.react").MWPReplyContext),I=k.clearReply,T=k.reply,D=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDOffMsysComposerView_XFBIGDirectViewerThread.graphql"),g),x=r("useComposerFeatures")(f,D),$=r("useShouldShowTextOnlyComposerForInvite")(u.threadKey,u.threadType),P=(a=D.is_group)!=null?a:!1,N=o("useMediaStagingManagerClient").useMediaStagingManagerClient(v),M=N.getMediaStaging,w=N.mediaStagings,A=N.removeMediaStaging,F=N.setMediaStaging,O=N.updateMediaStaging,B;i[3]!==F?(B=function(t){for(var e of t)F(e)},i[3]=F,i[4]=B):B=i[4];var W=B,q=r("useIsChatTabsDisplay")(),U=r("useMWXAlertDialog")(),V=o("useMediaStagingErrorCallbacks").useMediaStagingErrorCallbacks(),H;i[5]!==W||i[6]!==V||i[7]!==M||i[8]!==A||i[9]!==U||i[10]!==v||i[11]!==O?(H=function(t){o("WmiHandleFileSelect").wmiHandleFileSelect([].concat(t),v,W,O,M,A,o("IGDMediaStagingConstants").IGD_COMPOSER_OFF_MSYS_HANDLE_FILE_SELECT_ENTRYPOINT,o("IGDMediaStagingConstants").IGD_HANDLE_FILE_SELECT_PLATFORM,V,{maxFileSize:o("IGDMediaStagingConstants").IGD_DEFAULT_MAX_ATTACHMENT_SIZE_MB,showErrorDialog:U})},i[5]=W,i[6]=V,i[7]=M,i[8]=A,i[9]=U,i[10]=v,i[11]=O,i[12]=H):H=i[12];var G=H;r("useMWV2FileDropzoneRegisterHandler")(G);var z;i[13]===Symbol.for("react.memo_cache_sentinel")?(z={createVoiceRecordQpl:o("MWVoiceRecordQpl").createVoiceRecordQpl,maxDuration:void 0},i[13]=z):z=i[13];var j=o("MWPUseVoiceRecorderV2").useVoiceRecorder(z),K=j.state.stage!=="Unopen",Q=o("useMWXLexicalEditor").useMWXLexicalEditor(),X=Q.editor,Y;i[14]!==X?(Y={editor:X},i[14]=X,i[15]=Y):Y=i[15];var J=o("useMWXLexicalHasText").useMWXLexicalHasText(Y),Z=r("useIGDMessageLengthExceededToast")(),ee;i[16]!==Z?(ee={maxLength:o("IGDComposerConstants").IGD_COMPOSER_MAX_LENGTH,onMaxLengthExceeded:Z},i[16]=Z,i[17]=ee):ee=i[17],o("useMWXLexicalMaxLength").useMWXLexicalMaxLength(X,ee);var te=r("usePublishTypingIndicator")(p,D),ne;i[18]!==X||i[19]!==te?(ne={editor:X,onTypingStateChanged:te},i[18]=X,i[19]=te,i[20]=ne):ne=i[20],r("useMWXLexicalOnTypingChanged")(ne),o("useIGDDraftMessages").useIGDDraftMessage(v,X);var re;i[21]!==w?(re=w.filter(_),i[21]=w,i[22]=re):re=i[22];var oe=re,ae=oe.length>0,ie;i[23]!==X||i[24]!==ae?(ie={editor:X,hasUnsentAttachments:ae},i[23]=X,i[24]=ae,i[25]=ie):ie=i[25],r("useIGDOffMsysComposerAutoFocus")(ie);var le;i[26]!==l||i[27]!==E||i[28]!==X||i[29]!==h||i[30]!==K||i[31]!==w||i[32]!==A||i[33]!==R||i[34]!==p||i[35]!==v||i[36]!==f||i[37]!==oe||i[38]!==O||i[39]!==j?(le={afterSendMessage:l,clearReply:E,editor:X,environment:h,isVoiceRecorderOpen:K,mediaStagings:w,removeMediaStaging:A,reply:R,senderId:C,threadFbid:p,threadId:v,threadSubtype:f,unsentMediaStagings:oe,updateMediaStaging:O,voiceRecorder:j},i[26]=l,i[27]=E,i[28]=X,i[29]=h,i[30]=K,i[31]=w,i[32]=A,i[33]=R,i[34]=p,i[35]=v,i[36]=f,i[37]=oe,i[38]=O,i[39]=j,i[40]=le):le=i[40];var se;i[41]!==S||i[42]!==I||i[43]!==T||i[44]!==u.threadKey?(se={actor:S,lsClearReply:I,lsReply:T,threadKey:u.threadKey},i[41]=S,i[42]=I,i[43]=T,i[44]=u.threadKey,i[45]=se):se=i[45];var ue=r("useIGDOffMsysComposerSend")(le,se),ce=ue.onSend,de=!$&&(x.mediaPickerEnabled||x.enableVoiceClip||x.richContentEnabled),me=J||oe.length>0||K,pe;i[46]!==u.threadKey||i[47]!==u.threadType?(pe={eventName:"composer_view",threadKey:u.threadKey,threadType:u.threadType},i[46]=u.threadKey,i[47]=u.threadType,i[48]=pe):pe=i[48];var _e=r("MessengerWebUXLogger").useImpressionLoggerRef(pe),fe;i[49]!==x.savedReplyEnabled||i[50]!==X||i[51]!==u?(fe=x.savedReplyEnabled&&c.jsx(r("IGDComposerSavedReplySuggestionTray.react"),{editor:X,thread:u}),i[49]=x.savedReplyEnabled,i[50]=X,i[51]=u,i[52]=fe):fe=i[52];var ge;i[53]!==q||i[54]!==v?(ge=c.jsx(r("IGDComposerMediaStagingOffMsys.react"),{hideUploadPlaceholder:!1,isStacking:q,supportedFileTypes:o("PolarisUA").isMobile()?o("IGDSupportedFileTypes").IGD_MOBILE_SUPPORTED_FILE_TYPES:o("IGDSupportedFileTypes").IGD_WEB_SUPPORTED_FILE_TYPES,threadId:v}),i[53]=q,i[54]=v,i[55]=ge):ge=i[55];var he;i[56]!==X||i[57]!==P||i[58]!==D?(he=P&&c.jsx(r("IGDOffMsysMentionsPluginForLexical.react"),{editor:X,viewerThreadData:D}),i[56]=X,i[57]=P,i[58]=D,i[59]=he):he=i[59];var ye;i[60]!==S||i[61]!==x.crossAppSavesEnabled||i[62]!==x.emojisSupported||i[63]!==x.enableVoiceClip||i[64]!==x.mediaPickerEnabled||i[65]!==x.metaMediaCloudEnabled||i[66]!==x.richContentEnabled||i[67]!==x.savedReplyEnabled||i[68]!==me||i[69]!==X||i[70]!==h||i[71]!==de||i[72]!==J||i[73]!==K||i[74]!==G||i[75]!==ce||i[76]!==$||i[77]!==u||i[78]!==p||i[79]!==v||i[80]!==oe.length||i[81]!==j?(ye=K?c.jsxs(o("MWXComposer.react").InputArea,{composerRowXStyle:m.inputAreaRow,xstyle:[m.composer,me?m.composerSend:m.composerClose],children:[c.jsxs(r("IGDSBox.react"),{alignSelf:"center",direction:"row",flex:"grow",children:[c.jsx(r("IGDSIconButton.react"),{"aria-label":s._(/*BTDS*/"Close Button"),onClick:function(){return j.reset()},children:c.jsx(o("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:"var(--chat-composer-button-color)",isRotated:!0,size:20})}),c.jsx(r("IGDSBox.react"),{alignSelf:"center",flex:"grow",marginEnd:2,marginStart:1,children:c.jsx(r("IGDAudioRecorderSelector.react"),{voiceRecorder:j})})]}),c.jsx(r("IGDSBox.react"),{children:c.jsx(r("IGDComposerViewSendButton.react"),{onClick:ce})})]}):c.jsxs(r("IGDSBox.react"),{children:[c.jsx(r("CometMessengerHandlePastedFileComposerPlugin"),{editor:X,handlePastedFiles:G}),c.jsxs(o("MWXComposer.react").InputArea,{composerRowXStyle:m.inputAreaRow,xstyle:[m.composer,me?m.composerSend:m.composerClose],children:[x.emojisSupported?c.jsx(r("IGDSBox.react"),{height:40,xstyle:m.emojiButton,children:c.jsx(r("IGDComposerEmojiButton.react"),{editor:X})}):null,c.jsx(o("MWXComposer.react").TextEditor,{placeholderText:o("PolarisDirectStrings").MESSAGE_TEXT_FIELD_PLACEHOLDER.toString()}),J||oe.length>0?c.jsx(r("IGDSBox.react"),{children:c.jsx(r("IGDComposerViewSendButton.react"),{onClick:ce})}):c.jsx(r("IGDSBox.react"),{alignItems:"center",direction:"row",height:40,overflow:"hidden",xstyle:[m.iconButtonRow,de?m.iconButtonRowHasIcons:null],children:$?null:c.jsxs(c.Fragment,{children:[x.enableVoiceClip?c.jsx(r("IGDComposerVoiceClipButton.react"),{voiceRecorder:j}):null,x.mediaPickerEnabled?c.jsx(r("IGDComposerAttachmentButtonOffMsys.react"),{onAttachmentsAdded:G,supportedFileTypes:o("PolarisUA").isMobile()?o("IGDSupportedFileTypes").IGD_MOBILE_SUPPORTED_FILE_TYPES:o("IGDSupportedFileTypes").IGD_WEB_SUPPORTED_FILE_TYPES}):null,x.metaMediaCloudEnabled&&n("cr:213")!=null?c.jsx(n("cr:213"),{onAttachmentsAdded:G,threadKey:u.threadKey}):null,x.crossAppSavesEnabled&&n("cr:599")!=null?c.jsx(n("cr:599"),{actor:S,environment:h,senderId:C,threadId:v,threadKey:u.threadKey}):null,x.savedReplyEnabled?c.jsx(r("IGDComposerSavedReplyButton.react"),{editor:X,thread:u}):null,x.richContentEnabled?c.jsx(r("IGDOffMsysComposerRichContentButton.react"),{threadFbid:p}):null]})})]})]}),i[60]=S,i[61]=x.crossAppSavesEnabled,i[62]=x.emojisSupported,i[63]=x.enableVoiceClip,i[64]=x.mediaPickerEnabled,i[65]=x.metaMediaCloudEnabled,i[66]=x.richContentEnabled,i[67]=x.savedReplyEnabled,i[68]=me,i[69]=X,i[70]=h,i[71]=de,i[72]=J,i[73]=K,i[74]=G,i[75]=ce,i[76]=$,i[77]=u,i[78]=p,i[79]=v,i[80]=oe.length,i[81]=j,i[82]=ye):ye=i[82];var Ce;i[83]!==ge||i[84]!==he||i[85]!==ye?(Ce=c.jsxs(o("MWXComposer.react").Row,{xStyle:m.root,children:[ge,he,ye]}),i[83]=ge,i[84]=he,i[85]=ye,i[86]=Ce):Ce=i[86];var be;i[87]!==X||i[88]!==Ce?(be=c.jsx(o("MWXComposer.react").Composer,{editor:X,xstyle:m.composerContainer,children:Ce}),i[87]=X,i[88]=Ce,i[89]=be):be=i[89];var ve;return i[90]!==_e||i[91]!==fe||i[92]!==be?(ve=c.jsxs(r("BaseTheme.react"),{config:r("IGDComposerThemeConfigOverride"),ref:_e,children:[fe,be]}),i[90]=_e,i[91]=fe,i[92]=be,i[93]=ve):ve=i[93],ve}function _(e){return!e.isSent}l.default=p}),226);
__d("IGDOffMsysComposerInner.react",["CometRelay","IGDComposerReplyView.react","IGDOffMsysComposerInner_XFBIGDirectViewerThread.graphql","IGDOffMsysComposerReplyView.react","IGDOffMsysComposerView.react","IGDReplyContext.react","MWPReplyContext.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext;function d(t){var a=o("react-compiler-runtime").c(15),i=t.afterSendMessage,l=t.thread,s=t.threadFbid,d=t.threadSubtype,m=t.viewerThreadRef,p=o("IGDReplyContext.react").useIGDReplyContext(),_=c(o("MWPReplyContext.react").MWPReplyContext),f=_.reply,g=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDOffMsysComposerInner_XFBIGDirectViewerThread.graphql"),m),h;a[0]!==p?(h=p!=null?u.jsx(r("IGDOffMsysComposerReplyView.react"),{reply:p}):null,a[0]=p,a[1]=h):h=a[1];var y;a[2]!==f||a[3]!==l?(y=f!=null?u.jsx(r("IGDComposerReplyView.react"),{messageId:f.messageId,messageTimestamp:f.timestampMs,thread:l}):null,a[2]=f,a[3]=l,a[4]=y):y=a[4];var C;a[5]!==i||a[6]!==l||a[7]!==s||a[8]!==d||a[9]!==g?(C=u.jsx(r("IGDOffMsysComposerView.react"),{afterSendMessage:i,thread:l,threadFbid:s,threadSubtype:d,viewerThreadRef:g}),a[5]=i,a[6]=l,a[7]=s,a[8]=d,a[9]=g,a[10]=C):C=a[10];var b;return a[11]!==h||a[12]!==y||a[13]!==C?(b=u.jsxs(u.Fragment,{children:[h,y,C]}),a[11]=h,a[12]=y,a[13]=C,a[14]=b):b=a[14],b}l.default=d}),98);
__d("IGDOffMsysComposer_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDOffMsysComposer_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_subtype",storageKey:null},{args:null,kind:"FragmentSpread",name:"IGDOffMsysComposerInner_XFBIGDirectViewerThread"}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("useAddComposerOffMsysInteractionAnnotations",["IGDRouteProvider.react","InteractionTracing","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(){var e=o("react-compiler-runtime").c(2),t=o("IGDRouteProvider.react").useThreadKeyFromCurrentRoute(),n;e[0]!==t?(n=[t],e[0]=t,e[1]=n):n=e[1],s(c,n)}function c(){r("InteractionTracing").getPendingInteractions().forEach(d)}function d(e){e.addAnnotationInt("has_off_msys_composer",1)}l.default=u}),98);
__d("useIGDOffMsysComposerKeyCommands",["fbt","CometKeys","I64","IGDChatTabsStateContext.react","IGDEditMessageContext.react","IGDReplyContext.react","MAWEditMessageContext.react","MWPReplyContext.react","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=c.useCallback,m=c.useContext,p=c.useMemo;function _(e){var t=o("react-compiler-runtime").c(22),n=o("IGDReplyContext.react").useIGDReplyContext(),a=o("IGDReplyContext.react").useIGDReplySetterContext(),i=a.clearReply,l=m(o("MWPReplyContext.react").MWPReplyContext),c=l.clearReply,d=l.reply,p=o("IGDEditMessageContext.react").useIGDEditContext(),_=o("IGDEditMessageContext.react").useIGDEditSetterContext(),f=_.clearEditMessageData,g=m(o("MAWEditMessageContext.react").Context),h=g.editMessageData,y=g.setEditMessageData,C=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),b=r("useIsChatTabsDisplay")(),v;t[0]!==f||t[1]!==i||t[2]!==C||t[3]!==h||t[4]!==p||t[5]!==b||t[6]!==c||t[7]!==d||t[8]!==n||t[9]!==y||t[10]!==e?(v=function(){if(!(d||n)&&!(h||p))if(b)C==null||C({threadKey:(u||(u=o("I64"))).to_string(e),type:"close_tab"});else return;h||p?(y(null),f()):(d||n)&&(c(e,!0),i())},t[0]=f,t[1]=i,t[2]=C,t[3]=h,t[4]=p,t[5]=b,t[6]=c,t[7]=d,t[8]=n,t[9]=y,t[10]=e,t[11]=v):v=t[11];var S=v,R;t[12]===Symbol.for("react.memo_cache_sentinel")?(R={key:r("CometKeys").ESCAPE},t[12]=R):R=t[12];var L;t[13]!==h||t[14]!==p||t[15]!==b||t[16]!==d||t[17]!==n?(L=!(d||n)&&b&&s._(/*BTDS*/"Close chat tab")||(d||n)&&s._(/*BTDS*/"Cancel reply")||(h||p)&&s._(/*BTDS*/"Cancel edit")||"",t[13]=h,t[14]=p,t[15]=b,t[16]=d,t[17]=n,t[18]=L):L=t[18];var E;t[19]!==S||t[20]!==L?(E=[{command:R,description:L,handler:S,triggerFromInputs:!0}],t[19]=S,t[20]=L,t[21]=E):E=t[21];var k=E;return k}l.default=_}),226);
__d("IGDOffMsysComposer.react",["CometComponentWithKeyCommands.react","CometRelay","IGDComposerCommonPlaceholder.react","IGDComposerEditContainer.react","IGDComposerEditContainerOffMsys.react","IGDEditMessageContext.react","IGDOffMsysComposerInner.react","IGDOffMsysComposer_XFBIGDirectViewerThread.graphql","IGDSBox.react","MAWEditMessageContext.react","MWV2ErrorComposer.react","PolarisSuspenseWithErrorBoundary.react","react","react-compiler-runtime","useAddComposerOffMsysInteractionAnnotations","useIGDOffMsysComposerKeyCommands"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext;function d(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=e.threadKey,i=r("useIGDOffMsysComposerKeyCommands")(a),l;return t[0]!==n||t[1]!==i?(l=u.jsx(r("IGDSBox.react"),{children:u.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:i,children:n})}),t[0]=n,t[1]=i,t[2]=l):l=t[2],l}function m(t){var a=o("react-compiler-runtime").c(23),l=t.afterSendMessage,s=t.thread,m=t.viewerThreadRef;r("useAddComposerOffMsysInteractionAnnotations")();var f=c(o("MAWEditMessageContext.react").Context),g=f.editMessageData,h=o("IGDEditMessageContext.react").useIGDEditContext(),y=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDOffMsysComposer_XFBIGDirectViewerThread.graphql"),m),C=y==null?void 0:y.thread_fbid,b=y==null?void 0:y.thread_subtype;if(y==null||C==null||b==null){var v;a[0]===Symbol.for("react.memo_cache_sentinel")?(v=u.jsx(r("IGDComposerCommonPlaceholder.react"),{height:78,showSpinner:!0}),a[0]=v):v=a[0];var S;return a[1]===Symbol.for("react.memo_cache_sentinel")?(S=u.jsx(r("PolarisSuspenseWithErrorBoundary.react"),{errorRenderer:_,loadingRenderer:v,name:i.id,children:u.jsx(r("IGDComposerCommonPlaceholder.react"),{height:78,showSpinner:!0})}),a[1]=S):S=a[1],S}if(g!=null){var R;a[2]!==g||a[3]!==C?(R=u.jsx(r("IGDComposerEditContainer.react"),{editMessageData:g,threadFbid:C}),a[2]=g,a[3]=C,a[4]=R):R=a[4];var L;return a[5]!==R||a[6]!==s.threadKey?(L=u.jsx(d,{threadKey:s.threadKey,children:R}),a[5]=R,a[6]=s.threadKey,a[7]=L):L=a[7],L}if(h!=null){var E;a[8]!==h?(E=u.jsx(r("IGDComposerEditContainerOffMsys.react"),{editMessageData:h}),a[8]=h,a[9]=E):E=a[9];var k;return a[10]!==E||a[11]!==s.threadKey?(k=u.jsx(d,{threadKey:s.threadKey,children:E}),a[10]=E,a[11]=s.threadKey,a[12]=k):k=a[12],k}var I;a[13]===Symbol.for("react.memo_cache_sentinel")?(I=u.jsx(r("IGDComposerCommonPlaceholder.react"),{height:78,showSpinner:!0}),a[13]=I):I=a[13];var T;a[14]!==l||a[15]!==s||a[16]!==C||a[17]!==b||a[18]!==y?(T=u.jsx(r("IGDOffMsysComposerInner.react"),{afterSendMessage:l,thread:s,threadFbid:C,threadSubtype:b,viewerThreadRef:y}),a[14]=l,a[15]=s,a[16]=C,a[17]=b,a[18]=y,a[19]=T):T=a[19];var D;return a[20]!==T||a[21]!==s.threadKey?(D=u.jsx(r("PolarisSuspenseWithErrorBoundary.react"),{errorRenderer:p,loadingRenderer:I,name:i.id,children:u.jsx(d,{threadKey:s.threadKey,children:T})}),a[20]=T,a[21]=s.threadKey,a[22]=D):D=a[22],D}function p(){return u.jsx(r("MWV2ErrorComposer.react"),{})}p.displayName=p.name+" [from "+i.id+"]";function _(){return u.jsx(r("MWV2ErrorComposer.react"),{})}_.displayName=_.name+" [from "+i.id+"]",l.default=m}),98);
__d("IGDComposerForCannes.react",["CometRelay","IGDComposerBlockForThreadOffMsys.react","IGDComposerForCannes_Slide.graphql","IGDComposerMsys.react","IGDOffMsysComposer.react","JSResourceForInteraction","lazyLoadComponent","qex","react","react-compiler-runtime","useIGDComposerBlockType.react","useIGDShowCannesLeaveGroupDialog.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDFeatureLimitsBlockedComposerOffMsys.react").__setRef("IGDComposerForCannes.react"));function d(t){var a=o("react-compiler-runtime").c(12),i=t.afterSendMessage,l=t.featureLimitsQueryRef,s=t.isOptimisticThread,d=t.slideThreadRef,m=t.thread,p=s===void 0?!1:s,_=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDComposerForCannes_Slide.graphql"),d),f=_==null?void 0:_.as_ig_direct_thread,g=r("useIGDComposerBlockType.react")(f,l);if(r("useIGDShowCannesLeaveGroupDialog.react")(f),g==="read_only_feature_limited"){var h;return a[0]!==l?(h=u.jsx(c,{featureLimitsQueryRef:l}),a[0]=l,a[1]=h):h=a[1],h}if(f!=null&&g!=null){var y;return a[2]!==g||a[3]!==f?(y=u.jsx(r("IGDComposerBlockForThreadOffMsys.react"),{composerBlockType:g,viewerThreadRef:f}),a[2]=g,a[3]=f,a[4]=y):y=a[4],y}if(f==null&&p===!0){var C;return a[5]!==i||a[6]!==m?(C=u.jsx(r("IGDComposerMsys.react"),{afterSendMessage:i,thread:m,viewerThreadRef:null}),a[5]=i,a[6]=m,a[7]=C):C=a[7],C}var b;return a[8]!==i||a[9]!==m||a[10]!==(f==null?void 0:f.viewer_thread_for_composer)?(b=r("qex")._("842")===!0?u.jsx(r("IGDOffMsysComposer.react"),{afterSendMessage:i,thread:m,viewerThreadRef:f==null?void 0:f.viewer_thread_for_composer}):u.jsx(r("IGDComposerMsys.react"),{afterSendMessage:i,thread:m,viewerThreadRef:f==null?void 0:f.viewer_thread_for_composer}),a[8]=i,a[9]=m,a[10]=f==null?void 0:f.viewer_thread_for_composer,a[11]=b):b=a[11],b}l.default=d}),98);
__d("IGDConnectionStatusProvider.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.createContext,m=u.useContext,p=u.useEffect,_=u.useMemo,f=u.useState,g=d({isOnline:window.navigator.onLine});function h(e){var t=o("react-compiler-runtime").c(7),n=e.children,r=f(window.navigator.onLine),a=r[0],i=r[1],l;t[0]!==a?(l={isOnline:a},t[0]=a,t[1]=l):l=t[1];var s=l,u,d;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=function(){var e=function(){i(!0)},t=function(){i(!1)};return window.addEventListener("online",e),window.addEventListener("offline",t),(function(){window.removeEventListener("online",e),window.removeEventListener("offline",t)})},d=[],t[2]=u,t[3]=d):(u=t[2],d=t[3]),p(u,d);var m;return t[4]!==n||t[5]!==s?(m=c.jsx(g.Provider,{value:s,children:n}),t[4]=n,t[5]=s,t[6]=m):m=t[6],m}function y(){return m(g)}l.IGDConnectionStatusContext=g,l.IGDConnectionStatusProvider=h,l.useIGDConnectionStatusContext=y}),98);
__d("IGDConnectionStatusCardOffMsys.react",["fbt","CometPlaceholder.react","IGDConnectionStatusProvider.react","IGDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(2),n=e.isOnline;if(n===!1){var a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"xwwskcc x1q0q8m5 xso031l x1lliihq xz9dl7a xsag5q8 x2b8uid"},t[0]=a):a=t[0];var i;return t[1]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx("div",babelHelpers.extends({},a,{children:u.jsx(r("IGDSText.react"),{color:"secondaryText",zeroMargin:!1,children:s._(/*BTDS*/"No internet connection")})})),t[1]=i):i=t[1],i}return null}function d(){var e=o("react-compiler-runtime").c(2),t=o("IGDConnectionStatusProvider.react").useIGDConnectionStatusContext(),n;return e[0]!==t.isOnline?(n=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx(c,{isOnline:t.isOnline})}),e[0]=t.isOnline,e[1]=n):n=e[1],n}l.default=d}),226);
__d("IGDInboxHeaderConstants",["IGDSConstants","PolarisUA"],(function(t,n,r,o,a,i,l){"use strict";var e=o("PolarisUA").isMobile()?r("IGDSConstants").AVATAR_SIZES.small:r("IGDSConstants").AVATAR_SIZES.medium;l.IGD_INBOX_HEADER_IMAGE_SIZE=e}),98);
__d("IGDInboxHeaderMobileOffMsysBackButton.react",["IGDEntryPoints","IGDMobileNavigationButton.react","IGDNavigation","react","react-compiler-runtime","useRoutePassthroughProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(4),t=o("IGDNavigation").useIGDNavigation(),n=r("useRoutePassthroughProps")(),a=n!=null&&(n.entryPoint==="pendingRequests"||n.entryPoint===o("IGDEntryPoints").IGDEntryPoints.IGD_MESSAGE_REQUESTS_THREADS_LIST),i=n!=null&&(n.entryPoint==="inboxSpam"||n.entryPoint===o("IGDEntryPoints").IGDEntryPoints.IGD_HIDDEN_MESSAGE_REQUESTS_THREADS_LIST),l;return e[0]!==a||e[1]!==i||e[2]!==t?(l=s.jsx(r("IGDMobileNavigationButton.react"),{onClick:function(){return a?t.openPendingInbox():i?t.openHiddenRequests():t.goToNullState()}}),e[0]=a,e[1]=i,e[2]=t,e[3]=l):l=e[3],l}l.default=u}),98);
__d("IGDInboxHeaderOffMsysPlaceholder.react",["IGDInboxHeaderConstants","IGDInboxHeaderMobileOffMsysBackButton.react","IGDInboxHeaderOffMsysContainer.react","IGDSBox.react","IGDSGlimmer.react","PolarisUA","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={glimmer:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o("PolarisUA").isMobile()?s.jsx(r("IGDInboxHeaderMobileOffMsysBackButton.react"),{}):null,e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(r("IGDSBox.react"),{height:o("IGDInboxHeaderConstants").IGD_INBOX_HEADER_IMAGE_SIZE,marginEnd:3,overflow:"hidden",shape:"circle",width:o("IGDInboxHeaderConstants").IGD_INBOX_HEADER_IMAGE_SIZE,children:s.jsx(r("IGDSGlimmer.react"),{index:0,xstyle:u.glimmer})}),e[1]=n):n=e[1];var a;return e[2]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsxs(r("IGDInboxHeaderOffMsysContainer.react"),{children:[t,n,s.jsx(r("IGDSBox.react"),{height:12,overflow:"hidden",width:148,children:s.jsx(r("IGDSGlimmer.react"),{index:1,xstyle:u.glimmer})})]}),e[2]=a):a=e[2],a}l.default=c}),98);
__d("IGDInboxInfoNicknamesDialogQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="35006615695604185"}),null);
__d("IGDMessageListAnchorMessageOffMsysContextProvider.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useCallback,m=u.useContext,p=u.useMemo,_=u.useState,f=c({anchor:"bottom",anchorMessageId:null,clearAnchorMessage:function(){},setAnchorMessage:function(){}});function g(e){var t=o("react-compiler-runtime").c(8),n=e.children,r=_("bottom"),a=r[0],i=r[1],l=_(null),u=l[0],c=l[1],d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=function(t){i("anchor"),c(t)},t[0]=d):d=t[0];var m=d,p;t[1]===Symbol.for("react.memo_cache_sentinel")?(p=function(){i("bottom"),c(null)},t[1]=p):p=t[1];var g=p,h;t[2]!==a||t[3]!==u?(h={anchor:a,anchorMessageId:u,clearAnchorMessage:g,setAnchorMessage:m},t[2]=a,t[3]=u,t[4]=h):h=t[4];var y=h,C;return t[5]!==n||t[6]!==y?(C=s.jsx(f.Provider,{value:y,children:n}),t[5]=n,t[6]=y,t[7]=C):C=t[7],C}function h(){return m(f)}l.IGDMessageListAnchorMessageOffMsysContextProvider=g,l.useIGDMessageListAnchorMessageOffMsysContext=h}),98);
__d("IGDMessageListScrollAreaOffMsysContextProvider.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({scrollAreaRef:null});function f(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=p(),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={scrollAreaRef:r},t[0]=a):a=t[0];var i=a,l;return t[1]!==n?(l=s.jsx(_.Provider,{value:i,children:n}),t[1]=n,t[2]=l):l=t[2],l}function g(){return d(_)}l.IGDMessageListScrollAreaOffMsysContextProvider=f,l.useIGDMessageListScrollAreaOffMsysContext=g}),98);
__d("IGDSCallPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M18.227 22.912c-4.913 0-9.286-3.627-11.486-5.828C4.486 14.83.731 10.291.921 5.231a3.289 3.289 0 0 1 .908-2.138 17.116 17.116 0 0 1 1.865-1.71 2.307 2.307 0 0 1 3.004.174 13.283 13.283 0 0 1 3.658 5.325 2.551 2.551 0 0 1-.19 1.941l-.455.853a.463.463 0 0 0-.024.387 7.57 7.57 0 0 0 4.077 4.075.455.455 0 0 0 .386-.024l.853-.455a2.548 2.548 0 0 1 1.94-.19 13.278 13.278 0 0 1 5.326 3.658 2.309 2.309 0 0 1 .174 3.003 17.319 17.319 0 0 1-1.71 1.866 3.29 3.29 0 0 1-2.138.91 10.27 10.27 0 0 1-.368.006Zm-13.144-20a.27.27 0 0 0-.167.054A15.121 15.121 0 0 0 3.28 4.47a1.289 1.289 0 0 0-.36.836c-.161 4.301 3.21 8.34 5.235 10.364s6.06 5.403 10.366 5.236a1.284 1.284 0 0 0 .835-.36 15.217 15.217 0 0 0 1.504-1.637.324.324 0 0 0-.047-.41 11.62 11.62 0 0 0-4.457-3.119.545.545 0 0 0-.411.044l-.854.455a2.452 2.452 0 0 1-2.071.116 9.571 9.571 0 0 1-5.189-5.188 2.457 2.457 0 0 1 .115-2.071l.456-.855a.544.544 0 0 0 .043-.41 11.629 11.629 0 0 0-3.118-4.458.36.36 0 0 0-.244-.1Z"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("IGDSInfoFilledIcon.react",["IGDSInfoPanoFilledIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=s.jsx(r("IGDSInfoPanoFilledIcon.react"),babelHelpers.extends({},e)),t[0]=e,t[1]=n):n=t[1],n}var c=s.memo(u);l.default=c}),98);
__d("IGDSVideoChatPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("rect",{fill:"none",height:"18",rx:"3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",width:"16.999",x:"1",y:"3"}),a=s.jsx("path",{d:"m17.999 9.146 2.495-2.256A1.5 1.5 0 0 1 23 8.003v7.994a1.5 1.5 0 0 1-2.506 1.113L18 14.854",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),t[0]=n,t[1]=a):(n=t[0],a=t[1]);var i;return t[2]!==e?(i=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a]})),t[2]=e,t[3]=i):i=t[3],i}var c=s.memo(u);l.default=c}),98);
__d("IGDThreadDetailMainViewLayout.react",["IGDInboxInfoContextProvider","IGDSBox.react","PolarisUA","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c={main:{overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},mainHidden:{visibility:"xlshs6z",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=u(o("IGDInboxInfoContextProvider").IGDInboxInfoContext),i=a.shouldShowInfo,l;t[0]!==i?(l=o("PolarisUA").isMobile()&&i,t[0]=i,t[1]=l):l=t[1];var d=!l,m=!d&&c.mainHidden,p;t[2]!==m?(p=[c.main,m],t[2]=m,t[3]=p):p=t[3];var _;return t[4]!==n||t[5]!==p?(_=s.jsx(r("IGDSBox.react"),{flex:"grow",xstyle:p,children:n}),t[4]=n,t[5]=p,t[6]=_):_=t[6],_}l.default=d}),98);
__d("IGDThreadDetailMainView_SlideThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDThreadDetailMainView_SlideThread",selections:[{args:null,kind:"FragmentSpread",name:"IGDComposerForCannes_Slide"}],type:"SlideThread",abstractKey:null};a.exports=e}),null);
__d("useIGDMessageListJumpToMostRecentMessageOffMsys",["IGDMessageListAnchorMessageOffMsysContextProvider.react","IGDMessageListScrollAreaOffMsysContextProvider.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(4),t=o("IGDMessageListScrollAreaOffMsysContextProvider.react").useIGDMessageListScrollAreaOffMsysContext(),n=t.scrollAreaRef,r=o("IGDMessageListAnchorMessageOffMsysContextProvider.react").useIGDMessageListAnchorMessageOffMsysContext(),a=r.anchorMessageId,i=r.clearAnchorMessage,l;e[0]!==a||e[1]!==i||e[2]!==n?(l=function(){var e=n==null?void 0:n.current;e!=null&&(a!=null&&i(),e.scrollTo(0,0))},e[0]=a,e[1]=i,e[2]=n,e[3]=l):l=e[3];var s=l;return s}l.default=u}),98);
__d("IGDThreadDetailMainView.react",["CometErrorBoundary.react","CometPageletWithDiv.react","CometPlaceholder.react","CometRelay","IGDComposerCommonPlaceholder.react","IGDComposerForCannes.react","IGDConnectionStatusCardOffMsys.react","IGDInboxHeaderOffMsysPlaceholder.react","IGDOffMsysComposerUtils","IGDReplyContext.react","IGDThreadDetailMainViewLayout.react","IGDThreadDetailMainView_SlideThread.graphql","LSThreadBitOffset","MWPReplyContext.react","MWV2FileDropzone.react","PolarisSuspenseWithErrorBoundary.react","justknobx","react","react-compiler-runtime","useIGDMessageListJumpToMostRecentMessageOffMsys","useShouldShowTextOnlyComposerForInvite"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useContext;function p(t){var a=o("react-compiler-runtime").c(26),l=t.featureLimitsQueryRef,s=t.inboxHeader,c=t.isOptimisticThread,d=t.messageList,p=t.messageListRef,f=t.slideThreadRef,g=t.thread,h=c===void 0?!1:c,y=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDThreadDetailMainView_SlideThread.graphql"),f),C=r("useIGDMessageListJumpToMostRecentMessageOffMsys")(),b;a[0]!==C||a[1]!==p?(b=function(){var e;(e=p.current)==null||e.jumpToMostRecentMessage(),C()},a[0]=C,a[1]=p,a[2]=b):b=a[2];var v=b,S=m(o("MWPReplyContext.react").MWPReplyContext),R=S.reply,L=o("IGDReplyContext.react").useIGDReplyContext(),E=r("useShouldShowTextOnlyComposerForInvite")(g.threadKey,g.threadType),k;a[3]===Symbol.for("react.memo_cache_sentinel")?(k=r("justknobx")._("4855"),a[3]=k):k=a[3];var I=k,T;a[4]===Symbol.for("react.memo_cache_sentinel")?(T=o("IGDOffMsysComposerUtils").enableIGDOffMsysComposer()?u.jsx(r("IGDComposerCommonPlaceholder.react"),{height:78,showSpinner:!0}):u.jsx(r("IGDComposerCommonPlaceholder.react"),{height:128}),a[4]=T):T=a[4];var D;if(a[5]!==v||a[6]!==l||a[7]!==h||a[8]!==y||a[9]!==g){var x=u.jsx(r("PolarisSuspenseWithErrorBoundary.react"),{loadingRenderer:T,name:i.id,children:u.jsx(r("IGDComposerForCannes.react"),{afterSendMessage:v,featureLimitsQueryRef:l,isOptimisticThread:h,slideThreadRef:y,thread:g})});D=I?u.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"IGDComposerForCannes",children:x}):x,a[5]=v,a[6]=l,a[7]=h,a[8]=y,a[9]=g,a[10]=D}else D=a[10];var $=D,P;a[11]===Symbol.for("react.memo_cache_sentinel")?(P=u.jsx(r("IGDInboxHeaderOffMsysPlaceholder.react"),{}),a[11]=P):P=a[11];var N;a[12]!==s?(N=u.jsx(r("CometPlaceholder.react"),{fallback:P,name:i.id,children:u.jsx(r("CometErrorBoundary.react"),{fallback:_,children:s})}),a[12]=s,a[13]=N):N=a[13];var M;a[14]===Symbol.for("react.memo_cache_sentinel")?(M=u.jsx(r("IGDConnectionStatusCardOffMsys.react"),{}),a[14]=M):M=a[14];var w=E||R!=null||L!=null,A;a[15]!==g?(A=o("LSThreadBitOffset").has(56,g),a[15]=g,a[16]=A):A=a[16];var F=!A,O;a[17]!==$||a[18]!==d||a[19]!==F||a[20]!==w||a[21]!==g?(O=u.jsxs(o("MWV2FileDropzone.react").MWV2FileDropzone,{isDisabled:w,isMediaOnly:F,thread:g,children:[d,$]}),a[17]=$,a[18]=d,a[19]=F,a[20]=w,a[21]=g,a[22]=O):O=a[22];var B;return a[23]!==O||a[24]!==N?(B=u.jsxs(r("IGDThreadDetailMainViewLayout.react"),{children:[N,M,O]}),a[23]=O,a[24]=N,a[25]=B):B=a[25],B}function _(){return u.jsx("span",{})}_.displayName=_.name+" [from "+i.id+"]",l.default=p}),98);
__d("IGDUserMessageRowBaseLayoutOffMsys.react",["IGDSBox.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(16),n=e.containerMarginBottom,a=e.containerMarginTop,i=e.gutterItem,l=e.outgoing,u=e.profilePic,c=e.rowBody;if(l){var d;t[0]!==i?(d=s.jsx(r("IGDSBox.react"),{width:16,children:i}),t[0]=i,t[1]=d):d=t[1];var m;return t[2]!==n||t[3]!==a||t[4]!==c||t[5]!==d?(m=s.jsxs(r("IGDSBox.react"),{alignItems:"end",direction:"row",justifyContent:"end",marginBottom:n,marginTop:a,children:[c,d]}),t[2]=n,t[3]=a,t[4]=c,t[5]=d,t[6]=m):m=t[6],m}var p;t[7]!==u?(p=s.jsx(r("IGDSBox.react"),{direction:"row",height:"100%",width:"35px",children:u}),t[7]=u,t[8]=p):p=t[8];var _;t[9]!==c?(_=s.jsx(r("IGDSBox.react"),{direction:"row",flex:"grow",marginEnd:4,children:c}),t[9]=c,t[10]=_):_=t[10];var f;return t[11]!==n||t[12]!==a||t[13]!==p||t[14]!==_?(f=s.jsxs(r("IGDSBox.react"),{alignItems:"end",direction:"row",marginBottom:n,marginTop:a,children:[p,_]}),t[11]=n,t[12]=a,t[13]=p,t[14]=_,t[15]=f):f=t[15],f}l.default=u}),98);
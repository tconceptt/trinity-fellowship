;/*FB_PKG_DELIM*/

__d("CometEntryPointPopoverTrigger.react",["BaseEntryPointPopoverContainer.react","BasePopoverTrigger.react","CometRelay","deepEquals","emptyFunction","react","tracePolicyFromResource","useCometPopoverInteractionTracing","useCometRelayEntrypointContextualEnvironmentProvider"],(function(t,n,r,o,a,i,l){"use strict";var e=["doNotCloseOnOutsideClick","entryPointParams","fallback","onVisibilityChange","otherProps","popoverEntryPoint","preloadTrigger","reflowToPosition","traceAPIAddOn","tracePolicy"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useMemo,p=c.useRef;function _(t){var n=t.doNotCloseOnOutsideClick,a=t.entryPointParams,i=t.fallback,l=t.onVisibilityChange,s=t.otherProps,c=t.popoverEntryPoint,_=t.preloadTrigger,f=t.reflowToPosition,g=t.traceAPIAddOn,h=t.tracePolicy,y=babelHelpers.objectWithoutPropertiesLoose(t,e),C=r("useCometPopoverInteractionTracing")(h!=null?h:r("tracePolicyFromResource")("comet.popover",c.root),"entrypoint",_,g),b=r("useCometRelayEntrypointContextualEnvironmentProvider")(),v=o("CometRelay").useEntryPointLoader(b,c),S=v[0],R=v[1],L=v[2],E=p(null),k=d(function(){a!=null&&(S!==null&&r("deepEquals")(E.current,a)||(E.current=a,R(a)))},[a,S,R]),I=m(function(){return{entryPointParams:a,entryPointReference:S,load:k,onClose:r("emptyFunction"),otherProps:s}},[a,S,k,s]),T=d(function(e){e&&k(),l&&l(e)},[k,l]);return u.jsx(r("BasePopoverTrigger.react"),babelHelpers.extends({doNotCloseOnOutsideClick:n,fallback:i,interactionTracker:C,onHighIntentPreload:k,onLayerDetached:L,onVisibilityChange:T,popover:r("BaseEntryPointPopoverContainer.react"),popoverPreloadResource:c.root,popoverProps:I,preloadTrigger:_,reflowToPosition:f},y))}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("CometToastDeferred",["deferredLoadComponent","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("deferredLoadComponent")(r("requireDeferred")("CometToast.react").__setRef("CometToastDeferred")),s=e;l.default=s}),98);
__d("VirtualizationConfig",[],(function(t,n,r,o,a,i){"use strict";var e={isVisible:!0,nodeHeight:null},l=4e3,s=0,u=!1;i.DEFAULT_INIT_RENDER_CONFIG=e,i.VERTICAL_HIDEABLE_MARGIN=l,i.HORIZONTAL_HIDEABLE_MARGIN=s,i.IS_INTERSECTION_MARGIN_SUPPORTED=u}),66);
__d("VirtualizationContainerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u=s.createContext();l.default=u}),98);
__d("useWeightedScrollSpeedRef.react",["VirtualizationContainerContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect,d=10,m=typeof WeakMap=="function"?WeakMap:Map,p=new m,_=new m;function f(e){var t,n;e===void 0&&(e=null);var o=u(r("VirtualizationContainerContext")),a=typeof e=="function"?e():o==null||(t=o.rootElementRef)==null?void 0:t.current,i=a!=null?a:window,l=(n=_.get(i))!=null?n:{lastScrollY:0,lastTime:Date.now(),speedHistory:[],weightedSpeed:0};return _.set(i,l),c(function(){if(!p.has(i)){var e=function(){var e,t=l.lastScrollY,n=l.lastTime,r=l.speedHistory,o=(e=i===window?window.scrollY:a==null?void 0:a.scrollTop)!=null?e:0,s=Date.now(),u=o-t,c=s-n;if(c>0&&u>0&&c>0){var m=Math.abs(u/(c/1e3));r.push({speed:m}),r.length>d&&r.shift()}l.lastScrollY=o,l.lastTime=s;var p=0,_=0;r.forEach(function(e,t){var n=e.speed,r=t+1;p+=n*r,_+=r}),l.weightedSpeed=_>0?p/_:0};i.addEventListener("scroll",e),p.set(i,{handleScroll:e,subscribers:0})}var t=p.get(i);return t&&t.subscribers++,function(){t&&--t.subscribers===0&&(i.removeEventListener("scroll",t.handleScroll),p.delete(i),_.delete(i))}},[i,l,a]),l}l.default=f}),98);
__d("useDynamicVirtualizationMargin.react",["ExecutionEnvironment","VirtualizationContainerContext","justknobx","react","useDebouncedComet","useWeightedScrollSpeedRef.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useContext,d=u.useEffect,m=u.useRef,p=u.useState,_=r("justknobx")._("3655")/10,f=r("justknobx")._("3656"),g=r("justknobx")._("3657"),h=r("justknobx")._("3658"),y=r("justknobx")._("3659");function C(e,t){return e.bottom===t.bottom&&e.left===t.left&&e.right===t.right&&e.top===t.top}function b(t,n,o,a,i){t===void 0&&(t=!1),a===void 0&&(a=!1),i===void 0&&(i=null);var l=p({bottom:o,left:n,right:n,top:o}),s=l[0],u=l[1],b=m(0),v=r("useWeightedScrollSpeedRef.react")(i),S=c(r("VirtualizationContainerContext"));function R(e){if(t){var n=e(),r=n>b.current;b.current=n,u(function(e){var t=window.innerHeight,n=v.weightedSpeed,i=n===0?1:n/y,l=h*i,s=a?1:_,u=a?_:1,c=Math.min(o*s,t),d=Math.min(o*u,t),m=t/g,p=null;return r?p=babelHelpers.extends({},e,{bottom:Math.min(d,e.bottom+l),top:Math.min(c,Math.max(m,e.top-l))}):p=babelHelpers.extends({},e,{bottom:Math.min(d,Math.max(m,e.bottom-l)),top:Math.min(c,e.top+l)}),C(e,p)?e:p})}}var L=r("useDebouncedComet")(R,{wait:f});return d(function(){if(!t)return;var n=typeof i=="function"?i():S==null?void 0:S.rootElementRef.current,o=!n,a=o?window:n;if(!(e||(e=r("ExecutionEnvironment"))).canUseDOM||typeof window=="undefined")return;function l(){var e=o?window.scrollY:n==null?void 0:n.scrollTop;return e!=null?e:0}function s(){L(l)}return a==null||a.addEventListener("scroll",s,{passive:!0}),function(){a==null||a.removeEventListener("scroll",s)}},[i,S==null?void 0:S.rootElementRef,L,t]),s}l.default=b}),98);
__d("MutationObserver",[],(function(t,n,r,o,a,i){var e,l,s=(function(){function e(e){}var t=e.prototype;return t.observe=function(t,n){},t.disconnect=function(){},t.takeRecords=function(){return[]},e})(),u=(e=(l=t.MutationObserver)!=null?l:t.WebKitMutationObserver)!=null?e:s,c=u;i.default=c}),66);
__d("useMutationObserver",["MutationObserver","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e,t){var n=c({observer:null,callback:e}),o=c(null),a=c({element:null,options:null,observer:null}),i=u(function(){var e=a.current,r=e.element,i=e.observer,l=e.options,s=n.current.observer,u=o.current;(r!=u||t!=l||s!=i)&&(i&&i.disconnect(),s&&u&&s.observe(u,t),a.current={observer:s,element:u,options:t})},[t]);return(n.current.observer==null||n.current.callback!==e)&&(n.current.observer!=null&&n.current.observer.disconnect(),n.current={observer:new(r("MutationObserver"))(e),callback:e}),i(),u(function(e){o.current=e,i()},[i])}l.default=d}),98);
__d("useMutationStableChecker",["react","useMutationObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e,t){var n=[];return e.forEach(function(e){e instanceof HTMLElement&&(e.matches(t)&&n.push(e),n.push.apply(n,Array.from(e.querySelectorAll(t))))}),n}function _(e,t,n,r){r===void 0&&(r=!1);var o=p(t,n);return o.length===0?e:r?new Set([].concat(Array.from(e).filter(function(e){return!o.includes(e)}))):new Set([].concat(Array.from(e),o))}var f={childList:!0,subtree:!0};function g(e,t,n){var o=m(!0),a=o[0],i=o[1],l=d(),s=d(new Set),p=r("useMutationObserver")(function(t){t.forEach(function(e){if(e.type==="childList"){var t=e.addedNodes,r=e.removedNodes;n!=null&&(s.current=_(_(s.current,t,n,!1),r,n,!0))}}),g(e)},f),g=u(function(e){l.current!=null&&window.clearTimeout(l.current),l.current=window.setTimeout(function(){s.current.size>0?g(e):(i(!0),p(null))},e)},[p]);return c(function(){return e>0?(p(t.current!=null?t.current:null),i(!1)):p(null),function(){l.current!=null&&window.clearTimeout(l.current),p(null)}},[e,p,t]),a}l.default=g}),98);
__d("useTimeoutStateSinceFirstMounting.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState;function m(e){var t=d(e<=0),n=t[0],r=t[1],o=c(e),a=c(!1);return u(function(){var e=window.setTimeout(function(){a.current||(a.current=!0,r(!0))},o.current);return function(){window.clearTimeout(e)}},[]),n}l.default=m}),98);
__d("useVirtualizationContext",["VirtualizationContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useMemo,m=s.useRef;function p(){var e=c(r("VirtualizationContext")),t=m(0),n=m(new Set),o=m(!1),a=m(null);a.current==null&&(a.current=new Map);var i=u(function(e){var n,r=t.current++;return(n=a.current)==null||n.set(r,e),function(){var e;(e=a.current)==null||e.delete(r)}},[]),l=u(function(){return a.current==null?!1:a.current.size>0},[]),s=m(null);s.current==null&&(s.current=new Map);var p=u(function(e,n){var r=t.current++,o=null,a=s.current;if(a!=null){var i;a.has(e)||a.set(e,new Map),o=a.get(e),(i=o)==null||i.set(r,n)}return function(){var t,n;(t=o)==null||t.delete(r),((n=o)==null?void 0:n.size)===0&&(a==null||a.delete(e))}},[]),_=u(function(e){var t,n;return(t=(n=s.current)==null?void 0:n.has(e))!=null?t:!1},[]),f=u(function(e){return n.current.add(e),e(o.current),function(){n.current.delete(e)}},[]),g=u(function(e){o.current=e,n.current.forEach(function(t){t(e)})},[]),h=m(null),y=d(function(){return e!=null?e:{contentWrapperRef:h,createFlag:p,createPin:i,hasFlag:_,hasPin:l,onVirtualizationChange:g,subscribeToVirtualizationStatus:f}},[h,p,i,_,l,g,e,f]);return y}l.default=p}),98);
__d("CometVirtualization.react",["BaseView.react","BaseViewHideable.react","FBLogger","HiddenSubtreeContextProvider.react","HiddenSubtreePassiveContext","VirtualizationConfig","VirtualizationContainerContext","VirtualizationContext","gkx","intersectionObserverEntryIsIntersecting","justknobx","nullIntersectionObserverEntryLogger","react","stylex","useDynamicVirtualizationMargin.react","useIntersectionObserver","useMergeRefs","useMutationStableChecker","usePrevious","useTimeoutStateSinceFirstMounting.react","useVirtualizationContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.unstable_Activity,m=c.useCallback,p=c.useContext,_=c.useEffect,f=c.useRef,g=c.useState,h=(function(){var e=null;return function(){if(e===null){var t,n=(t=document)==null?void 0:t.documentElement;if(n==null)throw r("FBLogger")("comet_infra").mustfixThrow("Scroll anchoring feature detection called in an environment without a documentElement");e=n.style.overflowAnchor!=null}return e}})();function y(e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var n=g(e),r=n[0],o=n[1];return _(function(){r===null&&o(function(){return h()})},[r]),t||(r!=null?r:!1)}var C={invisible:{display:"x1s85apg",$$css:!0},resetBlockFormattingContext:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},b=r("justknobx")._("1003");function v(e){return typeof e.replace=="function"?e.replace(/\n/g," ").replace(/\s+/g," "):""}function S(){return typeof IntersectionObserver!="function"||typeof IntersectionObserver.toString!="function"?!1:v(IntersectionObserver.toString()).endsWith("{ [native code] }")}var R=S();function L(t){var n=arguments,a,i=t.activityOnlyMode,l=i===void 0?!1:i,s=t.allowVirtualizationWithNullNodeHeight,c=s===void 0?!1:s,h=t.children,v=t.deferVirtualizationInMs,S=v===void 0?0:v,L=t.deferVirtualizationMutationIntervalInMs,E=L===void 0?0:L,k=t.deferVirtualizationPlaceholderSelector,I=t.delayHeightPlaceholderMs,T=I===void 0?0:I,D=t.disableHiding,x=t.fasterSizeMeasurement,$=x===void 0?!1:x,P=t.hiddenMode,N=P===void 0?"legacy":P,M=t.initialRenderConfig,w=M===void 0?o("VirtualizationConfig").DEFAULT_INIT_RENDER_CONFIG:M,A=t.innerContentXStyle,F=t.isInfiniteScrollUp,O=F===void 0?!1:F,B=t.leftRightMargin,W=B===void 0?o("VirtualizationConfig").HORIZONTAL_HIDEABLE_MARGIN:B,q=t.mountXStyle,U=t.nullState,V=U===void 0?null:U,H=t.pinChildrenOnInteraction,G=t.pinChildrenWithPlayer,z=t.ref,j=t.scrollport,K=j===void 0?null:j,Q=t.skipScrollAnchoringCheck_UNSAFE,X=Q===void 0?!1:Q,Y=t.smartMargin,J=Y===void 0?!1:Y,Z=t.testid,ee=Z===void 0?"hideable":Z,te=t.textSearchable,ne=te===void 0?!1:te,re=t.topBottomMargin,oe=re===void 0?o("VirtualizationConfig").VERTICAL_HIDEABLE_MARGIN:re,ae=t.unmountHiddenChildren,ie=t.unmountXStyle,le=t.xstyle,se=f(null),ue=f(null),ce=p(r("HiddenSubtreePassiveContext")),de=g(!1),me=de[0],pe=de[1],_e=f(!0),fe=g(w.isVisible),ge=fe[0],he=fe[1],ye=g(w.nodeHeight),Ce=ye[0],be=ye[1],ve=g(""),Se=ve[0],Re=ve[1],Le=r("usePrevious")(ge),Ee=r("useTimeoutStateSinceFirstMounting.react")(S),ke=r("useVirtualizationContext")(),Ie=p(r("VirtualizationContainerContext")),Te=f(null),De=q!=null?q:le,xe=ie!=null?ie:le;_(function(){var e=_e.current||Ce==null&&!ge;if(ue.current!=null&&e){if($||be(ue.current.getBoundingClientRect().height),ne){var t,n;Re((t=(n=ue.current)==null||(n=n.innerText)==null?void 0:n.trim())!=null?t:"")}window.clearTimeout(Te.current)}},[$,ge,Ce,Le,ne]);var $e=T!=null&&T>0,Pe=function(t){r("nullIntersectionObserverEntryLogger")(t,"IntersectionObserverEntry is null. num_arguments="+n.length);var e=ce.getCurrentState().hiddenOrBackgrounded_FIXME;if(r("intersectionObserverEntryIsIntersecting")(t))$e?Te.current=window.setTimeout(function(){be(null)},T):(window.clearTimeout(Te.current),be(null)),he(!0);else if(!e){var o,a=$?(o=t==null?void 0:t.boundingClientRect)!=null?o:{}:t.target.getBoundingClientRect(),i=a.height,l=a.width;if(i>0&&l>0&&(he(!1),$&&be(i),$e&&(window.clearTimeout(Te.current),be(i),ne))){var s,u;Re((s=(u=se.current)==null||(u=u.innerText)==null?void 0:u.trim())!=null?s:"")}}},Ne=r("useMutationStableChecker")(E,ue,k);_(function(){_e.current&&(_e.current=!1)},[]);var Me={bottom:oe,left:W,right:W,top:oe},we=r("useDynamicVirtualizationMargin.react")(J,W,oe,O,K),Ae=J?we:Me,Fe=m(function(){var e=K!=null?K==null?void 0:K():Ie==null?void 0:Ie.rootElementRef.current;return e instanceof Element?e:null},[K,Ie]),Oe=r("useIntersectionObserver")(Pe,{root:Fe,rootMargin:babelHelpers.extends({},Ae),scrollMargin:babelHelpers.extends({},Ae),threshold:0}),Be=p(r("VirtualizationContext")),We=r("useMergeRefs")(Be==null?ke.contentWrapperRef:null,Oe,se,z),qe=(function(){if(!me&&Ce!==null&&(!c||Ce!=null&&Ce>0)&&ae!==!1&&($e||!ge))return{minHeight:Ce}})(),Ue=!ge&&(Ce!=null||c===!0),Ve=y((a=w.hasScrollAnchoring)!=null?a:null,X),He=b&&Ve,Ge=He?We:z;if(r("gkx")("22947"))return u.jsx("div",{className:"x78zum5 xdt5ytf",children:u.jsx(r("BaseView.react"),{children:h})});var ze=function(){H===!0&&pe(!0)},je=(G!=null?G:!1)&&ke.hasFlag("HAS_PLAYER"),Ke=R&&He&&ae===!0&&Ue&&!me&&!ke.hasPin()&&!je&&Ee&&Ne;ke.onVirtualizationChange(Ke);var Qe=He&&!(D!=null&&D)&&Ue&&N!=="none",Xe=ne&&Se!=="";return l?u.jsx(r("VirtualizationContext").Provider,{value:ke,children:u.jsxs("div",{className:(e||(e=r("stylex")))(C.resetBlockFormattingContext,Ke?xe:De),"data-testid":void 0,"data-virtualized":Ke,onClickCapture:ze,onFocusCapture:ze,onKeyPressCapture:ze,ref:Ge,style:qe,children:[Xe?u.jsx("div",{className:"xqtp20y x6ikm8r x10wlt62 xnalus7",children:Se}):null,u.jsx("div",{className:e(A),ref:ue,children:u.jsx(d,{mode:Ke?"hidden":"visible",children:h})})]})}):u.jsx(r("VirtualizationContext").Provider,{value:ke,children:u.jsxs("div",{className:(e||(e=r("stylex")))(C.resetBlockFormattingContext,Ke?xe:De),"data-testid":void 0,"data-virtualized":Ke,onClickCapture:ze,onFocusCapture:ze,onKeyPressCapture:ze,ref:Ge,style:qe,children:[Xe?u.jsx("div",{className:"xqtp20y x6ikm8r x10wlt62 xnalus7",children:Se}):null,N==="legacy"?u.jsx(r("BaseViewHideable.react"),{hidden:Qe,ref:ue,xstyle:[A,Qe&&C.invisible],children:Ke?null:u.jsx(r("HiddenSubtreeContextProvider.react"),{isHidden:Qe,children:h})}):u.jsx("div",{className:(e||(e=r("stylex")))(A),ref:ue,children:Ke?V:h})]})})}L.displayName=L.name+" [from "+i.id+"]",l.default=L}),98);
__d("useStatesInMap",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState;function m(e,t){var n=c(e),r=c({}),o=d(t),a=o[0],i=o[1];return u(function(){if(n.current!==e){var o;n.current=e,i((o=r.current[e])!=null?o:t)}},[r,i,n,e,t]),u(function(){r.current[e]=a},[a,e]),[a,i]}l.default=m}),98);
__d("CometWarningScreenContext",["react","useStatesInMap"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useCallback,m=u.useContext,p=u.useMemo,_=c({makeContentVisibleDespiteOverlay:function(){},overlaySettings:{additionalRequiredHeight:0,isContentVisibleDespiteOverlay:null,isOnFeedMedia:!1,overlayExists:!1,overlayShown:!1,parentRenderInstructions:"CLIP_TO_MEDIA",videoController:null},setAdditionalRequiredHeight:function(){},setIsOnFeedMedia:function(){},setOverlayExists:function(){},setParentRenderInstructions:function(){},showOverlay:function(){}});function f(e){var t=e.children,n=e.identifier,o=e.isOnFeedMedia,a=e.overlayExists,i=e.overlayShownOverride,l=e.videoController,u=r("useStatesInMap")(n,{additionalRequiredHeight:0,isContentVisibleDespiteOverlay:null,isOnFeedMedia:o,overlayExists:a,overlayShown:i!=null?i:a,parentRenderInstructions:"CLIP_TO_MEDIA",videoController:l}),c=u[0],m=u[1],f=d(function(e){m(function(t){return babelHelpers.extends({},t,{overlayShown:e})})},[m]),g=d(function(e){m(function(t){return babelHelpers.extends({},t,{isContentVisibleDespiteOverlay:e})})},[m]),h=d(function(e){m(function(t){return babelHelpers.extends({},t,{overlayExists:e})})},[m]),y=d(function(e){m(function(t){return babelHelpers.extends({},t,{isOnFeedMedia:e})})},[m]),C=d(function(e){m(function(t){return babelHelpers.extends({},t,{additionalRequiredHeight:e})})},[m]),b=d(function(e){m(function(t){return babelHelpers.extends({},t,{parentRenderInstructions:e})})},[m]),v=p(function(){return{makeContentVisibleDespiteOverlay:g,overlaySettings:c,setAdditionalRequiredHeight:C,setIsOnFeedMedia:y,setOverlayExists:h,setParentRenderInstructions:b,showOverlay:f}},[c,C,f,g,h,b,y]);return s.jsx(_.Provider,{value:v,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(){var e=m(_),t=e.overlaySettings;return t.overlayExists}function h(){var e=m(_),t=e.overlaySettings;return t.videoController}function y(){var e=m(_),t=e.overlaySettings;return t.overlayShown}function C(){var e=m(_),t=e.overlaySettings;return t.isOnFeedMedia}function b(){var e=m(_),t=e.overlaySettings;return t.isContentVisibleDespiteOverlay}function v(){var e=y(),t=b();return e?t:!0}function S(){var e=m(_),t=e.overlaySettings;return t.additionalRequiredHeight}function R(){var e=m(_),t=e.overlaySettings;return t.parentRenderInstructions}function L(){var e=m(_),t=e.showOverlay;return t}function E(){var e=m(_),t=e.makeContentVisibleDespiteOverlay;return t}function k(){var e=m(_),t=e.setOverlayExists;return t}function I(){var e=m(_),t=e.setIsOnFeedMedia;return t}function T(){var e=m(_),t=e.setAdditionalRequiredHeight;return t}function D(){var e=m(_),t=e.setParentRenderInstructions;return t}l.CometWarningScreenContextProvider=f,l.useHasOverlay=g,l.useHasVideoController=h,l.useIsOverlayShown=y,l.useIsOnFeedMedia=C,l.useIsContentVisibleDespiteOverlay=b,l.useIsContentVisible=v,l.useAdditionalRequiredHeight=S,l.useParentRenderInstructions=R,l.useShowOverlay=L,l.useMakeContentVisibleDespiteOverlay=E,l.useSetOverlayExists=k,l.useSetIsOnFeedMedia=I,l.useSetAdditionalRequiredHeight=T,l.useSetParentRenderInstructions=D}),98);
__d("FDSEntryPointPopoverTrigger.react",["CometEntryPointPopoverTrigger.react","FDSPopoverLoadingState.react","XPlatReactEnvironment","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["fallback"],s,u=s||(s=o("react"));function c(t){var n=t.fallback,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(r("CometEntryPointPopoverTrigger.react"),babelHelpers.extends({fallback:n!=null?n:u.jsx(r("FDSPopoverLoadingState.react"),{withArrow:o("XPlatReactEnvironment").isWeb()})},a))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("FDSTooltipGroup.react",["BaseTooltipGroup.react","CometTooltipImpl.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.children;return s.jsx(o("BaseTooltipGroup.react").Container,{tooltipImpl:r("CometTooltipImpl.react"),children:t})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWSearchPluginUtils",["isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r=(t=e==null||(n=e.split("?")[1])==null?void 0:n.split("&"))!=null?t:[];if(r.length===0)return null;var o=[],a=[],i=[],l="",s="",u="";return r.forEach(function(e){var t=e.split("="),n=t[0],r=t[1],c=decodeURIComponent(r);n.includes("source_titles")&&o.push(c.replaceAll("+"," ")),n.includes("source_sub_titles")&&a.push(c.replaceAll("+"," ")),n.includes("source_urls")&&i.push(c),n==="source_query"&&(l=r==null?"":c.replaceAll("+"," ")),n==="source_query_url"&&(s=c),n==="header"&&(u=c)}),{header:u,source_query:l,source_query_url:s,source_sub_titles:a,source_titles:o,source_urls:i}}function s(e){return!!(e.cta1Type==="xma_gen_ai_search_plugin_response_search_engine_attribution"&&e.cta2Type==="xma_gen_ai_search_plugin_response_sources"||c(e))}function u(e){return e.cta1Type==="xma_gen_ai_search_plugin_response_sources"}function c(e){return e.cta1Type==="xma_gen_ai_search_plugin_response_sources"&&r("isStringNullOrEmpty")(e.headerTitle)}l.useSearchPluginSources=e,l.isSearchPlugin=s,l.isSearchSingleBubblePlugin=u,l.isSearchPluginWithoutAttributionLink=c}),98);
__d("IGDAttachmentUtil",["fbt","I64","LSBitFlag","LSIntEnum","MNXMAPreviewImageDecorationType","MWSearchPluginUtils","MessagingAttachmentType"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video","xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function d(e,t,n,r){return p(e)||_(t)||D(e,r)||f(e)&&n!==!0||R(e)}function m(e,t,n){var r;return p(e)?r="default_cta":_(t)?r="cta":f(e)&&!n?r="poll":e.loggingGenericXmaContentType!=null&&(r=e.loggingGenericXmaContentType),r}function p(e){return e.defaultCtaType!=null&&c.has(e.defaultCtaType)}function _(e){return e==null?!1:!!(e.type_==="xma_open_native"&&e.nativeUrl!=null&&e.nativeUrl.startsWith("instagram://"))}function f(e){return e.defaultCtaType!=null&&e.defaultCtaType==="xma_poll_details_card"}function g(t){return(e||(e=o("I64"))).equal(t.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))}function h(t){return(e||(e=o("I64"))).equal(t.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))}function y(t){return(e||(e=o("I64"))).equal(t.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE))}function C(t){return(e||(e=o("I64"))).equal(t.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO))}function b(t){return(e||(e=o("I64"))).equal(t.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE))}function v(t){return!!(t.attachmentType&&(e||(e=o("I64"))).equal(t.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO)))}function S(e){return e.playableUrlMimeType==="image/gif"||e.stickerType==="cutout_sticker"||e.stickerType==="ai_generated_sticker"||e.stickerType==="avatar_sticker"||e.stickerType==="music_sticker"}function R(e){return e.loggingGenericXmaContentType==="quick_snap"}function L(t){return!!(t.hasXma===!0||t.attachmentType&&(e||(e=o("I64"))).equal(t.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA)))}function E(t){return!!(t.previewImageDecorationType&&(e||(e=o("I64"))).equal(t.previewImageDecorationType,(u||(u=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").REEL)))}function k(t){if(!t)return null;if(L(t)&&E(t))return s._(/*BTDS*/"Reel");if(L(t))return s._(/*BTDS*/"Attachment");if(t.attachmentType){var n=(e||(e=o("I64"))).to_int32(t.attachmentType);if(n===r("MessagingAttachmentType").IMAGE)return s._(/*BTDS*/"Photo");if(n===r("MessagingAttachmentType").VIDEO)return s._(/*BTDS*/"Video");if(n===r("MessagingAttachmentType").AUDIO)return s._(/*BTDS*/"Voice Message")}return null}function I(e){if(!e||v(e))return!1;var t=L(e),n=E(e);return!(t===!0&&n!==!0||e.previewUrl==null||e.previewUrl==="")}function T(t){if((e||(e=o("I64"))).equal(t.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)))return"store_sticker_rendered";switch(t.stickerType){case"avatar_sticker":return"avatar_sticker_rendered";case"cutout_sticker":return"cutout_sticker_rendered";case"ai_generated_sticker":return"ai_generated_sticker_rendered";default:return null}}function D(e,t){return t==null||o("MWSearchPluginUtils").isSearchPlugin(e)||o("MWSearchPluginUtils").isSearchSingleBubblePlugin(e)?!1:t.botResponseId!=null&&o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(1024),t.displayedContentTypes)}l.isUnsupportedXma=d,l.getUnsupportedXmaType=m,l.isUnsupportedCTA=_,l.isIGDPoll=f,l.isImageAttachment=g,l.isVideoAttachment=h,l.isEphemeralImageAttachment=y,l.isEphemeralVideoAttachment=C,l.isAnimatedImageAttachment=b,l.isAudioAttachment=v,l.isStickerXMA=S,l.isQuickSnapAttachment=R,l.isXMAAttachment=L,l.isReelAttachment=E,l.getAttachmentTypeLabel=k,l.shouldDisplayThumbnail=I,l.getStickerImpressionLoggingEventName=T}),226);
__d("PolarisAPIRetrieveUserCallSettings",["PolarisInstapi","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("PolarisInstapi").apiGet("/api/v1/video_call/retrieve_user_call_settings/");return e.data}),s.apply(this,arguments)}l.retrieveUserCallSettings=e}),98);
__d("IGDCallButton.react",["FBLogger","I64","IGDSCallPanoOutline24Icon.react","IGDSIconButton.react","IGDSVideoChatPanoOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MWPActor.react","MessengerWebUXLogger","PolarisAPIRetrieveUserCallSettings","PolarisCallNavigator","PolarisDirectLogger","PolarisDirectStrings","PolarisInstapi","ReQL","asyncToGeneratorRuntime","gkx","promiseDone","react","react-compiler-runtime","useMsysIgThreadId","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react"));function d(e,t,n){var r;return(r=o("ReQL")).toArrayAsync(r.leftJoin(r.fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(n).filter(function(e){return!(u||(u=o("I64"))).equal(e.contactId,t)}),r.fromTableAscending(e.tables.ig_contact_info)).map(function(e){var t=e[0],n=e[1];return n}))}function m(e,t){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(t).map(function(e){var t=e.name;return t}))}function p(t){var a=o("react-compiler-runtime").c(19),i=t.isVideo,l=t.threadKey,s=t.threadType,p=(e||(e=r("useReStore")))(),_=r("useMsysIgThreadId")(l),f=o("MWPActor.react").useActor(),g=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),h=r("MessengerWebUXLogger").useInteractionLogger(),y;a[0]===Symbol.for("react.memo_cache_sentinel")?(y={eventName:"start_video_chat_button_impression"},a[0]=y):y=a[0];var C=r("MessengerWebUXLogger").useImpressionLoggerRef(y),b,v;a[1]!==f||a[2]!==p||a[3]!==g||a[4]!==i||a[5]!==h||a[6]!==_||a[7]!==l||a[8]!==s?(b=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e,t,n=(e=yield d(p,f,l))!=null?e:[],a=(t=n[0])!=null?t:{},c=a.contactId,y=a.igId;if(h==null||h({eventName:i?"start_video_chat":"start_audio_call",flowInstanceId:g}),r("gkx")("24007")){var C=c!=null?yield m(p,c):null;if(y==null||s==null||(u||(u=o("I64"))).to_int32(s)!==1)return;var b=o("PolarisInstapi").apiGet("/api/v1/friendships/show/{target_user_id}/",{path:{target_user_id:y}}),v=(yield o("PolarisAPIRetrieveUserCallSettings").retrieveUserCallSettings()).setting_type;if(v!=="people_you_follow")return;if((yield b).data.following!==!0){if(C==null){r("FBLogger")("ig_web").mustfix("Unable to open modal - username is null");return}return}}o("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectThread","call_button_click",{has_video:i,ig_thread_id:_}),_!=null?o("PolarisCallNavigator").launchCall(_,i):r("FBLogger")("ig_web").mustfix("Unable to initiate call - missing thread id")});return function(){return e.apply(this,arguments)}})(),v=[p,f,l,h,i,g,_,s],a[1]=f,a[2]=p,a[3]=g,a[4]=i,a[5]=h,a[6]=_,a[7]=l,a[8]=s,a[9]=b,a[10]=v):(b=a[9],v=a[10]);var S=o("Int64Hooks").useCallbackInt64(b,v),R;a[11]!==S?(R=function(){r("promiseDone")(S())},a[11]=S,a[12]=R):R=a[12];var L;a[13]!==i?(L=i?c.jsx(r("IGDSVideoChatPanoOutlineIcon.react"),{alt:o("PolarisDirectStrings").VIDEO_CALL_STRING,color:"ig-primary-text"}):c.jsx(r("IGDSCallPanoOutline24Icon.react"),{alt:o("PolarisDirectStrings").AUDIO_CALL_STRING,color:"ig-primary-text"}),a[13]=i,a[14]=L):L=a[14];var E;return a[15]!==C||a[16]!==R||a[17]!==L?(E=c.jsx(r("IGDSIconButton.react"),{innerRef:C,onClick:R,children:L}),a[15]=C,a[16]=R,a[17]=L,a[18]=E):E=a[18],E}l.default=p}),98);
__d("IGDCallButtonAndJoinButtonWithBlockCheck.react",["I64","IGDCallButton.react","IGDJoinCallButton.react","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","LSThreadBitOffset","MWCMThreadTypes.react","MWPActor.react","PolarisDirectLogger","RTWebIncomingRingConfiguration","ReQL","ReQLSuspense","react","react-compiler-runtime","useOngoingCallIsStale","useOngoingCallServerInfoData","useOngoingCallState","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react"));function m(t){var n=o("react-compiler-runtime").c(9),a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),c;n[0]!==l||n[1]!==a||n[2]!==t.threadKey||n[3]!==t.threadType?(c=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(a.tables.participants).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(a.tables.contacts)).map(p).filter(function(e){return(s||(s=o("I64"))).equal(e.id,l)?!1:!(s||(s=o("I64"))).equal(e.blockedByViewerStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))}):o("ReQL").empty()},n[0]=l,n[1]=a,n[2]=t.threadKey,n[3]=t.threadType,n[4]=c):c=n[4];var d;return n[5]!==l||n[6]!==a||n[7]!==t?(d=[a,t,l],n[5]=l,n[6]=a,n[7]=t,n[8]=d):d=n[8],o("ReQLSuspense").useFirst(c,d,i.id+":55")!=null}function p(e){var t=e[1];return t}function _(){var t=o("react-compiler-runtime").c(6),n=(e||(e=r("useReStore")))(),a=o("MWPActor.react").useActor(),l;t[0]!==a||t[1]!==n.tables.contacts?(l=function(){return o("ReQL").fromTableAscending(n.tables.contacts).getKeyRange(a)},t[0]=a,t[1]=n.tables.contacts,t[2]=l):l=t[2];var s;return t[3]!==a||t[4]!==n?(s=[n,a],t[3]=a,t[4]=n,t[5]=s):s=t[5],o("ReQLSuspense").useFirst(l,s,i.id+":82")}function f(e){var t=o("react-compiler-runtime").c(24),n=e.thread,a=o("LSMessagingThreadTypeUtil").isIGDMessageRequest(n),i=o("LSMessagingThreadTypeUtil").isOneToOne(n.threadType),l=_(),c=l!=null?o("LSContactBitOffset").has(23,l):void 0,p=m(n),f=r("useOngoingCallServerInfoData")(n.threadKey),g=r("useOngoingCallState")(n.threadKey),h=r("useOngoingCallIsStale")(n.threadType,f!=null,n.ongoingCallTimestampMs),y;t[0]!==g?(y=!(s||(s=o("I64"))).equal(g,(u||(u=o("LSIntEnum"))).ofNumber(r("LSRtcCallState").AUDIO_GROUP_CALL))&&!(s||(s=o("I64"))).equal(g,(u||(u=o("LSIntEnum"))).ofNumber(r("LSRtcCallState").AUDIO_1TO1_CALL)),t[0]=g,t[1]=y):y=t[1];var C=y,b;t[2]!==n.threadSubtype?(b=n.threadSubtype!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(n.threadSubtype),t[2]=n.threadSubtype,t[3]=b):b=t[3];var v=b,S,R,L;if(t[4]!==v||t[5]!==n){var E=o("LSThreadBitOffset").has(24,n),k=o("LSThreadBitOffset").has(25,n);S=o("RTWebIncomingRingConfiguration").isSupportedClient(),L=!v&&k,R=!v&&E,(L||R)&&o("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectThread","call_button_impression",{isRTCVideoCallEnabled:E,isRTCVoiceCallEnabled:k}),t[4]=v,t[5]=n,t[6]=S,t[7]=R,t[8]=L}else S=t[6],R=t[7],L=t[8];if(p||a||!i&&c===!0||!S)return null;if(f!=null&&h!==!0){o("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectThread","join_button_impression",{has_video:C,server_info_data:f});var I;return t[9]!==C||t[10]!==f||t[11]!==n.threadKey?(I=d.jsx(r("IGDJoinCallButton.react"),{isVideo:C,serverInfoData:f,threadKey:n.threadKey}),t[9]=C,t[10]=f,t[11]=n.threadKey,t[12]=I):I=t[12],I}else{var T;t[13]!==L||t[14]!==n.threadKey||t[15]!==n.threadType?(T=L?d.jsx(r("IGDCallButton.react"),{isVideo:!1,threadKey:n.threadKey,threadType:n.threadType}):null,t[13]=L,t[14]=n.threadKey,t[15]=n.threadType,t[16]=T):T=t[16];var D;t[17]!==R||t[18]!==n.threadKey||t[19]!==n.threadType?(D=R?d.jsx(r("IGDCallButton.react"),{isVideo:!0,threadKey:n.threadKey,threadType:n.threadType}):null,t[17]=R,t[18]=n.threadKey,t[19]=n.threadType,t[20]=D):D=t[20];var x;return t[21]!==T||t[22]!==D?(x=d.jsxs(d.Fragment,{children:[T,D]}),t[21]=T,t[22]=D,t[23]=x):x=t[23],x}}l.default=f}),98);
__d("IGDCallButtonAndJoinButtonWithBlockCheckWrapper.react",["CometPlaceholder.react","IGDEqualityUtils","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","useStableValue"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c=r("deferredLoadComponent")(r("requireDeferredForDisplay")("IGDCallButtonAndJoinButtonWithBlockCheck.react").__setRef("IGDCallButtonAndJoinButtonWithBlockCheckWrapper.react"));function d(e){var t=o("react-compiler-runtime").c(15),n=e.thread,a;t[0]!==n.capabilities||t[1]!==n.capabilities2||t[2]!==n.capabilities3||t[3]!==n.capabilities4||t[4]!==n.capabilities5||t[5]!==n.ongoingCallTimestampMs||t[6]!==n.parentThreadKey||t[7]!==n.threadKey||t[8]!==n.threadSubtype||t[9]!==n.threadType?(a={capabilities:n.capabilities,capabilities2:n.capabilities2,capabilities3:n.capabilities3,capabilities4:n.capabilities4,capabilities5:n.capabilities5,ongoingCallTimestampMs:n.ongoingCallTimestampMs,parentThreadKey:n.parentThreadKey,threadKey:n.threadKey,threadSubtype:n.threadSubtype,threadType:n.threadType},t[0]=n.capabilities,t[1]=n.capabilities2,t[2]=n.capabilities3,t[3]=n.capabilities4,t[4]=n.capabilities5,t[5]=n.ongoingCallTimestampMs,t[6]=n.parentThreadKey,t[7]=n.threadKey,t[8]=n.threadSubtype,t[9]=n.threadType,t[10]=a):a=t[10];var l=o("useStableValue").useStableValue(a,o("IGDEqualityUtils").shallowEqualI64),u;t[11]!==l?(u=s.jsx(c,{thread:l}),t[11]=l,t[12]=u):u=t[12];var d=u,m;return t[13]!==d?(m=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:d}),t[13]=d,t[14]=m):m=t[14],m}l.default=d}),98);
__d("IGDPresenceUnifiedInboxAvatarWrapper.react",["IGDAvatar.react","react","react-compiler-runtime","usePresenceUnifiedIsThreadActive"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=o("react-compiler-runtime").c(4),n=e.isMobile,a=e.thread,i=r("usePresenceUnifiedIsThreadActive")(a.threadKey),l=n?"tiny":"medium",u;return t[0]!==i||t[1]!==l||t[2]!==a?(u=s.jsx(r("IGDAvatar.react"),{isActive:i,size:l,thread:a}),t[0]=i,t[1]=l,t[2]=a,t[3]=u):u=t[3],u}l.default=c}),98);
__d("IGDInboxHeader.react",["fbt","CometPressable.react","I64","IGDCallButtonAndJoinButtonWithBlockCheckWrapper.react","IGDEqualityUtils","IGDInviteModelUtils","IGDMobileNavigationButton.react","IGDNavigateBackToChatTabsButton.react","IGDNavigation","IGDPresenceUnifiedInboxAvatarWrapper.react","IGDProfileLinkOrFragment.react","IGDSBox.react","IGDSIconButton.react","IGDSInfoFilledIcon.react","IGDSInfoOutlineIcon.react","IGDSLazyPopoverTrigger.react","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSectionHeader.react","IGDThreadListNewMessageLoggingDataContext","IGDThreadTitleAndPresence.react","Int64Hooks","LSMessagingThreadTypeUtil","MAWThreadCutover","MDSRow.react","MDSRowItem.react","MWCMThreadTypes.react","MWPBumpEntityKey","MessengerWebUXLogger","PolarisCallGatingHelpers","PolarisConfig","PolarisUA","WebUXLoggingSurfaceContextProvider","gkx","qex","react","react-compiler-runtime","requireDeferred","useContactReachabilityStatus","useIsReadOnlyFeatureLimited","useRoutePassthroughProps","useStableValue","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.memo,p=d.useCallback,_=d.useMemo,f=r("requireDeferred")("PolarisLoggedOutPreviewOptionsDialog.react").__setRef("IGDInboxHeader.react"),g={threadTextWidth:{maxWidth:"x193iq5w",width:"xeq5yr9",$$css:!0}},h=s._(/*BTDS*/"Conversation information");function y(e){var t=o("react-compiler-runtime").c(68),n=e.disableInfoPanel,a=e.info,i=e.loadInboxInfoQuery,l=e.queryInboxInfoRef,d=e.setInfo,m=e.thread,p=n===void 0?!1:n,_=o("IGDNavigation").useIGDNavigation(),y;t[0]!==m.threadType?(y=o("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType),t[0]=m.threadType,t[1]=y):y=t[1];var b=y,v;t[2]!==m.threadType?(v=!o("LSMessagingThreadTypeUtil").isGroup(m.threadType)&&r("gkx")("24013"),t[2]=m.threadType,t[3]=v):v=t[3];var S=v,R=o("MAWThreadCutover").useIsCutoverOpenThread(m.threadKey),L;t[4]!==m.threadSubtype?(L=o("MWCMThreadTypes.react").isIGBroadcastChannelThread(m.threadSubtype),t[4]=m.threadSubtype,t[5]=L):L=t[5];var E=L,k=r("useRoutePassthroughProps")(),I=k!=null&&k.entryPoint==="pendingRequests",T=k!=null&&k.entryPoint==="inboxSpam",D=k!=null&&k.entryPoint==="igdChatTabsThreadView",x;t[6]!==m.threadType?(x=o("LSMessagingThreadTypeUtil").isOneToOne(m.threadType),t[6]=m.threadType,t[7]=x):x=t[7];var $=x,P=o("useContactReachabilityStatus").useContactReachabilityStatus(m.threadKey,m.threadType),N=r("useIsReadOnlyFeatureLimited")(),M=o("IGDInviteModelUtils").useHasInviteModelEnabled(P),w;t[8]!==M||t[9]!==N||t[10]!==b||t[11]!==S||t[12]!==m.threadSubtype?(w=o("PolarisCallGatingHelpers").isWebCallingEnabled()&&!N&&(S||!b)&&!o("LSMessagingThreadTypeUtil").isPartnership(m.threadSubtype)&&!M,t[8]=M,t[9]=N,t[10]=b,t[11]=S,t[12]=m.threadSubtype,t[13]=w):w=t[13];var A=w,F=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),O=r("MessengerWebUXLogger").useInteractionLogger(),B;t[14]!==i||t[15]!==l||t[16]!==m.threadKey?(B=function(){r("qex")._("900")===!0&&l==null&&(i==null||i({thread_fbid:(u||(u=o("I64"))).to_string(m.threadKey)}))},t[14]=i,t[15]=l,t[16]=m.threadKey,t[17]=B):B=t[17];var W=B,q,U;t[18]!==F||t[19]!==a||t[20]!==O||t[21]!==W||t[22]!==d?(q=function(){return r("vulture")("zqsN-5vhhSYSTZ5yXjIWnuTfL0I="),W(),O==null||O({eventName:"open_thread_info",flowInstanceId:F}),d(!a),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.infobar","toggle_info_panel")},U=[F,a,W,O,d],t[18]=F,t[19]=a,t[20]=O,t[21]=W,t[22]=d,t[23]=q,t[24]=U):(q=t[23],U=t[24]);var V=o("Int64Hooks").useCallbackInt64(q,U),H;t[25]!==a||t[26]!==W||t[27]!==d?(H=function(){return W(),d(!a),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.infobar","toggle_info_panel")},t[25]=a,t[26]=W,t[27]=d,t[28]=H):H=t[28];var G=H,z;t[29]!==E||t[30]!==m.threadKey?(z=o("PolarisConfig").isLoggedOutUser()&&E?c.jsx(r("IGDSLazyPopoverTrigger.react"),{align:"start",popoverProps:{threadId:(u||(u=o("I64"))).to_string(m.threadKey)},popoverResource:f,popoverType:"menu",position:"above",children:C}):null,t[29]=E,t[30]=m.threadKey,t[31]=z):z=t[31];var j=z,K;t[32]!==p||t[33]!==a||t[34]!==D||t[35]!==R||t[36]!==A||t[37]!==j||t[38]!==W||t[39]!==V||t[40]!==m?(K=R?null:c.jsxs(c.Fragment,{children:[A?c.jsx(r("IGDCallButtonAndJoinButtonWithBlockCheckWrapper.react"),{thread:m}):null,p?null:c.jsx("div",{className:"x78zum5 xf159sx xmzvs34",children:c.jsx(r("IGDSIconButton.react"),{"aria-expanded":a,onClick:V,onHoverStart:W,padding:0,children:a?c.jsx(r("IGDSInfoFilledIcon.react"),{alt:h,color:"ig-primary-text","data-testid":void 0}):c.jsx(r("IGDSInfoOutlineIcon.react"),{alt:h,color:"ig-primary-text","data-testid":void 0})})}),D?c.jsx(r("IGDNavigateBackToChatTabsButton.react"),{"data-testid":void 0,source:"thread_view"}):null,j]}),t[32]=p,t[33]=a,t[34]=D,t[35]=R,t[36]=A,t[37]=j,t[38]=W,t[39]=V,t[40]=m,t[41]=K):K=t[41];var Q;t[42]===Symbol.for("react.memo_cache_sentinel")?(Q=o("PolarisUA").isMobile(),t[42]=Q):Q=t[42];var X;t[43]!==E||t[44]!==I||t[45]!==T||t[46]!==_?(X=o("PolarisUA").isMobile()&&!E?c.jsx(r("IGDMobileNavigationButton.react"),{onClick:function(){return I?_.openPendingInbox():T?_.openHiddenRequests():_.goToNullState()}}):null,t[43]=E,t[44]=I,t[45]=T,t[46]=_,t[47]=X):X=t[47];var Y;t[48]!==p||t[49]!==E||t[50]!==$||t[51]!==W||t[52]!==G||t[53]!==m?(Y=c.jsx(r("MDSRowItem.react"),{children:$?c.jsx(r("IGDProfileLinkOrFragment.react"),{thread:m,children:c.jsx(r("IGDPresenceUnifiedInboxAvatarWrapper.react"),{isMobile:o("PolarisUA").isMobile(),thread:m})}):p?c.jsx(r("IGDPresenceUnifiedInboxAvatarWrapper.react"),{isMobile:o("PolarisUA").isMobile(),thread:m}):c.jsx(r("CometPressable.react"),{"aria-label":E?s._(/*BTDS*/"Open channel info"):s._(/*BTDS*/"Open the details pane of the group chat"),onHoverIn:W,onPress:G,overlayDisabled:!0,children:c.jsx(r("IGDPresenceUnifiedInboxAvatarWrapper.react"),{isMobile:o("PolarisUA").isMobile(),thread:m})})}),t[48]=p,t[49]=E,t[50]=$,t[51]=W,t[52]=G,t[53]=m,t[54]=Y):Y=t[54];var J;t[55]!==p||t[56]!==a||t[57]!==$||t[58]!==d||t[59]!==m?(J=c.jsx(r("MDSRowItem.react"),{expanding:!0,children:$?c.jsx(r("IGDProfileLinkOrFragment.react"),{thread:m,children:c.jsx(r("IGDThreadTitleAndPresence.react"),{isMobile:o("PolarisUA").isMobile(),thread:m})}):p?c.jsx(r("IGDThreadTitleAndPresence.react"),{isMobile:o("PolarisUA").isMobile(),thread:m}):c.jsx(r("CometPressable.react"),{onPress:function(){return d(!a),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.infobar","toggle_info_panel")},overlayDisabled:!0,xstyle:g.threadTextWidth,children:c.jsx(r("IGDThreadTitleAndPresence.react"),{isMobile:o("PolarisUA").isMobile(),thread:m})})}),t[55]=p,t[56]=a,t[57]=$,t[58]=d,t[59]=m,t[60]=J):J=t[60];var Z;t[61]!==Y||t[62]!==J?(Z=c.jsxs(r("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[Y,J]}),t[61]=Y,t[62]=J,t[63]=Z):Z=t[63];var ee;return t[64]!==K||t[65]!==X||t[66]!==Z?(ee=c.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"inbox_header",children:c.jsx(r("IGDSectionHeader.react"),{endAdornment:K,isMobile:Q,startAdornment:X,children:Z})}),t[64]=K,t[65]=X,t[66]=Z,t[67]=ee):ee=t[67],ee}function C(e,t){return c.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,hover:c.jsx(r("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:c.jsx(r("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:"More options",color:"ig-secondary-text"})}),innerRef:e,onClick:function(){return t()},children:c.jsx(r("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:c.jsx(r("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:"More options",color:"ig-primary-text"})})})}C.displayName=C.name+" [from "+i.id+"]";function b(e){var t=o("react-compiler-runtime").c(24),n=e.disableInfoPanel,r=e.isInfoPanelOpen,a=e.loadInboxInfoQuery,i=e.queryInboxInfoRef,l=e.setIsInfoPanelOpen,s=e.thread,u=n===void 0?!1:n,d;t[0]!==s.capabilities||t[1]!==s.capabilities2||t[2]!==s.capabilities3||t[3]!==s.capabilities4||t[4]!==s.capabilities5||t[5]!==s.memberCount||t[6]!==s.nullstateDescriptionText1||t[7]!==s.parentThreadKey||t[8]!==s.pauseThreadTimestamp||t[9]!==s.threadKey||t[10]!==s.threadName||t[11]!==s.threadPictureUrl||t[12]!==s.threadPictureUrlExpirationTimestampMs||t[13]!==s.threadPictureUrlFallback||t[14]!==s.threadSubtype||t[15]!==s.threadType?(d={capabilities:s.capabilities,capabilities2:s.capabilities2,capabilities3:s.capabilities3,capabilities4:s.capabilities4,capabilities5:s.capabilities5,memberCount:s.memberCount,nullstateDescriptionText1:s.nullstateDescriptionText1,parentThreadKey:s.parentThreadKey,pauseThreadTimestamp:s.pauseThreadTimestamp,threadKey:s.threadKey,threadName:s.threadName,threadPictureUrl:s.threadPictureUrl,threadPictureUrlExpirationTimestampMs:s.threadPictureUrlExpirationTimestampMs,threadPictureUrlFallback:s.threadPictureUrlFallback,threadSubtype:s.threadSubtype,threadType:s.threadType},t[0]=s.capabilities,t[1]=s.capabilities2,t[2]=s.capabilities3,t[3]=s.capabilities4,t[4]=s.capabilities5,t[5]=s.memberCount,t[6]=s.nullstateDescriptionText1,t[7]=s.parentThreadKey,t[8]=s.pauseThreadTimestamp,t[9]=s.threadKey,t[10]=s.threadName,t[11]=s.threadPictureUrl,t[12]=s.threadPictureUrlExpirationTimestampMs,t[13]=s.threadPictureUrlFallback,t[14]=s.threadSubtype,t[15]=s.threadType,t[16]=d):d=t[16];var m=o("useStableValue").useStableValue(d,o("IGDEqualityUtils").shallowEqualI64),p;return t[17]!==u||t[18]!==r||t[19]!==a||t[20]!==i||t[21]!==l||t[22]!==m?(p=c.jsx(y,{disableInfoPanel:u,info:r,loadInboxInfoQuery:a,queryInboxInfoRef:i,setInfo:l,thread:m}),t[17]=u,t[18]=r,t[19]=a,t[20]=i,t[21]=l,t[22]=m,t[23]=p):p=t[23],p}var v=m(b);l.default=v}),226);
__d("useIGDAttachmentUrl",["I64","LSMediaUrlAttachment","MAWDbMedia","MAWDbMsg","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=c.useEffect,m=c.useState;function p(e){var t=/^\d+$/;return t.test(e)}function _(t,n){var a=o("react-compiler-runtime").c(9),l=(e||(e=r("useReStore")))(),s;a[0]!==l.tables.e2ee_chunk||a[1]!==l.tables.e2ee_media||a[2]!==t||a[3]!==n?(s=function(){return o("ReQL").fromTableAscending(l.tables.e2ee_media,["msgIds","hashedPlaintextHash"]).getKeyRange(t).map(function(e){var t=o("MAWDbMsg").toMsgId(n);if(t!=null&&e.msgIds.includes(t))return o("ReQLSuspense").first(o("ReQL").fromTableAscending(l.tables.e2ee_chunk.index("hashedPlaintextHash")).getKeyRange(e.hashedPlaintextHash),i.id+":47")})},a[0]=l.tables.e2ee_chunk,a[1]=l.tables.e2ee_media,a[2]=t,a[3]=n,a[4]=s):s=a[4];var u;return a[5]!==l||a[6]!==t||a[7]!==n?(u=[l,t,n],a[5]=l,a[6]=t,a[7]=n,a[8]=u):u=a[8],o("ReQLSuspense").useFirst(s,u,i.id+":37")}function f(e,t){var n,r=o("react-compiler-runtime").c(16),a=t===void 0?!1:t,i=m(),l=i[0],u=i[1],c=(n=e.offlineAttachmentId)!=null?n:e.attachmentFbid,f;r[0]!==c?(f=p(c),r[0]=c,r[1]=f):f=r[1];var g=f,h;r[2]!==c||r[3]!==g?(h=o("MAWDbMedia").convertToMediaId64(g?(s||(s=o("I64"))).of_string(c):(s||(s=o("I64"))).zero),r[2]=c,r[3]=g,r[4]=h):h=r[4];var y=h,C=_(y,e.messageId),b,v;r[5]!==e||r[6]!==C||r[7]!==a?(b=function(){if(C==null){var t=o("LSMediaUrlAttachment").previewUrlLarge(e),n=a&&t!=null?t:o("LSMediaUrlAttachment").previewUrl(e);u(n)}},v=[e,C,a],r[5]=e,r[6]=C,r[7]=a,r[8]=b,r[9]=v):(b=r[8],v=r[9]),d(b,v);var S;r[10]!==C?(S=function(){if(C!=null){var e=URL.createObjectURL(new Blob([C.blobData],{type:C.mimetype}));return u(e),(function(){URL.revokeObjectURL(e)})}},r[10]=C,r[11]=S):S=r[11];var R;return r[12]!==e||r[13]!==C||r[14]!==a?(R=[e,C,a,u],r[12]=e,r[13]=C,r[14]=a,r[15]=R):R=r[15],d(S,R),l}function g(e){var t,n=o("react-compiler-runtime").c(14),r=m(),a=r[0],i=r[1],l=(t=e.offlineAttachmentId)!=null?t:e.attachmentFbid,u;n[0]!==l?(u=p(l),n[0]=l,n[1]=u):u=n[1];var c=u,f;n[2]!==l||n[3]!==c?(f=o("MAWDbMedia").convertToMediaId64(c?(s||(s=o("I64"))).of_string(l):(s||(s=o("I64"))).zero),n[2]=l,n[3]=c,n[4]=f):f=n[4];var g=f,h=_(g,e.messageId),y,C;n[5]!==e||n[6]!==h?(y=function(){if(h==null){var t=o("LSMediaUrlAttachment").playableUrl(e);i(t)}},C=[e,h],n[5]=e,n[6]=h,n[7]=y,n[8]=C):(y=n[7],C=n[8]),d(y,C);var b;n[9]!==h?(b=function(){if(h!=null){var e=URL.createObjectURL(new Blob([h.blobData],{type:h.mimetype}));return i(e),(function(){URL.revokeObjectURL(e)})}},n[9]=h,n[10]=b):b=n[10];var v;return n[11]!==e||n[12]!==h?(v=[e,h,i],n[11]=e,n[12]=h,n[13]=v):v=n[13],d(b,v),a}l.useIGDAttachmentPreviewUrl=f,l.useIGDAttachmentPlayableUrl=g}),98);
__d("fetch",[],(function(t,n,r,o,a,i){"use strict";var e=window.fetch,l=e;i.default=l}),66);
__d("useCommunityFolder",["MWPreloadableQueries","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=(e||(e=r("useReStore")))();return o("ReQLSuspense").useFirst(function(){return o("MWPreloadableQueries").getCommunityFolderQuery(n,t.parentThreadKey)},[n,t.parentThreadKey],i.id+":26")}l.default=s}),98);
__d("formatFileSize",["fbt"],(function(t,n,r,o,a,i,l,s){var e=[function(e){return s._(/*BTDS*/"_j{\"*\":\"{value} B\"}",[s._param("value",e,[0])])},function(e){return s._(/*BTDS*/"_j{\"*\":\"{value} KB\"}",[s._param("value",e,[0])])},function(e){return s._(/*BTDS*/"_j{\"*\":\"{value} MB\"}",[s._param("value",e,[0])])},function(e){return s._(/*BTDS*/"_j{\"*\":\"{value} GB\"}",[s._param("value",e,[0])])},function(e){return s._(/*BTDS*/"_j{\"*\":\"{value} TB\"}",[s._param("value",e,[0])])},function(e){return s._(/*BTDS*/"_j{\"*\":\"{value} PB\"}",[s._param("value",e,[0])])},function(e){return s._(/*BTDS*/"_j{\"*\":\"{value} EB\"}",[s._param("value",e,[0])])}],u=0;function c(t,n,r){if(n===void 0&&(n=1024),r===void 0&&(r=2),t==null)return null;if(t===0)return e[u](0);var o=Math.floor(Math.log(Math.abs(t))/Math.log(n)),a=t/Math.pow(n,o),i=Math.pow(10,r);return a=Math.round(a*i)/i,e[o](a)}l.default=c}),226);
__d("MWChatReactionsUtils",["MetaConfig","cr:3890"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var e=r("MetaConfig")._("58");return new Set(e.split(",").map(function(e){return{codepoints:[e.codePointAt(0)],id:e}}))}l.cUSTOM_REACTIONS_NUM=(e=n("cr:3890")).cUSTOM_REACTIONS_NUM,l.defaultStaticReactions=e.defaultStaticReactions,l.defaultCustomizableReactions=e.defaultCustomizableReactions,l.heartType1=e.heartType1,l.heartType2=e.heartType2,l.isHeart=e.isHeart,l.getHarmfulEmojisForBroadcastChannels=s}),98);
__d("MWXDialogLoadingState.react",["cr:9909"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:9909")}),98);
__d("useMWXLazyDialog",["MWXDialogLoadingState.react","react","tracePolicyFromResource","useBaseLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u=function(t){return s.jsx(r("MWXDialogLoadingState.react"),{onClose:t})};function c(e,t,n){var o=r("tracePolicyFromResource")("mwp.dialog",e);return r("useBaseLazyDialog")(e,t!=null?t:u,o,n)}l.default=c}),98);
__d("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4148"),s=o("FalcoLoggerInternal").create("messenger_discoverable_broadcast_chats_client_events",e),u=s;l.default=u}),98);
__d("MAWAttachmentBlob.react",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MAWDbMedia","Promise","PromiseAnnotate","WAHashUtils","WAMediaQplHelper","cr:332","interaction-tracing","performanceNow"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=new Map,p=new Map;function _(e,t){m.set(e,{TAG:1,value:t})}function f(e){var t=m.get(e);return t!=null&&t.TAG===1}function g(t,a,i,l){var s=l!=null?l:t,u=m.get(s);if(u!=null){if(u.TAG===0)throw u.value;return u.value}i==null||i.addPoint("fetch_data_blob_from_backend_start",{string:{fetch_by:isFinite(t)?"mediaId":"hashedPlaintextHash"}});var p=r("interaction-tracing").InteractionTracingCore.getPendingInteractions(),_=(d||(d=r("performanceNow")))(),f=isFinite(t)?o("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{description:a,mediaId:o("MAWDbMedia").convertNumberToMediaId(Number.parseInt(t,10)),qplInstanceKey:i==null?void 0:i.getInstanceKey()}).then(function(e){return i==null||i.addPoint("fetch_data_blob_from_backend_success",{string:{blob_size_bucket:e!=null?o("WAMediaQplHelper").convertIntegerSizeToStringBucket(e.size):void 0,description:a,fetch_by:"mediaId"}}),b(p,_,e!=null?"SUCCESS":"FAIL"),m.set(s,{TAG:1,value:e!=null?URL.createObjectURL(e):""}),i==null||i.addPoint("fetch_data_blob_url_set_in_cache"),(c||(c=n("Promise"))).resolve()}).catch(function(e){return i==null||i.endFailAfterDelay("fetch_data_blob_from_backend_fail",{string:{description:a,error:e.message,fetch_by:"mediaId"}}),b(p,_,"FAIL"),m.set(s,{TAG:1,value:""}),r("FBLogger")("messenger_web_media").catching(e).mustfix("Unable to getBlobUrlByMediaId"),(c||(c=n("Promise"))).resolve()}):o("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByHashedPlaintextHash",{description:a,plaintextHash:o("WAHashUtils").stringToPlaintextHash(t),qplInstanceKey:i==null?void 0:i.getInstanceKey()}).then(function(e){return i==null||i.addPoint("fetch_data_blob_from_backend_success",{string:{blob_size_bucket:e!=null?o("WAMediaQplHelper").convertIntegerSizeToStringBucket(e.size):void 0,description:a,fetch_by:"hashedPlaintextHash"}}),b(p,_,e!=null?"SUCCESS":"FAIL"),m.set(s,{TAG:1,value:e!=null?URL.createObjectURL(e):""}),i==null||i.addPoint("fetch_data_blob_url_set_in_cache"),n("cr:332")!=null&&n("cr:332").runBlobReadAndCompareResult({fileName:t,idbBlob:e}),(c||(c=n("Promise"))).resolve()}).catch(function(e){return i==null||i.endFailAfterDelay("fetch_data_blob_from_backend_fail",{string:{description:a,error:e.message,fetch_by:"hashedPlaintextHash"}}),b(p,_,"FAIL"),m.set(s,{TAG:1,value:""}),r("FBLogger")("messenger_web_media").catching(e).mustfix("Unable to getBlobDataUrlByHashedPlaintextHash"),(c||(c=n("Promise"))).resolve()});throw(e||(e=o("PromiseAnnotate"))).setDisplayName(f,"MAWAttachmentBlob.getBlobDataUrl"),m.set(s,{TAG:0,value:f}),f}function h(e,t,n){if(e==null)return r("FBLogger")("messenger_web_media").warn("Unable to getAttachmentBlob because attachment is null, from %s",t),n==null||n.endFailAfterDelay("attachment_is_null",{string:{description:t}}),"";if((s||(s=o("I64"))).equal(e.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))){var a,i=(a=C(e))!=null?a:"";return i==null||i.length===0?(r("FBLogger")("messenger_web_media").warn("Unable to getAttachmentBlob because optimistic attachment url is null or empty, from %s",t),n==null||n.endFailAfterDelay("no_optimistic_attachment_url",{string:{description:t}}),""):(n==null||n.addPoint("return_optimistic",{string:{description:t}}),i)}return g(e.attachmentFbid,t,n)}function y(e,t,n,a,i){var l="fetch_"+t+"_xma_blob",c={string:{description:n}};if(e==null)return a==null||a.endFailAfterDelay(l+"_attachment_is_null",c),"";if((s||(s=o("I64"))).equal(e.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))&&t==="preview"){var d=C(e);return d==null||d.length===0?(r("FBLogger")("messenger_web_media").mustfix("Unable to getInfoUrlXMA because optimistic attachment url is null or empty, from %s",n),a==null||a.endFailAfterDelay(l+"_no_optimistic_attachment_url",c),""):(a==null||a.addPoint(l+"_return_optimistic",c),d)}var m=i!=null?i:e.attachmentFbid+t,_=p.get(m);if(_!=null){if(_.TAG===0)throw _.value;return _.value}var f;switch(t){case"preview":f=e.xmaPreviewFbid;break;case"header":f=e.xmaHeaderImageFbid;break;case"favicon":f=e.xmaFaviconFbid;break}if(f==null)throw r("FBLogger")("messenger_web_media").mustfixThrow("Failed to getInfoUrlXMA because xma does not have required data. xmaId is %s, info type is %s, from %s",e.attachmentFbid,t,n);return g(f,n,a)}function C(e){return e==null?void 0:e.previewUrl}function b(e,t,n){var o=(d||(d=r("performanceNow")))();e.forEach(function(e){e.addSubspan("MAWFetchAttachmentBlob","AppTiming",t,o,{action:n,full_duration:(o-t)/1e3})})}l.setEagerAttachmentUrl=_,l.isEagerAttachmentUrlDone=f,l.getAttachmentBlobNonOptional_CausesSuspense=g,l.getAttachmentBlob_CausesSuspense=h,l.getInfoUrlXMA_CausesSuspense=y}),98);
__d("MWV2LogMessageClick",["I64","LSMessagingThreadTypeUtil","Promise","ReQL","UserAgentData","promiseDone","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("LsMessageClickFalcoEvent").__setRef("MWV2LogMessageClick");function c(t,a,i,l){var c=a.threadKey;r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(c)).then(function(t){return t!=null&&!o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType)&&u.onReady(function(e){e.log(function(){return{click:{category:2},click_target:{type:i},extra:JSON.stringify({action:l!=null?l:void 0,browserName:r("UserAgentData").browserName}),message:{id:a.messageId,sender_id:void 0,sent_time:(s||(s=o("I64"))).to_float(a.timestampMs)},thread:{id:s.to_string(a.threadKey),key:void 0,type:void 0},xma:void 0}})}),(e||(e=n("Promise"))).resolve()}))}l.log=c}),98);
__d("useMWPIsMessagePinned",["ReQL","ReQLSuspense","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useDeferredValue;function c(t){var n=(e||(e=r("useReStore")))(),a=!!o("ReQLSuspense").useFirst(function(){return t!=null?o("ReQL").fromTableAscending(n.tables.msg_pinned_messages_v2).getKeyRange(t.threadKey,t.messageId):o("ReQL").empty()},[n,t],i.id+":28"),l=!!o("ReQLSuspense").useFirst(function(){return t!=null&&!t.isUnsent?o("ReQL").fromTableAscending(n.tables.client_web_pinned_messages).getKeyRange(t.threadKey,t.offlineThreadingId):o("ReQL").empty()},[n,t],i.id+":38");return u(a||l)}l.default=c}),98);
__d("MWMessageListDisplayContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=s.createContext("standard");function p(e){var t=e.children,n=e.value,r=n===void 0?"standard":n;return s.jsx(m.Provider,{value:r,children:t})}p.displayName=p.name+" [from "+i.id+"]";function _(){var e=c(m);return d(function(){return{isPinnedMessageList:e==="pinnedMessages",isReportMessageList:e==="reportMessages",isStandardMessageList:e==="standard"}},[e])}l.MWMessageListDisplayContextProvider=p,l.useMWMessageListDisplayContext=_}),98);
__d("shouldUseImageGrouping",["I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var r,a=t.displayedContentTypes,i=t.groupId,l=(e||(e=o("I64"))).to_int32((r=t.groupSize)!=null?r:(e||(e=o("I64"))).zero);return n&&(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(2))&&i!=null&&t.groupIndex!=null&&t.groupSize!=null&&l>1}l.default=u}),98);
__d("MAWMediaDownloadStatusUIStateType",[],(function(t,n,r,o,a,i){"use strict";function e(e){if(e==null)return!1;switch(e){case"non_retryable_error":case"non_retryable_error_with_preview":case"retryable_error":case"retryable_error_with_preview":return!0;default:return!1}}function l(e){if(e==null)return!1;switch(e){case"retryable_error":case"retryable_error_with_preview":return!0;default:return!1}}i.isErrorState=e,i.isRetryableErrorState=l}),66);
__d("MAWClientMediaStatusUtils",["I64","LSIntEnum","MAWMediaDownloadStatus"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){switch(t){case r("MAWMediaDownloadStatus").DOWNLOADING:return(e||(e=o("LSIntEnum"))).ofNumber(0);case r("MAWMediaDownloadStatus").SUCCESS:return(e||(e=o("LSIntEnum"))).ofNumber(1);case r("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE:return(e||(e=o("LSIntEnum"))).ofNumber(2);case r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE:return(e||(e=o("LSIntEnum"))).ofNumber(3);case r("MAWMediaDownloadStatus").MISSING_FILE:return(e||(e=o("LSIntEnum"))).ofNumber(4);case r("MAWMediaDownloadStatus").RETRYING:return(e||(e=o("LSIntEnum"))).ofNumber(5);case r("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE:return(e||(e=o("LSIntEnum"))).ofNumber(6)}}function c(e){switch(e){case 0:return r("MAWMediaDownloadStatus").DOWNLOADING;case 1:return r("MAWMediaDownloadStatus").SUCCESS;case 2:return r("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE;case 3:return r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE;case 4:return r("MAWMediaDownloadStatus").MISSING_FILE;case 5:return r("MAWMediaDownloadStatus").RETRYING;case 6:return r("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE}}function d(e){if(e==null)return"UNKNOWN";switch(e){case r("MAWMediaDownloadStatus").DOWNLOADING:return"DOWNLOADING";case r("MAWMediaDownloadStatus").SUCCESS:return"SUCCESS";case r("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE:return"NOT_MANUAL_RETRYABLE_FAILURE";case r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE:return"MANUAL_RETRYABLE_FAILURE";case r("MAWMediaDownloadStatus").MISSING_FILE:return"MISSING_FILE";case r("MAWMediaDownloadStatus").RETRYING:return"RETRYING";case r("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE:return"AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE"}}function m(t){return{mainMediaStatus:c((e||(e=o("LSIntEnum"))).unwrapIntEnum(t.mainMediaStatus)),mainMediaStatusDetails:t.mainMediaStatusDetails,previewMediaStatus:t.previewMediaStatus?c((e||(e=o("LSIntEnum"))).unwrapIntEnum(t.previewMediaStatus)):null,previewMediaStatusDetails:t.previewMediaStatusDetails,validationResult:p(t)}}function p(e){var t,n,r;if(!(e.audioAvgBitsPerSecond==null&&e.audioNumberOfChannels==null&&e.audioSamplingRate==null&&e.audioStreamType==null&&e.validateMimeType==null&&e.videoAvgBitsPerSecond==null&&e.videoCalculatedFps==null&&e.videoDuration==null&&e.videoHeight==null&&e.videoNominalFps==null&&e.videoStreamType==null&&e.videoWidth==null))return{audioAvgBitsPerSecond:e.audioAvgBitsPerSecond!=null?(s||(s=o("I64"))).to_int32(e.audioAvgBitsPerSecond):void 0,audioNumberOfChannels:e.audioNumberOfChannels!=null?(s||(s=o("I64"))).to_int32(e.audioNumberOfChannels):void 0,audioSamplingRate:e.audioSamplingRate!=null?(s||(s=o("I64"))).to_int32(e.audioSamplingRate):void 0,audioStreamType:(t=e.audioStreamType)!=null?t:void 0,validatedMimeType:(n=e.validateMimeType)!=null?n:void 0,videoAvgBitsPerSecond:e.videoAvgBitsPerSecond!=null?(s||(s=o("I64"))).to_int32(e.videoAvgBitsPerSecond):void 0,videoCalculatedFps:e.videoCalculatedFps!=null?(s||(s=o("I64"))).to_int32(e.videoCalculatedFps):void 0,videoDuration:e.videoDuration!=null?(s||(s=o("I64"))).to_int32(e.videoDuration):void 0,videoHeight:e.videoHeight!=null?(s||(s=o("I64"))).to_int32(e.videoHeight):void 0,videoNominalFps:e.videoNominalFps!=null?(s||(s=o("I64"))).to_int32(e.videoNominalFps):void 0,videoStreamType:(r=e.videoStreamType)!=null?r:void 0,videoWidth:e.videoWidth!=null?(s||(s=o("I64"))).to_int32(e.videoWidth):void 0}}function _(e){var t,n,r;return{audioAvgBitsPerSecond:(e==null?void 0:e.audioAvgBitsPerSecond)!=null?(s||(s=o("I64"))).of_int32(e.audioAvgBitsPerSecond):void 0,audioNumberOfChannels:(e==null?void 0:e.audioNumberOfChannels)!=null?(s||(s=o("I64"))).of_int32(e.audioNumberOfChannels):void 0,audioSamplingRate:(e==null?void 0:e.audioSamplingRate)!=null?(s||(s=o("I64"))).of_int32(e.audioSamplingRate):void 0,audioStreamType:(t=e==null?void 0:e.audioStreamType)!=null?t:void 0,validateMimeType:(n=e==null?void 0:e.validatedMimeType)!=null?n:void 0,videoAvgBitsPerSecond:(e==null?void 0:e.videoAvgBitsPerSecond)!=null?(s||(s=o("I64"))).of_int32(e.videoAvgBitsPerSecond):void 0,videoCalculatedFps:(e==null?void 0:e.videoCalculatedFps)!=null?(s||(s=o("I64"))).of_int32(e.videoCalculatedFps):void 0,videoDuration:(e==null?void 0:e.videoDuration)!=null?(s||(s=o("I64"))).of_int32(e.videoDuration):void 0,videoHeight:(e==null?void 0:e.videoHeight)!=null?(s||(s=o("I64"))).of_int32(e.videoHeight):void 0,videoNominalFps:(e==null?void 0:e.videoNominalFps)!=null?(s||(s=o("I64"))).of_int32(e.videoNominalFps):void 0,videoStreamType:(r=e==null?void 0:e.videoStreamType)!=null?r:void 0,videoWidth:(e==null?void 0:e.videoWidth)!=null?(s||(s=o("I64"))).of_int32(e.videoWidth):void 0}}function f(e){var t,n=e.clientMediaStatus,r=e.preloadedMediaStatus,a=e.statusKey,i=r!=null?r:n==null?void 0:n.find(function(e){var t=e.id;return t===a}),l=i?m(i):null,u=l!=null,c=(s||(s=o("I64"))).to_int32((t=i==null?void 0:i.downloadRetryCount)!=null?t:(s||(s=o("I64"))).zero);return{hasStatus:u,retryCount:c,statusData:l}}l.getClientMediaStatusType=u,l.getMAWMediaDownloadStatus=c,l.mediaDownloadStatusEnumToString=d,l.getMAWMediaStatus=m,l.getMAWValidationResults=p,l.getValidationResults=_,l.getStatusDataFromLsdb=f}),98);
__d("MAWMediaSetClientMediaStatus",["I64","MAWClientMediaStatusUtils","asyncToGeneratorRuntime","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a,l){r("promiseDone")(t,function(t){return t.runInTransaction((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n,r,i,s=yield t.client_media_status.get(a);return t.client_media_status.upsert([a],babelHelpers.extends({downloadRetryCount:(n=s==null?void 0:s.downloadRetryCount)!=null?n:(e||(e=o("I64"))).zero,id:a,mainMediaStatus:o("MAWClientMediaStatusUtils").getClientMediaStatusType(l.mainMediaStatus),mainMediaStatusDetails:l.mainMediaStatusDetails,previewMediaStatus:(l==null?void 0:l.previewMediaStatus)!=null?o("MAWClientMediaStatusUtils").getClientMediaStatusType(l.previewMediaStatus):void 0,previewMediaStatusDetails:(r=l.previewMediaStatusDetails)!=null?r:void 0},o("MAWClientMediaStatusUtils").getValidationResults((i=l.validationResult)!=null?i:void 0)))});return function(e){return t.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":28")})}l.call=s}),98);
__d("isReceiverFetchSticker",["I64","LSIntEnum","MessagingAttachmentType"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=t.attachmentType,a=(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)),i=t.receiverFetchId;return a&&i!=null}l.default=u}),98);
__d("MAWMediaDownloadStatusBackendFetcher",["I64","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MAWDbMedia","MAWMediaSetClientMediaStatus","MessagingAttachmentType","ODS","WAHashUtils","isReceiverFetchSticker","promiseDone","react","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(e||(e=o("react"))).useEffect,m=new Set;function p(e){var t=e.attachment,n=e.mediaRenderQpl,o=e.mediaStatus,a=e.statusKey,i=r("useAsyncReStore")();d(function(){f(t,n,o,a,i)},[i,t,n,o,a])}function _(e){var t=r("useAsyncReStore")();d(function(){e.forEach(function(e){var n=e.attachment,r=e.mediaRenderQpl,o=e.mediaStatus,a=e.statusKey;f(n,r,o,a,t,!0)})},[t,e])}function f(e,t,n,a,i,l){if(l===void 0&&(l=!1),!(e==null||a==null)){var d=r("isReceiverFetchSticker")(e),p=(s||(s=o("I64"))).equal(e.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA)),_=e.transportKey==="FBBroker"||e.transportKey==="FBLegacyBroker",f=!_&&(s||(s=o("I64"))).to_int32(e.authorityLevel)===r("LSAuthorityLevel").OPTIMISTIC,g=n!=null,h=p||f||_||d||g||m.has(a);if(h){(c||(c=o("ODS"))).bumpEntityKey(3185,"media_initial_download_status",(l?"bulk":"single")+".skip"),t==null||t.addPoint("skip_fetch_download_status");return}var y=isNaN(a);(c||(c=o("ODS"))).bumpEntityKey(3185,"media_initial_download_status",(l?"bulk":"single")+".request."+(y?"plaintext":"media_id")),t==null||t.addPoint("request_download_status"),m.add(a);var C=y?o("MAWBridgeSendAndReceive").sendAndReceive("backend","getMediaDownloadStatusByPlaintextHash",{plaintextHash:o("WAHashUtils").stringToPlaintextHash(a),qplInstanceKey:t==null?void 0:t.getInstanceKey()}):o("MAWBridgeSendAndReceive").sendAndReceive("backend","getMediaDownloadStatusByMediaId",{mediaId:o("MAWDbMedia").convertNumberToMediaId(parseInt(a,10)),qplInstanceKey:t==null?void 0:t.getInstanceKey()});r("promiseDone")(C.then(function(e){e!=null&&o("MAWMediaSetClientMediaStatus").call(i,a,e)}))}}l.useFetchInitialDownloadStatus=p,l.useFetchInitialDownloadStatusBulk=_}),98);
__d("MAWMediaDownloadStatusUIState",["I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlUtils","MAWClientMediaStatusUtils","MAWMediaDownloadStatus","MessagingAttachmentType","WATagsLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("WATagsLogger").TAGS(["MediaDownload"]),d=5;function m(t,n,a){if((a==null?void 0:a.receiverFetchId)!=null&&o("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(a.previewUrl,a.previewUrlExpirationTimestampMs))return"downloaded";var i=n>=d,l=t!=null?t:{},s=l.mainMediaStatus,u=l.previewMediaStatus,m=t==null||s===r("MAWMediaDownloadStatus").DOWNLOADING||s===r("MAWMediaDownloadStatus").MISSING_FILE||s===r("MAWMediaDownloadStatus").RETRYING||s===r("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE,p=s===r("MAWMediaDownloadStatus").SUCCESS,f=s===r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE,g=f&&i,h=s===r("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE,y=t==null||u===r("MAWMediaDownloadStatus").RETRYING||u===r("MAWMediaDownloadStatus").DOWNLOADING||u===r("MAWMediaDownloadStatus").MISSING_FILE||u===void 0&&m,C=u===r("MAWMediaDownloadStatus").SUCCESS,b=u===r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE||u===void 0&&f,v=b&&i,S=u===r("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE||u===void 0&&h,R=a!=null&&_(a);if(R&&!y){if(C||p)return h||g?"non_retryable_error_with_preview":f?"retryable_error_with_preview":"downloaded";if(S||v)return"non_retryable_error";if(b)return"retryable_error"}else{if(p)return"downloaded";if(h||g)return"non_retryable_error";if(f)return"retryable_error";if(m)return"loading"}return c.WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["useMAWMediaDownloadStatusUIState: unexpected download status"]))),"loading"}function p(e,t,n){var a,i=(n==null?void 0:n.transportKey)==="FBBroker"||(n==null?void 0:n.transportKey)==="FBLegacyBroker",l=!i&&n!=null&&(s||(s=o("I64"))).to_int32(n.authorityLevel)===r("LSAuthorityLevel").OPTIMISTIC,c=l&&t!=null?{id:t,mainMediaStatus:(u||(u=o("LSIntEnum"))).ofNumber(1),mainMediaStatusDetails:"optimistic_secure_upload",previewMediaStatus:(u||(u=o("LSIntEnum"))).ofNumber(1),previewMediaStatusDetails:"optimistic_secure_upload"}:e,d=c!=null?o("MAWClientMediaStatusUtils").getMAWMediaStatus(c):null,p=m(d,(s||(s=o("I64"))).to_int32((a=c==null?void 0:c.downloadRetryCount)!=null?a:(s||(s=o("I64"))).zero),n);return{mawMediaStatus:d,nonDebouncedUIState:p,status:c}}function _(e){if(e==null)return!1;var t=e.attachmentType;return(s||(s=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))||(s||(s=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))}l.getMediaDownloadStatusUIState=m,l.getNonDebouncedUIStateAndStatus=p}),98);
__d("useMAWMediaDebouncedState",["clearTimeout","justknobx","react","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef,d=s.useState;function m(e){var t=r("justknobx")._("3145"),n=d(e),o=n[0],a=n[1],i=c(null),l=u(function(){r("clearTimeout")(i.current),i.current=null},[]),s=u(function(e,n){if(l(),!n){a(e);return}i.current=r("setTimeout")(function(){a(e)},t)},[l,t]);return[o,s,l]}l.default=m}),98);
__d("useMAWBulkMediaDownloadStatusUIStateDebounced",["react","useMAWMediaDebouncedState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=r("useMAWMediaDebouncedState")(e),n=t[0],o=t[1];return s(function(){o(e,!e.some(function(e){return e==="loading"||e==="downloaded"}))},[e,o]),n}l.default=u}),98);
__d("useMAWMediaDownloadStatusBulk",["MAWMediaDownloadStatusBackendFetcher","MAWMediaDownloadStatusUIState","react","useMAWBulkMediaDownloadStatusUIStateDebounced"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e,t){var n=s(function(){return e.map(function(e){var n=e.attachment,r=e.mediaRenderQpl,a=e.mediaStatus,i=e.statusKey,l=a!=null?a:t==null?void 0:t.find(function(e){var t=e.id;return t===i});return babelHelpers.extends({},o("MAWMediaDownloadStatusUIState").getNonDebouncedUIStateAndStatus(l,i,n),{attachment:n,mediaRenderQpl:r,statusKey:i})})},[e,t]),a=s(function(){var e=[],t=[],r=[];return n.forEach(function(n){e.push(n.mawMediaStatus),t.push(n.nonDebouncedUIState),r.push({attachment:n.attachment,mediaRenderQpl:n.mediaRenderQpl,mediaStatus:n.status,statusKey:n.statusKey})}),[e,t,r]},[n]),i=a[0],l=a[1],u=a[2],c=r("useMAWBulkMediaDownloadStatusUIStateDebounced")(l);return o("MAWMediaDownloadStatusBackendFetcher").useFetchInitialDownloadStatusBulk(u),{mawMediaStatuses:i,uiStates:c}}l.default=u}),98);
__d("useMediaDownloadStatusForGroup",["MAWMediaDownloadStatusUIStateType","react","useMAWMediaDownloadStatusBulk"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e,t,n){var a=s(function(){return t?e.map(function(e){var t=e.attachment,r=e.mediaStatus;return t==null?null:{attachment:t,mediaRenderQpl:n,mediaStatus:r,statusKey:t.attachmentFbid}}).filter(Boolean):[]},[e,t,n]),i=r("useMAWMediaDownloadStatusBulk")(a),l=i.uiStates,u=s(function(){return l!=null?l:[]},[l]),c=s(function(){return u.filter(function(e){return o("MAWMediaDownloadStatusUIStateType").isErrorState(e)})},[u]),d=s(function(){return a.filter(function(e,t){return e.attachment!=null&&o("MAWMediaDownloadStatusUIStateType").isRetryableErrorState(u[t])}).map(function(e){var t=e.attachment,n=e.mediaStatus;return{attachment:t,mediaStatus:n}})},[a,u]),m=c.length;return{attachmentsToRetryDownload:d,mediaDownloadErrorsCount:m,mediaDownloadStatuses:u}}l.default=u}),98);
__d("useGetMediaGroupInformation",["I64","MWMessageListDisplayContext.react","ReQL","ReQLSuspense","qex","react","shouldUseImageGrouping","useMediaDownloadStatusForGroup","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useMemo;function d(t,n,a){var l,u,d,m,p,_=(e||(e=r("useReStore")))(),f=t.groupId,g=t.threadKey,h=(s||(s=o("I64"))).to_int32((l=t.groupIndex)!=null?l:(s||(s=o("I64"))).zero),y=s.to_int32((u=t.groupSize)!=null?u:(s||(s=o("I64"))).zero),C=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),b=C.isPinnedMessageList,v=r("shouldUseImageGrouping")(t,n),S=v?4:0;v&&y<4&&(S=y);var R=o("ReQLSuspense").useArray(function(){return v&&f!=null?o("ReQL").fromTableDescending(_.tables.messages.index("messageGroupId")).getKeyRange(f).map(function(e){var t,n=(t=o("ReQLSuspense").first(o("ReQL").fromTableDescending(_.tables.attachments).getKeyRange(g,e.messageId),i.id+":105"))!=null?t:null,r=n!=null?o("ReQLSuspense").first(o("ReQL").fromTableDescending(_.tables.client_media_status).getKeyRange(n.attachmentFbid),i.id+":113"):void 0;return{attachment:n,mediaStatus:r,message:e}}):o("ReQL").empty()},[_,f,g,v],i.id+":97"),L=c(function(){return R.sort(function(e,t){var n,r;return(s||(s=o("I64"))).to_int32((n=e.message.groupIndex)!=null?n:(s||(s=o("I64"))).zero)-s.to_int32((r=t.message.groupIndex)!=null?r:(s||(s=o("I64"))).zero)})},[R]),E=v&&L.length>=1?(d=L[0])==null?void 0:d.message:null,k=o("ReQLSuspense").useFirst(function(){if(!v||E==null)return o("ReQL").empty();var e;return r("qex")._("18")?e=o("ReQL").fromTableAscending(_.tables.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(E.threadKey).bounds({gte:o("ReQL").key(E.primarySortKey,E.offlineThreadingId)}):e=o("ReQL").fromTableAscending(_.tables.messages.index("messageDisplayOrder")).getKeyRange(E.threadKey).bounds({gte:o("ReQL").key(E.primarySortKey)}),e.filter(function(e){return e.groupId!==E.groupId}).filter(function(e){return!e.isAdminMessage})},[_,E,v],i.id+":141"),I=r("useMediaDownloadStatusForGroup")(L,v,a),T=I.attachmentsToRetryDownload,D=I.mediaDownloadErrorsCount,x=I.mediaDownloadStatuses;if(v!==!0)return null;var $=L.length>=1?(s||(s=o("I64"))).to_int32((m=(p=L[0])==null||(p=p.message)==null?void 0:p.groupIndex)!=null?m:(s||(s=o("I64"))).zero):0,P=h===$;if(b&&!P)return null;for(var N=new Array(S),M=function(t){var e=L.findIndex(function(e){return e.message.groupIndex!=null&&(s||(s=o("I64"))).to_int32(e.message.groupIndex)===t});e===-1?N[t]={attachment:null,message:null}:N[t]={attachment:L[e].attachment,message:L[e].message}},w=0;w<S&&w<S;++w)M(w);return{attachmentsToRetryDownload:T,groupId:f,groupIndex:h,groupSize:y,groupsLastMessage:L!=null&&L.length>0?L[L.length-1].message:null,groupsNextMessage:k!=null?k:null,hasAllMessagesSent:L.every(function(e){return(s||(s=o("I64"))).equal(e.message.sendStatusV2,s.of_int32(2))}),hasMissingMedia:L.some(function(e){return e.attachment==null}),hasMissingMessages:L.length!==y,isFirstMediaMessageInGroup:P,isMediaGroupLastMessage:k==null,mediaDownloadErrorsCount:D,mediaDownloadStatuses:x,messagesAndAttachments:L,messagesAndAttachmentsShownInGroup:N,tileSize:S}}l.default=d}),98);
__d("MWPThreadIsPageContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext();l.default=u}),98);
__d("MWPThreadIsPage.react",["FBLogger","I64","LSContactType","LSIntEnum","MWPActor.react","MWPThreadIsPageContext","ReQL","ReQLSuspense","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useContext;function p(t){var n=t.children,a=t.threadKey,l=(e||(e=r("useReStore")))(),c=o("MWPActor.react").useActor(),m=o("ReQLSuspense").useFirst(function(){return o("ReQL").leftJoin(o("ReQL").fromTableAscending(l.tables.participants,["contactId"]).getKeyRange(a).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,c)}),o("ReQL").fromTableAscending(l.tables.contacts))},[a],i.id+":29"),p=m!=null?m[1]:null,_=p!=null?(s||(s=o("I64"))).equal(p.contactType,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE)):!1;return d.jsx(r("MWPThreadIsPageContext").Provider,{value:_,children:n})}p.displayName=p.name+" [from "+i.id+"]";function _(){var e=m(r("MWPThreadIsPageContext"));return e!=null?e:(r("FBLogger")("messenger_web_ia").mustfix("Using hook useIsPage in a place where we didn't include the context"),!1)}l.Provider=p,l.useIsPage=_}),98);
__d("KeyCommandHandler.react",["ReactKeyboardEvent.react","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e.useRef,c=s.unstable_Scope;function d(e){var t=e.children,n=e.onKeyDown,r=e.onKeyUp,a=u(null);return o("ReactKeyboardEvent.react").useKeyboard(a,{onKeyDown:n,onKeyUp:r}),s.jsx(c,{ref:a,children:t})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWV2MessageRowActionsContext.react",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m={current:r("emptyFunction")},p={current:r("emptyFunction")},_={current:r("emptyFunction")},f={current:r("emptyFunction")},g={forwardMessage:m,openReactionsMenu:p,removeMessage:_,replyToMessage:f},h=c(g);function y(){return d(h)}function C(e){var t=e.children,n=e.value;return s.jsx(h.Provider,{value:n,children:t})}C.displayName=C.name+" [from "+i.id+"]",l.useMessageRowActionsContext=y,l.MWV2MessageRowActionsContextProvider=C}),98);
__d("useMWEntrypoint",["MWLSThreadDisplayContext"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),t="inbox";switch(e){case"ChatTab":t="popup_chat_box";break;case"RoomsSideChat":t="rooms_lobby";break}return t}l.default=e}),98);
__d("MWFalcoFeatureEventLogger",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a,i,l){r("gkx")("23390")||r("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:t,event_name:n,is_secured:o("LSMessagingThreadTypeUtil").isArmadilloSecure(l),other_user_fbid:a!=null?(e||(e=o("I64"))).to_string(a):null,thread_fbid:(e||(e=o("I64"))).to_string(i)}})}l.logEvent=s}),98);
__d("getMWOtherUserFBID",["I64","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n,r){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r,a){var i=o("LSMessagingThreadTypeUtil").isOneToOne(a);if(!i)return null;var l=o("LSMessagingThreadTypeUtil").isArmadilloSecure(a);if(!l)return r;var s=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.participants,["contactId"]).getKeyRange(r).filter(function(t){var r=t.contactId;return!(e||(e=o("I64"))).equal(r,n)}).take(1));return s==null?void 0:s.contactId}),u.apply(this,arguments)}l.getMWOtherUserFBID=s}),98);
__d("useMWFalcoFeatureEventLogger",["MWFalcoFeatureEventLogger","MWPActor.react","getMWOtherUserFBID","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(t,n){var a=(e||(e=r("useReStore")))(),i=o("MWPActor.react").useActor();return u(function(e,r){o("getMWOtherUserFBID").getMWOtherUserFBID(a,i,t,n).then(function(a){o("MWFalcoFeatureEventLogger").logEvent(e,r,a,t,n)}).catch(function(){})},[a,i,t,n])}l.default=c}),98);
__d("LSRestrictionType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,DATA_PRIVACY:1,ENCRYPTED_THREAD:2});i.default=e}),66);
__d("SearchStandardResultType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({CONTACT:1,NON_CONTACT:2,GROUP:3,XAC_CONTACT:4,XAC_NON_CONTACT:5,XAC_GROUP:6,OTHER:7,SOFT_CONTACT:8,PAGE:9,GAME:10,SMS:11,SMS_GROUP:12,WHATSAPP:13,INTEGRATED_MESSAGE_SEARCH_THREAD:14,IG_BUSINESS:15,COMMUNITY_CHAT:16,REEL:17,PUBLIC_CHAT:18,UNJOINED_COMMUNITIES:19,UNJOINED_SOCIAL_CHANNEL:20,JOINED_SOCIAL_CHANNEL:21,UNJOINED_BROADCAST_CHANNEL:22,JOINED_BROADCAST_CHANNEL:23,UNJOINED_SUBSCRIBER_SOCIAL_CHANNEL:24,JOINED_SUBSCRIBER_SOCIAL_CHANNEL:25,UNJOINED_SUBSCRIBER_BROADCAST_CHANNEL:26,JOINED_SUBSCRIBER_BROADCAST_CHANNEL:27,MOST_ENGAGED_FOLLOWERS:28,MOST_RECENT_FOLLOWERS:29,DIRECT_INVITE_MIX_TYPES:30,BROADCAST_FLOW_CHAT:31,UNJOINED_COMMUNITY_CHAT:32,AI_AGENT:33,COMMUNITIES:34,MEDIA:35,LINKS:36,FILES:37,CONTACT_INVITE:38,UGC_BOT:39,META_AI_SNIPPET:40,META_AI_SNIPPET_PROMPT:41,META_AI_VOICE:42,MARKETPLACE_THREAD:43,PHOTO:44,VIDEO:45,MARKETPLACE_FOLDER:46,META_AI_RENDER_SNIPPET_COMPLETE:47,PHONE_CONTACT_SYNCED:48,PHONE_CONTACT_NOT_SYNCED:49,FOLLOWER_CONTACT:50,PHONE_CONTACT:51,NOTIFICATION:52,NOTIFICATION_MISSED_CALL:53,NOTIFICATION_FRIEND_REQUEST:54}),l=e;i.default=l}),66);
__d("MWSearchStandardResultTypeMappings",["I64","LSContactType","LSContactTypeExact","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=t.contactType,a=t.contactViewerRelationship,i=t.contactTypeExact;return(e||(e=o("I64"))).equal(i,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").GENERATIVE_AI_BOT))?33:(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactType").USER))?(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").NOT_CONTACT))?2:(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").SOFT_CONTACT))||(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER))||(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").FACEBOOK_FRIEND))?1:7:(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE))?9:7}function c(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(1))?1:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(2))?2:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(3))?3:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(4))?9:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(13))?16:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(5))?14:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(14))?18:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(17))?34:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(6))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(7))?4:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(8))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(9))?5:7}function d(t){return o("LSMessagingThreadTypeUtil").isOneToOne(t)?1:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(153))?22:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(152))?23:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(150))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(154))?21:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(151))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(155))?20:o("LSMessagingThreadTypeUtil").isGroup(t)?3:7}function m(e,t,n){var r=d(e);return r===7||n==="server"?c(t):r}function p(e){switch(e){case 1:return(s||(s=o("LSIntEnum"))).ofNumber(1);case 2:return(s||(s=o("LSIntEnum"))).ofNumber(2);case 3:return(s||(s=o("LSIntEnum"))).ofNumber(3);case 9:return(s||(s=o("LSIntEnum"))).ofNumber(4);case 18:return(s||(s=o("LSIntEnum"))).ofNumber(14);default:return null}}l.mapContactToSearchStandardResultType=u,l.mapLSSearchTypeToSearchStandardResultType=c,l.mapThreadTypeToSearchStandardResultType=d,l.mapServerSearchResultToSearchStandardResultType=m,l.mapSearchStandardResultTypeToLSSearchType=p}),98);
__d("useDebouncedState",["clearTimeout","react","setTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef,d=s.useState,m=100;function p(e,t){var n,o=(n=t==null?void 0:t.debounceMS)!=null?n:m,a=(t==null?void 0:t.doNotDebounce)!==!0,i=d(e),l=i[0],s=i[1],p=u(h,[]),_=u(g,[p,o]),f=c(null);return[l,a?_:s,p];function g(e){p(),f.current=r("setTimeoutAcrossTransitions")(function(){return s(e)},o)}function h(){r("clearTimeout")(f.current),f.current=null}}l.default=p}),98);
__d("LSContactUtils",["I64","LSContactBitOffset","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){return!(s||(s=o("I64"))).equal(e.blockedByViewerStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))}function d(e){var t;return(t=o("LSContactBitOffset").has(66,e))!=null?t:!1}function m(e){var t=p(e);return t!==r("LSContactReachabilityStatusType").REACHABLE&&t!==r("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER&&t!==r("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY}function p(e){if(e==null)return r("LSContactReachabilityStatusType").REACHABLE;var t=e.contactReachabilityStatusType;return t==null?r("LSContactReachabilityStatusType").REACHABLE:(u||(u=o("LSIntEnum"))).unwrapIntEnum(t)}function _(t){var n=o("MWPActor.react").useActor(),a=(e||(e=r("useReStore")))(),l=o("ReQLSuspense").useFirst(function(){return o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(a.tables.participants).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(a.tables.contacts)).filter(function(e){var t=e[0],r=e[1];return!(s||(s=o("I64"))).equal(r.id,n)}).map(function(e){var t=e[0],n=e[1];return n}):o("ReQL").empty()},[a,t.threadKey,t.threadType,n],i.id+":91"),u=p(l);return u}function f(e){switch(e){case r("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY:case r("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY_AND_BANNER:case r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER:return!0;default:return!1}}l.isContactBlocked=c,l.isContactRestricted=d,l.isContactUnreachable=m,l.getUserReachability=p,l.useOtherUserReachabilityStatus=_,l.getHasTextOnlyComposer=f}),98);
__d("IGDThreadDetailMainViewMsysContainer.react",["IGDInboxHeader.react","IGDOpenMessageListContainer.react","IGDThreadDetailMainView.react","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(13),n=e.featureLimitsQueryRef,a=e.isOptimisticThread,i=e.messageListRef,l=e.thread,u=a===void 0?!1:a,c;t[0]!==l?(c=s.jsx(r("IGDInboxHeader.react"),{disableInfoPanel:!0,isInfoPanelOpen:!1,setIsInfoPanelOpen:r("emptyFunction"),thread:l}),t[0]=l,t[1]=c):c=t[1];var d;t[2]!==n||t[3]!==i||t[4]!==l?(d=s.jsx(r("IGDOpenMessageListContainer.react"),{featureLimitsQueryRef:n,ref:i,thread:l,threadMessageListRef:null}),t[2]=n,t[3]=i,t[4]=l,t[5]=d):d=t[5];var m;return t[6]!==n||t[7]!==u||t[8]!==i||t[9]!==c||t[10]!==d||t[11]!==l?(m=s.jsx(r("IGDThreadDetailMainView.react"),{featureLimitsQueryRef:n,inboxHeader:c,isOptimisticThread:u,messageList:d,messageListRef:i,slideThreadRef:null,thread:l}),t[6]=n,t[7]=u,t[8]=i,t[9]=c,t[10]=d,t[11]=l,t[12]=m):m=t[12],m}l.default=u}),98);
__d("MWSetupMediaRenderQpl.react",["FBLogger","VideoPlayerHooks","performanceAbsoluteNow","react","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=c.useEffect,m=c.useRef;function p(t){var n=t.context,a=t.mediaRenderQpl,i=(u||(u=o("VideoPlayerHooks"))).useController(),l=m();return d(function(){a==null||a.addPoint("setup-video-media-render-qpl",{string:{context:n}});var t=function(){var t,o=i.getCurrentState();if(o.error!=null){var s,u=o.error.errorName,c=o.error.errorType,d=o.error.errorMessageFormat+" - "+o.error.errorMessageParams.join(",");a==null||a.endFailAfterDelay("load-video-error",{string:{video_error_message:d,video_error_name:u,video_error_type:c}}),r("FBLogger")("messenger_web_media","load-video-error").warn("%s Video Player Error: %s",n,d),(s=l.current)==null||s.remove()}var m=o.domEventsLatestPerfMs.loadeddata!=null&&o.domEventsLatestPerfMs.loadeddata>0;m&&(a==null||a.addPoint("video-state-loaded-data"));var p=o.domEventsLatestPerfMs.loadedmetadata!=null&&o.domEventsLatestPerfMs.loadedmetadata>0;p&&(a==null||a.addPoint("video-state-loaded-metadata"));var _=(t=i.internal_getStateMachineState())==null?void 0:t.uncontrolledState,f=_==null?void 0:_.videoElementReadyState;f!=null&&f>0&&(a==null||a.addPoint("video-state-ready-state",{int:{ready_state:f}}));var g=o.domEventsLatestPerfMs.canplay!=null&&o.domEventsLatestPerfMs.canplay>0;if(g){var h=(e||(e=r("performanceAbsoluteNow")))();a==null||a.addPoint("video-state-can-play"),r("setTimeout")(function(){var e;a==null||a.endSuccessAfterDelay(void 0,h),(e=l.current)==null||e.remove()},500)}};return l.current=i.subscribe(function(){t()}),t(),function(){var e;(e=l.current)==null||e.remove()}},[n,a,i]),null}l.default=p}),98);
__d("VideoPlayerDefaultControls_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControls_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplLive_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplNotLive_video"}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("VideoPlayerFullscreenControl.react",["fbt","ix","VideoPlayerControlIcon.react","VideoPlayerHooks","fbicon","react"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=e||(e=o("react"));function m(e){var t=e.onPress,n=e.onUserInteraction,a=e.shouldUnmute,i=e.showTooltip,l=i===void 0?!0:i,m=e.useOutlineIcons,p=m===void 0?!1:m,_=(c||(c=o("VideoPlayerHooks"))).useController(),f=c.useIsFullscreen(),g=c.useLastMuteReason(),h=f?s._(/*BTDS*/"Exit fullscreen"):s._(/*BTDS*/"Enter fullscreen"),y=function(){t&&t(),_.requestSetIsFullscreen(!f),a===!0&&g!=="user_initiated"&&_.setMuted(!1,"product_initiated"),n&&n({name:"video_fullscreen_button",type:"happened"})},C=p?o("fbicon")._(u("528442"),20):o("fbicon")._(u("517758"),20),b=p?o("fbicon")._(u("595830"),20):o("fbicon")._(u("517763"),20);return d.jsx(r("VideoPlayerControlIcon.react"),{icon:f?C:b,label:h,onPress:y,tooltip:l?h:null})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),226);
__d("useVideoPlayerDefaultControlsVisibility",["VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerUserInteractionCounter","clearTimeout","react","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useState,m=5e3;function p(e){var t=e===void 0?{}:e,n=t.forceVisible,a=t.forceVisibleOnMount,i=t.isInteracting,l=o("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteractionCounter(),u=l.ongoingInteractionsCount,p=l.onUserInteraction,_=(s||(s=o("VideoPlayerHooks"))).useEnded(),f=s.useIsHovering(),g=s.usePaused(),h=s.useIsMouseIdle(),y=s.useVideoPlaybackEnded(),C=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsIsStart();o("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_pointer_active",f&&!h,p);var b=d(a===!0),v=b[0],S=b[1];c(function(){if(!g&&v){var e=r("setTimeout")(function(){S(!1)},m);return function(){r("clearTimeout")(e)}}},[v,g]);var R=!1;return n===!0||n===!1?R=n:C?R=!1:u>0||v?R=!0:g?R=_?y:!0:R=!1,{isControlsVisible:R,onUserInteraction:p}}l.default=p}),98);
__d("VideoPlayerDefaultControls.react",["CometPlaceholder.react","CometRelay","CometWarningScreenContext","VideoPlayerDefaultControlsProperties","VideoPlayerDefaultControls_video.graphql","VideoPlayerFullscreenControl.react","VideoPlayerHooks","cr:1875194","deferredLoadComponent","react","requireDeferred","useEmptyFunction","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=u||(u=o("react")),m=(s=n("cr:1875194"))!=null?s:r("useEmptyFunction"),p=r("deferredLoadComponent")(r("requireDeferred")("VideoPlayerDefaultControlsImplLive.react").__setRef("VideoPlayerDefaultControls.react")),_=r("deferredLoadComponent")(r("requireDeferred")("VideoPlayerDefaultControlsImplNotLive.react").__setRef("VideoPlayerDefaultControls.react"));function f(t){var a,l=t.availableCaptionsLocales,s=t.forceVisible,u=t.forceVisibleOnMount,f=t.initialCaptionsUrl,g=t.mutedButtonVisibility,h=t.renderExpandControl,y=t.scrubberTimelinePlayedXStyle,C=t.shouldRenderBigPlayButton,b=t.shouldRenderCaptionsControl,v=t.shouldRenderCostreamControl,S=t.shouldRenderExpandSidePanelControl,R=t.shouldRenderLivePauseControl,L=t.shouldRenderModeratorControl,E=t.shouldRenderQuietModeControl,k=t.shouldRenderSkipControl,I=t.shouldRenderWatchAndScrollControl,T=t.shouldUnmuteForBigPlayButton,D=t.skipControl,x=t.subOrigin,$=t.video,P=t.videoChapters,N=t.videoTahoeUrl,M=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerDefaultControls_video.graphql"),$),w=(a=o("CometWarningScreenContext").useIsContentVisible())!=null?a:!1,A=m(),F=A!=null?A.isSilentAtPlayhead:!1,O=(c||(c=o("VideoPlayerHooks"))).useMuted(),B=c.useIsLive(),W=r("useVideoPlayerDefaultControlsVisibility")({forceVisible:s,forceVisibleOnMount:u}),q=W.isControlsVisible,U=W.onUserInteraction,V=r("useVideoPlayerBigPlayButtonOverlay")({forceVisible:C!=null?C:s===!1?!1:void 0,shouldUnmute:T}),H=V.bigPlayButtonElement,G=V.bigPlayButtonIsVisible,z=q&&!G&&w,j=g===o("VideoPlayerDefaultControlsProperties").MutedButtonVisibility.SAME_AS_OTHER_CONTROLS?z:(O||z||F)&&!G,K=h!=null?h({onUserInteraction:U}):d.jsx(r("VideoPlayerFullscreenControl.react"),{onUserInteraction:U}),Q=B?d.jsx(p,{expandControl:K,isControlsVisible:z,isVolumeControlVisible:j,onUserInteraction:U,shouldRenderCaptionsControl:b,shouldRenderCostreamControl:v,shouldRenderExpandSidePanelControl:S,shouldRenderModeratorControl:L,shouldRenderPauseControl:R,shouldRenderQuietModeControl:E,shouldRenderWatchAndScrollControl:I,subOrigin:x,video:M,videoTahoeUrl:N}):d.jsx(_,{availableCaptionsLocales:l,expandControl:K,initialCaptionsUrl:f,isControlsVisible:z,isVolumeControlVisible:j,onUserInteraction:U,scrubberTimelinePlayedXStyle:y,shouldRenderCaptionsControl:b,shouldRenderExpandSidePanelControl:S,shouldRenderQuietModeControl:E,shouldRenderWatchAndScrollControl:I,skipControl:D,subOrigin:x,video:M,videoChapters:P,videoTahoeUrl:N});return d.jsxs(d.Fragment,{children:[H,d.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:Q})]})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("IGDVideoPlayer.react",["CometVideoPlayerLoggingConfigForIGD","IGDAnimatedImageVideoGIF.react","IGDSBox.react","IGDThreadListNewMessageLoggingDataContext","IGDVideoPlaybackOverlay.react","MWSetupMediaRenderQpl.react","MessengerWebUXLogger","PolarisUA","VideoPlayerDefaultControls.react","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","computeAspectRatio","cr:9647","qex","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={mediaGallery:{height:"x5yr21d",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(2),n=e.isVideoGif,a;return t[0]!==n?(a=n?null:s.jsx(r("VideoPlayerDefaultControls.react"),{forceVisibleOnMount:o("PolarisUA").isTouchDevice()}),t[0]=n,t[1]=a):a=t[1],a}function d(e){var t,a=o("react-compiler-runtime").c(45),i=e.altText,l=e.fbid,d=e.hdSrc,m=e.isGif,p=e.mediaRenderQpl,_=e.originalHeight,f=e.originalWidth,g=e.sdSrc,h=n("cr:9647")(),y=h.isReduceMotionSettingEnabled,C=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),b=String(y),v;a[0]!==b?(v={animatedImageComponent:"IGDVideoPlayer",isReduceMotionSettingEnabled:b},a[0]=b,a[1]=v):v=a[1];var S;a[2]!==C||a[3]!==v?(S={eventName:"animated_image_message",extraData:v,flowInstanceId:C},a[2]=C,a[3]=v,a[4]=S):S=a[4];var R=r("MessengerWebUXLogger").useImpressionLoggerRef(S),L;a[5]!==d||a[6]!==g?(L=o("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:d,hdSrcPreferred:!1,sdSrc:g}),a[5]=d,a[6]=g,a[7]=L):L=a[7];var E=L;if(E instanceof Error)return null;var k;a[8]!==_||a[9]!==f?(k=r("computeAspectRatio")(f,_),a[8]=_,a[9]=f,a[10]=k):k=a[10];var I=k,T=(t=r("qex")._("4846"))!=null?t:!1;if(m){var D=m?R:null,x;a[11]!==p?(x=s.jsx(r("MWSetupMediaRenderQpl.react"),{context:"IGD",mediaRenderQpl:p}),a[11]=p,a[12]=x):x=a[12];var $;a[13]!==i||a[14]!==l||a[15]!==y||a[16]!==_||a[17]!==f||a[18]!==g||a[19]!==x?($=s.jsx(r("IGDAnimatedImageVideoGIF.react"),{altText:i,fbid:l,isPausable:y,originalHeight:_,originalWidth:f,sdSrc:g,children:x}),a[13]=i,a[14]=l,a[15]=y,a[16]=_,a[17]=f,a[18]=g,a[19]=x,a[20]=$):$=a[20];var P;return a[21]!==D||a[22]!==$?(P=s.jsx("div",{ref:D,children:$}),a[21]=D,a[22]=$,a[23]=P):P=a[23],P}var N=m?R:null,M;a[24]!==E?(M=[{Component:r("VideoPlayerProgressiveImplementationV2.react"),data:E,typename:"VideoPlayerProgressiveImplementation"}],a[24]=E,a[25]=M):M=a[25];var w=T?l+"-"+g:l,A;a[26]===Symbol.for("react.memo_cache_sentinel")?(A=o("CometVideoPlayerLoggingConfigForIGD").createCometVideoPlayerLoggingConfigForIGD(),a[26]=A):A=a[26];var F;a[27]!==p?(F=s.jsx(r("MWSetupMediaRenderQpl.react"),{context:"IGD",mediaRenderQpl:p}),a[27]=p,a[28]=F):F=a[28];var O;a[29]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(r("IGDVideoPlaybackOverlay.react"),{}),a[29]=O):O=a[29];var B=m!=null?m:!1,W;a[30]!==B?(W=s.jsx(c,{isVideoGif:B}),a[30]=B,a[31]=W):W=a[31];var q;a[32]!==F||a[33]!==W?(q=s.jsxs(r("VideoPlayerSurface.react"),{children:[F,O,W]}),a[32]=F,a[33]=W,a[34]=q):q=a[34];var U;a[35]!==i||a[36]!==l||a[37]!==q||a[38]!==M||a[39]!==w||a[40]!==I?(U=s.jsx(r("VideoPlayerX.react"),{alt:i,implementations:M,loggingConfig:A,loopCount:-1,portalingEnabled:!1,subOrigin:"igd_thread",videoFBID:l,videoPixelsAspectRatio:I,children:q},w),a[35]=i,a[36]=l,a[37]=q,a[38]=M,a[39]=w,a[40]=I,a[41]=U):U=a[41];var V;return a[42]!==U||a[43]!==N?(V=s.jsx(r("IGDSBox.react"),{containerRef:N,maxHeight:"100%",maxWidth:"100%",xstyle:T?u.mediaGallery:null,children:U}),a[42]=U,a[43]=N,a[44]=V):V=a[44],V}l.default=d}),98);
__d("IgThreadActionsCannesHideCallButtonFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6869"),s=o("FalcoLoggerInternal").create("ig_thread_actions_cannes_hide_call_button",e),u=s;l.default=u}),98);
__d("LSEmojiSetsType",[],(function(t,n,r,o,a,i){var e=Object.freeze({USER_GENERATED:0,RECENTLY_USED:1});i.default=e}),66);
__d("LSUserVisibleErrorsUtil",["LSFactory","LSRemoveErrorStoredProcedure","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){r("promiseDone")(e.runInTransaction(function(e){return r("LSRemoveErrorStoredProcedure")(r("LSFactory")(e),{errorId:t})},"readwrite",void 0,void 0,i.id+":24"))}l.removeUserVisibleErrorFromTable=e}),98);
__d("MAWSecureDataSource",[],(function(t,n,r,o,a,i){"use strict";var e=10;i.DEFAULT_NUM_MESSAGES=e}),66);
__d("MAWSecureLocalDBFetch",["CometLruCache","FBLogger","I64","MAWBridgeSendAndReceive","MAWDbMsg","WAResultOrError","asyncToGeneratorRuntime","deepEquals","getErrorSafe","qex"],(function(t,n,r,o,a,i,l){"use strict";var e=["count"],s,u=o("CometLruCache").create(20,2e3);function c(e,t){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var a=t.chatJid,i=t.config,l=t.count,s=t.direction,c=t.offsetMsg,d=t.timestampMs,p=u.get(a);if(p!=null){var f=p&&p.options,g=f.count,h=babelHelpers.objectWithoutPropertiesLoose(f,e);if(r("deepEquals")(h,{config:i,direction:s,offsetMsg:c,timestampMs:d})&&l<=g)try{return o("WAResultOrError").makeResult(babelHelpers.extends({},yield p.result))}catch(e){}}return r("qex")._("18")?_(t,n):m(t,n)}),d.apply(this,arguments)}function m(e,t){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=e.actionType,a=e.chatJid,i=e.config,l=e.count,c=e.direction,d=e.offsetMsg,m=e.timestampMs;try{var p,_=o("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs",{actionType:n,chatJid:a,config:i,direction:c,externalId:d==null?void 0:d.externalId,includeOriginalMsg:(p=d==null?void 0:d.includeOriginalMsg)!=null?p:!1,msgId:(d==null?void 0:d.messageId)==null?null:o("MAWDbMsg").toMsgId(d.messageId),numMsgs:l,sortOrderMs:m!=null?(s||(s=o("I64"))).to_float(m):null},{timeoutMs:t==null?void 0:t.timeoutMs});u.set(a,{options:{config:i,count:l,direction:c,offsetMsg:d,timestampMs:m},result:_});var f=babelHelpers.extends({},yield _);return o("WAResultOrError").makeResult(f)}catch(e){var g=r("getErrorSafe")(e);return r("FBLogger")("messenger_web").catching(g).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed"),o("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",g)}}),p.apply(this,arguments)}function _(e,t){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=e.actionType,a=e.chatJid,i=e.config,l=e.count,c=e.direction,d=e.offsetMsg,m=e.timestampMs;try{var p,_=o("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs_range",{actionType:n,chatJid:a,config:i,direction:c,range:{includeLowerBoundMsg:(p=d==null?void 0:d.includeOriginalMsg)!=null?p:!1,lowerBoundExternalId:(d==null?void 0:d.externalId)==null?void 0:d.externalId,lowerBoundSortOrderMs:m!=null?(s||(s=o("I64"))).to_float(m):void 0,numMsgs:l}},{timeoutMs:t==null?void 0:t.timeoutMs});u.set(a,{options:{config:i,count:l,direction:c,offsetMsg:d,timestampMs:m},result:_});var f=babelHelpers.extends({},yield _);return o("WAResultOrError").makeResult(f)}catch(e){var g=r("getErrorSafe")(e);return r("FBLogger")("messenger_web").catching(g).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed"),o("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",g)}}),f.apply(this,arguments)}l.default=c}),98);
__d("MAWSecureLocalDBDataSource",["FBLogger","MAWBridgeSendAndReceive","MAWMessagesPaginationUtils","MAWSecureDataSource","MAWSecureLocalDBFetch","Promise","WAStanzaUtils","WATagsLogger","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("WATagsLogger").TAGS(["MAWSecureLocalDBDataSource"]);function c(e){return e.msgs.map(function(e){return{externalId:e.externalId,isOptimistic:e.ack<1,isOutgoing:e.isAuthorMe,msgType:e.type_,sortOrderMs:e.sortOrderMs}})}var d=(function(){function t(){}var a=t.prototype;return a.requestMessages=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a,i,l,s,u){var c=yield o("MAWMessagesPaginationUtils").getExternalIdByMsgId(a),d=yield r("MAWSecureLocalDBFetch")({actionType:u,chatJid:t,config:s,count:l!=null?l:o("MAWSecureDataSource").DEFAULT_NUM_MESSAGES,direction:i,offsetMsg:a==null?null:{externalId:c,includeOriginalMsg:!1,messageId:a},timestampMs:n});if(d.success===!1){var m;throw(m=d.payload)!=null?m:r("err")(d.error)}var p=d.value;o("MAWMessagesPaginationUtils").populateExternalIdCache(p.msgs);var _=p.msgs.map(function(e){return{externalId:e.externalId,isOptimistic:e.ack<1,isOutgoing:e.isAuthorMe,msgType:e.type_,sortOrderMs:e.sortOrderMs}});return{hasMoreAfter:p.hasMoreAfter,hasMoreBefore:p.hasMoreBefore,msgs:_}});function t(t,n,r,o,a,i,l,s){return e.apply(this,arguments)}return t})(),a.fetchSecureMessagesProtocol=function(){return r("FBLogger")("messenger_e2ee_web").warn("Secure messages protocol is not supported for old MessageList component"),(s||(s=n("Promise"))).resolve()},a.fetchMessagesByExternalId=function(r,a){r.length>2&&u.WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Fetching "," messages by external id, which is not optimal.\n      Consider migrating 'loadMsgsByExternalId' backend request to a batch version "])),r.length);var t=r.map(function(e){return o("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:a,externalId:o("WAStanzaUtils").toStanzaId(e)})});return(s||(s=n("Promise"))).all(t).then(function(e){return e.map(function(e){return c(e)}).flat()})},t})();l.default=d}),98);
__d("MAWFetchMoreMessages",["Int64Hooks","MAWSecureLocalDBDataSource"],(function(t,n,r,o,a,i,l){"use strict";function e(){return o("Int64Hooks").useMemoInt64(function(){return new(r("MAWSecureLocalDBDataSource"))},[])}l.useSecureDataStorage=e}),98);
__d("MDSToastUtils",["fbt","ScreenReaderText.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){return e==="warning"?u.jsx(r("ScreenReaderText.react"),{text:s._(/*BTDS*/"Warning:")}):u.jsx(r("ScreenReaderText.react"),{text:s._(/*BTDS*/"Announcement:")})}l.useAnnouncementTitle=c}),226);
__d("MWChatMessengerReactionsUtils",["EmojiFormat.bs","I64","LSEmojiSetsType","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=[{categoryIdx:(e||(e=o("I64"))).of_string("6"),emoji:"\u2764",emojiIdx:e.one,sortKey:e.zero,type_:(s||(s=o("LSIntEnum"))).ofNumber(r("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:e.zero,emoji:"\uD83D\uDE06",emojiIdx:e.of_string("4"),sortKey:e.one,type_:s.ofNumber(r("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:e.zero,emoji:"\uD83D\uDE2E",emojiIdx:e.of_string("86"),sortKey:e.of_string("2"),type_:s.ofNumber(r("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:e.zero,emoji:"\uD83D\uDE22",emojiIdx:e.of_string("51"),sortKey:e.of_string("3"),type_:s.ofNumber(r("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:e.zero,emoji:"\uD83D\uDE21",emojiIdx:e.of_string("54"),sortKey:e.of_string("4"),type_:s.ofNumber(r("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:e.zero,emoji:"\uD83D\uDC4D",emojiIdx:e.of_string("134"),sortKey:e.of_string("5"),type_:s.ofNumber(r("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:e.zero,emoji:"\uD83D\uDC4E",emojiIdx:e.of_string("135"),sortKey:e.of_string("6"),type_:s.ofNumber(r("LSEmojiSetsType").USER_GENERATED)}],c=u.slice(0,6),d=o("EmojiFormat.bs").codeArrayToUnicode([10084,65039]),m=o("EmojiFormat.bs").codeArrayToUnicode([10084]);function p(e){return e===d?!0:e===m}var _=6;l.defaultStaticReactions=u,l.defaultCustomizableReactions=c,l.heartType1=d,l.heartType2=m,l.isHeart=p,l.cUSTOM_REACTIONS_NUM=_}),98);
__d("MWFDSAccount.svg.react",["cr:21519"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21519")}),98);
__d("MWFDSBadgeCheckmark.svg.react",["cr:21558"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21558")}),98);
__d("MWFDSBot.svg.react",["cr:21571"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21571")}),98);
__d("MWFDSDots3Vertical.svg.react",["cr:21632"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21632")}),98);
__d("MWFDSExclamationMarkCircle.svg.react",["cr:21640"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21640")}),98);
__d("MWFDSEyeCross.svg.react",["cr:21641"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21641")}),98);
__d("MWFDSHd.svg.react",["cr:21679"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21679")}),98);
__d("MWFDSInfoCircle.svg.react",["cr:21686"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21686")}),98);
__d("MWFDSRefreshAlt.svg.react",["cr:21755"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21755")}),98);
__d("MWMessageListProtectedMedia.react",["fbt","$InternalEnum","MWLSThreadDisplayContext","MWVerticalRhythm","MWXPressable.react","MWXText.react","emptyFunction","react","setTimeout","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useMemo,p=d.useRef,_=d.useState,f=n("$InternalEnum").Mirrored(["Protected","Blurred","Unprotected"]),g={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"x7v6ubd",minWidth:"xfb3i0g",position:"x1n2onr6",$$css:!0},containerForInbox:{minWidth:"xlm99nl",$$css:!0},containerUncoverable:{minWidth:"xfb3i0g",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function h(e){var t=e.mediaType,n=e.state,o=e.uncoverable,a=o===void 0?!0:o,i=s._(/*BTDS*/"Videos sent in message requests are covered."),l=s._(/*BTDS*/"Images sent in message requests are covered."),u=s._(/*BTDS*/"Media sent in message requests are covered."),d=s._(/*BTDS*/"Click to see blurred video"),m=s._(/*BTDS*/"Click to see blurred image"),p=s._(/*BTDS*/"Click to see blurred media"),_=s._(/*BTDS*/"Click to see video"),g=s._(/*BTDS*/"Click to see image"),h=s._(/*BTDS*/"Click to see media"),y=c.jsx(r("MWXText.react"),{color:"white",testid:void 0,type:"body3",children:t==="Image"?l:t==="Video"?i:u});return n===f.Unprotected?null:c.jsx("div",{"aria-live":"polite","aria-relevant":"all",className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d x1o0tod xl56j7k xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x13vifvy xh8yej3 xhtitgo",children:c.jsx("div",{className:"x78zum5 xdt5ytf xurgmgr x2b8uid",children:n===f.Protected?c.jsxs(c.Fragment,{children:[y,a?c.jsxs(c.Fragment,{children:[c.jsx(r("MWVerticalRhythm"),{height:25}),c.jsx(r("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:t==="Image"?m:t==="Video"?d:p})]}):null]}):c.jsxs(c.Fragment,{children:[y,c.jsx(r("MWVerticalRhythm"),{height:25}),c.jsx(r("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:t==="Image"?g:t==="Video"?_:h})]})})},n)}h.displayName=h.name+" [from "+i.id+"]";function y(t){var n=t.ariaLabel,a=t.children,i=t.disabled,l=t.linkProps,s=t.mediaType,u=t.onPress,d=u===void 0?r("emptyFunction"):u,y=t.overlayDisabled,C=y===void 0?!1:y,b=t.testid,v=t.type,S=t.uncoverable,R=S===void 0?!0:S,L=t.url,E=t.xstyle,k=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),I=_(f.Protected),T=I[0],D=I[1],x=T===f.Unprotected,$=T===f.Blurred,P=p(null),N=m(function(){return{url:"#"}},[]),M=m(function(){if(v!=="video"&&L!=null)return{backgroundImage:"url("+L+")",backgroundSize:"cover",filter:"blur(10px)",height:"100%",left:"0",position:"absolute",right:"0",transform:"scale(1.2)",width:"100%"}},[L,v]),w=c.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(g.container,k==="Inbox"?g.containerForInbox:!1,R?g.containerUncoverable:!1),{children:[c.jsx("div",{style:M}),c.jsx("div",babelHelpers.extends({"aria-hidden":!x},{0:{className:"x193iq5w x171mlpp xw22vqi x1te0kx0 x1bx4cam x1ehtkf2 xy7dqi3 x1wl4osp"},2:{className:"x193iq5w x171mlpp xw22vqi x1te0kx0 x1bx4cam x1ehtkf2 xy7dqi3 x1wl4osp x47corl"},1:{className:"x193iq5w x171mlpp xw22vqi x1te0kx0 x1bx4cam x1ehtkf2 xy7dqi3 x1wl4osp xj2j9hd"},3:{className:"x193iq5w x171mlpp xw22vqi x1te0kx0 x1bx4cam x1ehtkf2 xy7dqi3 x1wl4osp x47corl xj2j9hd"}}[!x<<1|!!$<<0],{children:a})),x?null:c.jsx("div",babelHelpers.extends({},{0:{className:"x11dxs5c x5yr21d x1o0tod x10l6tqk x13vifvy xh8yej3 x1vjfegm"},1:{className:"x5yr21d x1o0tod x10l6tqk x13vifvy xh8yej3 x1vjfegm x1cw4mn1"}}[!!$<<0])),c.jsx(h,{mediaType:s,state:T,uncoverable:R})]}));return R?c.jsx(r("MWXPressable.react"),{"aria-label":x?n:void 0,disabled:i,linkProps:x?l:N,onPress:function(){x?d():D(function(e){switch(e){case f.Protected:return f.Blurred;case f.Blurred:return r("setTimeout")(function(){var e=P.current;if(e!=null)return e.focus()},0),f.Unprotected;case f.Unprotected:return e}})},overlayDisabled:C,ref:P,testid:void 0,xstyle:[E,g.pressable],children:w}):c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(E,g.pressable),{"data-testid":void 0,children:w}))}y.displayName=y.name+" [from "+i.id+"]",l.default=y}),226);
__d("MWPEditMessageHistoryListText.react",["MWChatTextTransform","MWUnvaultedText","MWXMessageTextWithEntities.react","MWXText.react","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function d(t){var n=t.isSecureMessage,a=t.maxLength,i=t.maxLines,l=t.seeLessLinkProps,s=t.seeMoreLinkProps,d=t.text,m=t.textColor,p=t.truncationStyle,_=t.outgoing,f=t.ranges,g=t.renderers,h=t.transforms,y=t.xstyleForText,C=o("MWUnvaultedText").useMWUnvaultedText(n,d);return u.jsx(r("MWXText.react"),{color:m,type:"body3",children:u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(c.regular,y,_?c.outgoing:c.incoming),{dir:"auto",children:u.jsx(r("MWXMessageTextWithEntities.react"),{maxLength:a,maxLines:i,ranges:f,renderers:g,seeLessLinkProps:l,seeMoreLinkProps:s,text:C||"",transforms:h!=null?h:o("MWChatTextTransform").textTransforms,truncationStyle:p,truncationThreshold:2,withParagraphs:!0})}))})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWPEditedMessageHistoryEntry.react",["MWGhostMessageBubbleWrapper.react","MWPEditMessageHistoryListText.react","MWXMessageBubble.react","defaultMWPThreadTheme","react","stylex","useMWPThreadTheme"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useState,d=23,m=14,p={border:{boxShadow:"x7h7r2v",$$css:!0},makeSpaceForMessageActions:{maxWidth:"x1no2skz",$$css:!0},messageBubbleIncoming:{paddingInlineEnd:"x1r41h1w",$$css:!0},messageBubbleOutgoing:{paddingInlineStart:"xprvd4o",$$css:!0}};function _(t){var n,a=t.isReply,i=t.isSecureMessage,l=t.messageHistoryEntry,s=t.outgoing,d=t.renderMessageActions,m={color_DEPRECATED:s?"white":void 0,weight_DEPRECATED:"semibold"},_=c(!1),f=_[0],g=_[1],h=r("useMWPThreadTheme")(),y=o("defaultMWPThreadTheme").isDefaultTheme(h==null||(n=h.threadTheme)==null?void 0:n.fbid),C=y?r("MWGhostMessageBubbleWrapper.react"):u.Fragment;return u.jsxs("div",babelHelpers.extends({},{0:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli"},2:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli xbyyjgo"},1:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli x15zctf7"},3:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli xbyyjgo x15zctf7"}}[!y<<1|!!s<<0],{"data-testid":void 0,onMouseEnter:function(){d!=null&&g(!0)},onMouseLeave:function(){d!=null&&g(!1)},role:"none",children:[u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(d?p.makeSpaceForMessageActions:s?p.messageBubbleOutgoing:p.messageBubbleIncoming),{children:u.jsx(C,{children:u.jsx(r("MWXMessageBubble.react"),{align:s?"right":"left",color:s?"outgoing":"incoming",connectBottom:!1,connectTop:!1,variant:y?"default":"opaque",xstyle:!s&&a&&p.border,children:u.jsx(r("MWPEditMessageHistoryListText.react"),{isSecureMessage:i,maxLength:300,maxLines:3,outgoing:s,ranges:[],seeLessLinkProps:m,seeMoreLinkProps:m,text:l.messageContent||"",textColor:y?"secondary":s?"white":"primary",truncationStyle:"see-more-and-less"})})})})),d&&f?u.jsx("div",{className:"xc26acl x78zum5",children:d(l)}):null]}))}_.displayName=_.name+" [from "+i.id+"]",l.MWPEditedMessageHistoryEntry=_}),98);
__d("useEditMessageHistoryLS",["ReQL","ReQLSuspense","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useMemo;function c(t,n){var a=(e||(e=r("useReStore")))(),l=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(a.tables.edit_message_history.index("originalMsgPkEditTs")).getKeyRange(t)},[a,t],i.id+":29");return u(function(){return n?l.slice(0,-1):l},[l,n])}l.default=c}),98);
__d("MWPEditedMessageHistoryList.react",["I64","MWMessageEditContext.react","MWPEditedMessageHistoryEntry.react","QPLUserFlow","qpl","react","stylex","useEditMessageHistoryLS"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useEffect,m=45,p=8,_={base:{backgroundColor:"x1eb86dx",maxWidth:"x193iq5w",zIndex:"x1vjfegm",$$css:!0},incoming:{display:"x1lliihq",paddingInlineStart:"xua2c09",$$css:!0},outgoing:{display:"x1lliihq",paddingInlineEnd:"xf159sx",$$css:!0}};function f(t){var n=t.editCount,a=t.isReply,i=t.isSecureMessage,l=t.msgId,s=t.outgoing,m=t.renderMessageActions,p=t.threadType,f=t.xstyle,g=o("MWMessageEditContext.react").useMWMessageEditContext()||{showEdits:!1},h=g.showEdits,y=r("useEditMessageHistoryLS")(l,i);d(function(){h&&(r("QPLUserFlow").addAnnotations(r("qpl")._(1056849214,"1777"),{bool:{isSecureMessage:i},int:{threadType:(u||(u=o("I64"))).to_int32(p)}}),y!=null&&n!=null&&y.length===(u||(u=o("I64"))).to_int32(n)?r("QPLUserFlow").endSuccess(r("qpl")._(1056849214,"1777")):r("QPLUserFlow").endFailure(r("qpl")._(1056849214,"1777"),"no edits found"))},[y,n,h,i,p]);var C=c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(_.base,s?_.outgoing:_.incoming,f),{role:"none",children:y.map(function(e,t){return c.jsx(o("MWPEditedMessageHistoryEntry.react").MWPEditedMessageHistoryEntry,{isReply:a,isSecureMessage:i,messageHistoryEntry:e,outgoing:s,renderMessageActions:m},t)})}));return h?C:null}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("MWXToast.react",["MDSToastUtils","cr:1339","cr:3542","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,r,a=e.actions,i=e.announcementType,l=i===void 0?"general":i,u=e.assertive,c=u===void 0?!1:u,d=e.body,m=e.icon,p=e.impressionLoggingRef,_=e.onDismiss,f=e.startAddOn,g=f===void 0?null:f,h=e.supressCloseButton,y=h===void 0?!1:h,C=e.testid,b=C===void 0?"mw-toast":C,v=e.title,S=(m==null?void 0:m.mds)!=null?{hiddenAria:!0,source:m==null?void 0:m.mds,type:"icon"}:void 0,R=(t=m==null?void 0:m.comet)!=null?t:void 0,L=v!=null&&d!=null?s.jsxs(s.Fragment,{children:[v,s.jsx("br",{}),d]}):(r=v!=null?v:d)!=null?r:"",E=s.jsxs(s.Fragment,{children:[o("MDSToastUtils").useAnnouncementTitle(l),L]}),k={icon:R,impressionLoggingRef:p,message:E,onDismiss:_,testid:b,withoutCloseButton:y};return n("cr:3542")!=null?s.jsx(n("cr:3542"),{actions:a,announcementType:l,assertive:c,body:d,closeButtonAriaHidden:!0,impressionLoggingRef:p,onDismiss:_,startAddOn:g!==null?g:S,testid:void 0,title:v,withCloseButton:!y}):n("cr:1339")!=null?a!=null?s.jsx(n("cr:1339"),babelHelpers.extends({},k,{action:babelHelpers.extends({},a.primaryCallToAction)})):s.jsx(n("cr:1339"),babelHelpers.extends({},k)):null}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("PolarisDirectVerifiedUserCallingNotEnabledModalQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29587722120841677"}),null);
__d("PolarisDirectVerifiedUserCallingNotEnabledModalQuery.graphql",["PolarisDirectVerifiedUserCallingNotEnabledModalQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"FXCALSettings",kind:"LinkedField",name:"fxcal_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_user_see_centralized_settings_new_app_ia",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_project_elevation_one_point_five_enabled",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisDirectVerifiedUserCallingNotEnabledModalQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"PolarisDirectVerifiedUserCallingNotEnabledModalQuery",selections:e},params:{id:n("PolarisDirectVerifiedUserCallingNotEnabledModalQuery_instagramRelayOperation"),metadata:{},name:"PolarisDirectVerifiedUserCallingNotEnabledModalQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("PolarisDirectVerifiedUserCallingNotEnabledModal.react",["fbt","CometRelay","CometRelayEnvironmentProvider","IGCoreModal.react","IGDSActionDialog.react","IGDSDialogItem.react","PolarisDirectVerifiedUserCallingNotEnabledModalQuery.graphql","PolarisRoutes","react","react-compiler-runtime","useCometRouterDispatcher"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=s._(/*BTDS*/"You can turn on calling to call and receive calls from account you follow. You can turn this off at any time in your settings."),m=s._(/*BTDS*/"Turn on calling?"),p=s._(/*BTDS*/"Turn On"),_=s._(/*BTDS*/"Not now");function f(){var t=o("react-compiler-runtime").c(8),a=r("useCometRouterDispatcher")(),i=g,l=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("PolarisDirectVerifiedUserCallingNotEnabledModalQuery.graphql"),{}),s=l.fxcal_settings,u=(s==null?void 0:s.should_user_see_centralized_settings_new_app_ia)===!0&&(s==null?void 0:s.ig_project_elevation_one_point_five_enabled)===!0,f;t[0]!==a||t[1]!==u?(f=function(){i(),a==null||a.go(u?o("PolarisRoutes").HOW_OTHERS_CAN_INTERACT_PATH:o("PolarisRoutes").PRIVACY_AND_SECURITY_PATH,{})},t[0]=a,t[1]=u,t[2]=f):f=t[2];var h=f,y;t[3]!==h?(y=c.jsx(o("IGDSDialogItem.react").IGDSDialogItem,{color:"primaryButton",onClick:h,children:p}),t[3]=h,t[4]=y):y=t[4];var C;t[5]===Symbol.for("react.memo_cache_sentinel")?(C=c.jsx(o("IGDSDialogItem.react").IGDSDialogItem,{onClick:i,children:_}),t[5]=C):C=t[5];var b;return t[6]!==y?(b=c.jsx(r("IGCoreModal.react"),{children:c.jsxs(r("IGDSActionDialog.react"),{body:d,closeButtonPosition:"background",onModalClose:i,title:m,children:[y,C]})}),t[6]=y,t[7]=b):b=t[7],b}function g(){}function h(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=c.jsx(r("CometRelayEnvironmentProvider"),{children:c.jsx(f,{})}),e[0]=t):t=e[0],t}l.default=h}),226);
__d("PolarisLoggedOutPreviewOptionsDialog.react",["fbt","IGDMessageContextMenuItem.react","IGDSBox.react","IGDSPopover.react","IGDSReportPanoOutline24Icon.react","PolarisExternalRoutes","PolarisLinkBuilder","PolarisNavigationStrings","PolarisNavigationUtils","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(7),n=e.onClose,a=e.threadId,i;t[0]!==n||t[1]!==a?(i=function(){o("PolarisNavigationUtils").openExternalURL(o("PolarisLinkBuilder").buildLoggedOutReportChannelLink(o("PolarisExternalRoutes").COMMUNITY_VIOLATIONS_GUIDELINES_CONTACT_FORM_PATH_FOR_CHANNELS,a)),n()},t[0]=n,t[1]=a,t[2]=i):i=t[2];var l=i,c;t[3]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsx(r("IGDSReportPanoOutline24Icon.react"),{alt:s._(/*BTDS*/"label"),color:"ig-error-or-destructive",size:18}),t[3]=c):c=t[3];var d;t[4]===Symbol.for("react.memo_cache_sentinel")?(d={color:"errorOrDestructive"},t[4]=d):d=t[4];var m;return t[5]!==l?(m=u.jsx(r("IGDSPopover.react"),{popoverContent:u.jsx(r("IGDSBox.react"),{minWidth:120,padding:1,children:u.jsx(r("IGDMessageContextMenuItem.react"),{icon:c,label:o("PolarisNavigationStrings").REPORT_USER_TEXT,labelProps:d,onClick:l,testid:void 0})})}),t[5]=l,t[6]=m):m=t[6],m}l.default=c}),226);
__d("SupportAISitevarConfigJSModuleWrapper",["SupportAISitevarConfig"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("SupportAISitevarConfig")}),98);
__d("logMessengerWebFalcoEvent",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=["hasMissingMessage"],s;function u(t,n,a,i){var l=t.threadKey,u=t.threadType;if(a!=null){var c=o("LSMessagingThreadTypeUtil").isArmadilloSecure(u),d=o("LSMessagingThreadTypeUtil").isGroup(u),m=(s||(s=o("I64"))).to_string(l),p=i!=null?i:{},_=p.hasMissingMessage,f=babelHelpers.objectWithoutPropertiesLoose(p,e),g=i!=null?i:{},h=g.MAW_vs_EB_numOfMissingInReference,y=g.MAW_vs_EB_numOfMissingInTarget,C=g.UI_vs_EB_numOfMissingInReference,b=g.UI_vs_EB_numOfMissingInTarget,v=g.UI_vs_MAW_numOfMissingInReference,S=g.UI_vs_MAW_numOfMissingInTarget,R=g.pageSize;r("MessengerWebEventsFalcoEvent").log(function(){return{client_timestamp:Date.now().toString(),entry_point:a,event_name:n,extra_data:f,has_message_missing:_,is_secured:c,missing_messages_maw_vs_eb_missing_in_reference_count:h,missing_messages_maw_vs_eb_missing_in_target_count:y,missing_messages_page_size:R,missing_messages_ui_vs_eb_missing_in_reference_count:C,missing_messages_ui_vs_eb_missing_in_target_count:b,missing_messages_ui_vs_maw_missing_in_reference_count:v,missing_messages_ui_vs_maw_missing_in_target_count:S,other_user_fbid:d||c?void 0:m,thread_fbid:m}})}}l.default=u}),98);
__d("mwPushToast",["ix","BaseToasterStateManager","MWXToast.react","cr:4379","cr:6570","fbicon","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("BaseToasterStateManager").getInstance();function d(e,t){var n=e.announcementType,o=e.assertive,a=e.body,i=e.icon,l=e.impressionLoggingRef,s=e.onDismiss,d=e.startAddOn,m=d===void 0?null:d,p=e.supressCloseButton,_=p===void 0?!1:p,f=e.testid,g=e.title;t===void 0&&(t=2750);var h=c.push(u.jsx(r("MWXToast.react"),{announcementType:n,assertive:o,body:a,icon:i,impressionLoggingRef:l,onDismiss:function(){c.expire(h),s==null||s()},startAddOn:m,supressCloseButton:_,testid:void 0,title:g}),t);return h}function m(e,t){var r=e.body,a=e.onDismiss,i=e.title;t===void 0&&(t=2750);var l=n("cr:6570")!==null?u.jsx(n("cr:6570"),{color:"warning",icon:o("fbicon")._(s("502062"),20)}):void 0,c=n("cr:4379")!=null?n("cr:4379"):void 0;return d({announcementType:"warning",assertive:!0,body:r,icon:{comet:l,mds:c},onDismiss:a,title:i},t)}l.mwPushToast=d,l.mwPushErrorToast=m}),98);
__d("useMessengerWebThreadSeenLogging",["CometDebounce","I64","Int64Hooks","MessengerWebUXLogger","logMessengerWebFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.consistentThreadFbid,a=t.entryPoint,i=t.threadKey,l=t.threadType,s=r("MessengerWebUXLogger").useInteractionLogger(),u=r("CometDebounce")(function(){a!=null&&r("logMessengerWebFalcoEvent")({threadKey:i,threadType:l},"seen_receipt",a),s==null||s({entryPoint:a,eventName:"read_receipt",extraData:{consistent_thread_fbid:(e||(e=o("I64"))).to_string(n!=null?n:(e||(e=o("I64"))).zero)},threadKey:i,threadType:l})});return o("Int64Hooks").useCallbackInt64(function(){return u()},[u])}l.default=s}),98);